var Gc=Object.defineProperty;var Xc=(t,r,s)=>r in t?Gc(t,r,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[r]=s;var Ze=(t,r,s)=>Xc(t,typeof r!="symbol"?r+"":r,s);import{r as k,j as e,S as zi,R as Yc,T as Qc,a as Kc,b as qi,c as Ui,C as Jc,d as Zc,e as e0,D as t0,P as r0,O as s0,f as Vr,u as lr,g as Wr,h as Ee,i as Le,k as Vi,l as Be,m as Ve,n as ce,o as Wi,p as Gi,q as n0,s as o0,t as i0,v as a0,w as Qn,x as Xi,y as Kn,z as l0,A as c0,B as Yi,E as d0,F as u0,G as h0,H as p0,I as m0,J as Qo,K as f0}from"./vendor-radix-D5SgF66R.js";import{a as g0,b as x0,g as b0,r as w0}from"./vendor-react-BL0ab9U3.js";(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const d of a.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&n(d)}).observe(document,{childList:!0,subtree:!0});function s(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(i){if(i.ep)return;i.ep=!0;const a=s(i);fetch(i.href,a)}})();var ms={},Ko;function y0(){if(Ko)return ms;Ko=1;var t=g0();return ms.createRoot=t.createRoot,ms.hydrateRoot=t.hydrateRoot,ms}var Jo=y0();/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v0=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),k0=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(r,s,n)=>n?n.toUpperCase():s.toLowerCase()),Zo=t=>{const r=k0(t);return r.charAt(0).toUpperCase()+r.slice(1)},Qi=(...t)=>t.filter((r,s,n)=>!!r&&r.trim()!==""&&n.indexOf(r)===s).join(" ").trim();/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var N0={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j0=k.forwardRef(({color:t="currentColor",size:r=24,strokeWidth:s=2,absoluteStrokeWidth:n,className:i="",children:a,iconNode:d,...h},c)=>k.createElement("svg",{ref:c,...N0,width:r,height:r,stroke:t,strokeWidth:n?Number(s)*24/Number(r):s,className:Qi("lucide",i),...h},[...d.map(([l,p])=>k.createElement(l,p)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const se=(t,r)=>{const s=k.forwardRef(({className:n,...i},a)=>k.createElement(j0,{ref:a,iconNode:r,className:Qi(`lucide-${v0(Zo(t))}`,`lucide-${t}`,n),...i}));return s.displayName=Zo(t),s};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S0=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],tt=se("activity",S0);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _0=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],C0=se("arrow-left",_0);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E0=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],T0=se("arrow-right",E0);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R0=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],Ki=se("bell",R0);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A0=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],P0=se("book-open",A0);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M0=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],$e=se("calendar",M0);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I0=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],cr=se("check",I0);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L0=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Gr=se("chevron-down",L0);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O0=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],Fr=se("chevron-left",O0);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D0=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],et=se("chevron-right",D0);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F0=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],Ji=se("chevron-up",F0);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $0=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Ps=se("circle-alert",$0);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B0=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],H0=se("circle-check",B0);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z0=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],An=se("circle-help",z0);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q0=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],ei=se("circle",q0);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U0=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],dr=se("clock",U0);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V0=[["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"M16 14v6",key:"1j4efv"}],["path",{d:"M8 14v6",key:"17c4r9"}],["path",{d:"M12 16v6",key:"c8a4gj"}]],W0=se("cloud-rain",V0);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G0=[["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M14 2v2",key:"6buw04"}],["path",{d:"M16 8a1 1 0 0 1 1 1v8a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4V9a1 1 0 0 1 1-1h14a4 4 0 1 1 0 8h-1",key:"pwadti"}],["path",{d:"M6 2v2",key:"colzsn"}]],Ir=se("coffee",G0);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X0=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],Y0=se("copy",X0);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q0=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]],Zi=se("download",Q0);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K0=[["path",{d:"M7 16.3c2.2 0 4-1.83 4-4.05 0-1.16-.57-2.26-1.71-3.19S7.29 6.75 7 5.3c-.29 1.45-1.14 2.84-2.29 3.76S3 11.1 3 12.25c0 2.22 1.8 4.05 4 4.05z",key:"1ptgy4"}],["path",{d:"M12.56 6.6A10.97 10.97 0 0 0 14 3.02c.5 2.5 2 4.9 4 6.5s3 3.5 3 5.5a6.98 6.98 0 0 1-11.91 4.97",key:"1sl1rz"}]],ea=se("droplets",K0);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J0=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],ta=se("external-link",J0);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z0=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],ra=se("eye",Z0);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ed=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],ti=se("file-text",ed);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const td=[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]],Jn=se("flame",td);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rd=[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]],Pn=se("heart",rd);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sd=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],nd=se("house",sd);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const od=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],rt=se("info",od);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const id=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Mn=se("loader-circle",id);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ad=[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]],ld=se("mail",ad);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cd=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],ys=se("map-pin",cd);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dd=[["path",{d:"M5 12h14",key:"1ays0h"}]],ud=se("minus",dd);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hd=[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]],xt=se("moon",hd);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pd=[["path",{d:"m10.5 20.5 10-10a4.95 4.95 0 1 0-7-7l-10 10a4.95 4.95 0 1 0 7 7Z",key:"wa1lgi"}],["path",{d:"m8.5 8.5 7 7",key:"rvfmvr"}]],md=se("pill",pd);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fd=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],ri=se("plus",fd);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gd=[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]],xd=se("server",gd);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bd=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],In=se("share-2",bd);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wd=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],mn=se("shield",wd);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yd=[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]],vs=se("smartphone",yd);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vd=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],kd=se("trash-2",vd);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nd=[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]],sa=se("trending-down",Nd);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jd=[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]],Ms=se("trending-up",jd);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sd=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],_d=se("user",Sd);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cd=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]],Ed=se("users",Cd);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Td=[["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["polyline",{points:"12 10 12 12 13 13",key:"19dquz"}],["path",{d:"m16.13 7.66-.81-4.05a2 2 0 0 0-2-1.61h-2.68a2 2 0 0 0-2 1.61l-.78 4.05",key:"18k57s"}],["path",{d:"m7.88 16.36.8 4a2 2 0 0 0 2 1.61h2.72a2 2 0 0 0 2-1.61l.81-4.05",key:"16ny36"}]],Rd=se("watch",Td);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ad=[["path",{d:"M12.8 19.6A2 2 0 1 0 14 16H2",key:"148xed"}],["path",{d:"M17.5 8a2.5 2.5 0 1 1 2 4H2",key:"1u4tom"}],["path",{d:"M9.8 4.4A2 2 0 1 1 11 8H2",key:"75valh"}]],Pd=se("wind",Ad);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Md=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],lt=se("x",Md);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Id=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],ks=se("zap",Id);var fn={exports:{}};const Ld={},Od=Object.freeze(Object.defineProperty({__proto__:null,default:Ld},Symbol.toStringTag,{value:"Module"})),si=x0(Od);var ni;function Dd(){return ni||(ni=1,(function(t,r){var s=void 0,n=function(i){return s||(s=new Promise(function(a,d){var h=typeof i<"u"?i:{},c=h.onAbort;h.onAbort=function(o){d(new Error(o)),c&&c(o)},h.postRun=h.postRun||[],h.postRun.push(function(){a(h)}),t=void 0;var l;l||(l=typeof h<"u"?h:{});var p=typeof window=="object",f=typeof WorkerGlobalScope<"u",b=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string"&&process.type!="renderer";l.onRuntimeInitialized=function(){function o(T,B){switch(typeof B){case"boolean":Vc(T,B?1:0);break;case"number":zc(T,B);break;case"string":qc(T,B,-1,-1);break;case"object":if(B===null)Wo(T);else if(B.length!=null){var K=us(B,ds);Uc(T,K,B.length,-1),hs(K)}else ps(T,"Wrong API use : tried to return a value of an unknown type ("+B+").",-1);break;default:Wo(T)}}function u(T,B){for(var K=[],re=0;re<T;re+=1){var le=z(B+4*re,"i32"),Ne=Dc(le);if(Ne===1||Ne===2)le=Hc(le);else if(Ne===3)le=$c(le);else if(Ne===4){Ne=le,le=Fc(Ne),Ne=Bc(Ne);for(var st=new Uint8Array(le),Je=0;Je<le;Je+=1)st[Je]=$[Ne+Je];le=st}else le=null;K.push(le)}return K}function m(T,B){this.Qa=T,this.db=B,this.Oa=1,this.lb=[]}function y(T,B){if(this.db=B,B=$t(T)+1,this.eb=un(B),this.eb===null)throw Error("Unable to allocate memory for the SQL string");Ke(T,R,this.eb,B),this.kb=this.eb,this.Za=this.pb=null}function S(T){if(this.filename="dbfile_"+(4294967295*Math.random()>>>0),T!=null){var B=this.filename,K="/",re=B;if(K&&(K=typeof K=="string"?K:Js(K),re=B?Qe(K+"/"+B):K),B=Jr(!0,!0),re=pc(re,B),T){if(typeof T=="string"){K=Array(T.length);for(var le=0,Ne=T.length;le<Ne;++le)K[le]=T.charCodeAt(le);T=K}is(re,B|146),K=tr(re,577),Oo(K,T,0,T.length,0),nn(K),is(re,B)}}this.handleError(te(this.filename,A)),this.db=z(A,"i32"),Xo(this.db),this.fb={},this.Sa={}}var A=At(4),D=l.cwrap,te=D("sqlite3_open","number",["string","number"]),me=D("sqlite3_close_v2","number",["number"]),de=D("sqlite3_exec","number",["number","string","number","number","number"]),Pe=D("sqlite3_changes","number",["number"]),Ue=D("sqlite3_prepare_v2","number",["number","string","number","number","number"]),Ho=D("sqlite3_sql","string",["number"]),yc=D("sqlite3_normalized_sql","string",["number"]),zo=D("sqlite3_prepare_v2","number",["number","number","number","number","number"]),vc=D("sqlite3_bind_text","number",["number","number","number","number","number"]),qo=D("sqlite3_bind_blob","number",["number","number","number","number","number"]),kc=D("sqlite3_bind_double","number",["number","number","number"]),Nc=D("sqlite3_bind_int","number",["number","number","number"]),jc=D("sqlite3_bind_parameter_index","number",["number","string"]),Sc=D("sqlite3_step","number",["number"]),_c=D("sqlite3_errmsg","string",["number"]),Cc=D("sqlite3_column_count","number",["number"]),Ec=D("sqlite3_data_count","number",["number"]),Tc=D("sqlite3_column_double","number",["number","number"]),Uo=D("sqlite3_column_text","string",["number","number"]),Rc=D("sqlite3_column_blob","number",["number","number"]),Ac=D("sqlite3_column_bytes","number",["number","number"]),Pc=D("sqlite3_column_type","number",["number","number"]),Mc=D("sqlite3_column_name","string",["number","number"]),Ic=D("sqlite3_reset","number",["number"]),Lc=D("sqlite3_clear_bindings","number",["number"]),Oc=D("sqlite3_finalize","number",["number"]),Vo=D("sqlite3_create_function_v2","number","number string number number number number number number number".split(" ")),Dc=D("sqlite3_value_type","number",["number"]),Fc=D("sqlite3_value_bytes","number",["number"]),$c=D("sqlite3_value_text","string",["number"]),Bc=D("sqlite3_value_blob","number",["number"]),Hc=D("sqlite3_value_double","number",["number"]),zc=D("sqlite3_result_double","",["number","number"]),Wo=D("sqlite3_result_null","",["number"]),qc=D("sqlite3_result_text","",["number","string","number","number"]),Uc=D("sqlite3_result_blob","",["number","number","number","number"]),Vc=D("sqlite3_result_int","",["number","number"]),ps=D("sqlite3_result_error","",["number","string","number"]),Go=D("sqlite3_aggregate_context","number",["number","number"]),Xo=D("RegisterExtensionFunctions","number",["number"]),Yo=D("sqlite3_update_hook","number",["number","number","number"]);m.prototype.bind=function(T){if(!this.Qa)throw"Statement closed";return this.reset(),Array.isArray(T)?this.Cb(T):T!=null&&typeof T=="object"?this.Db(T):!0},m.prototype.step=function(){if(!this.Qa)throw"Statement closed";this.Oa=1;var T=Sc(this.Qa);switch(T){case 100:return!0;case 101:return!1;default:throw this.db.handleError(T)}},m.prototype.wb=function(T){return T==null&&(T=this.Oa,this.Oa+=1),Tc(this.Qa,T)},m.prototype.Gb=function(T){if(T==null&&(T=this.Oa,this.Oa+=1),T=Uo(this.Qa,T),typeof BigInt!="function")throw Error("BigInt is not supported");return BigInt(T)},m.prototype.Hb=function(T){return T==null&&(T=this.Oa,this.Oa+=1),Uo(this.Qa,T)},m.prototype.getBlob=function(T){T==null&&(T=this.Oa,this.Oa+=1);var B=Ac(this.Qa,T);T=Rc(this.Qa,T);for(var K=new Uint8Array(B),re=0;re<B;re+=1)K[re]=$[T+re];return K},m.prototype.get=function(T,B){B=B||{},T!=null&&this.bind(T)&&this.step(),T=[];for(var K=Ec(this.Qa),re=0;re<K;re+=1)switch(Pc(this.Qa,re)){case 1:var le=B.useBigInt?this.Gb(re):this.wb(re);T.push(le);break;case 2:T.push(this.wb(re));break;case 3:T.push(this.Hb(re));break;case 4:T.push(this.getBlob(re));break;default:T.push(null)}return T},m.prototype.getColumnNames=function(){for(var T=[],B=Cc(this.Qa),K=0;K<B;K+=1)T.push(Mc(this.Qa,K));return T},m.prototype.getAsObject=function(T,B){T=this.get(T,B),B=this.getColumnNames();for(var K={},re=0;re<B.length;re+=1)K[B[re]]=T[re];return K},m.prototype.getSQL=function(){return Ho(this.Qa)},m.prototype.getNormalizedSQL=function(){return yc(this.Qa)},m.prototype.run=function(T){return T!=null&&this.bind(T),this.step(),this.reset()},m.prototype.sb=function(T,B){B==null&&(B=this.Oa,this.Oa+=1),T=Kr(T);var K=us(T,ds);this.lb.push(K),this.db.handleError(vc(this.Qa,B,K,T.length-1,0))},m.prototype.Bb=function(T,B){B==null&&(B=this.Oa,this.Oa+=1);var K=us(T,ds);this.lb.push(K),this.db.handleError(qo(this.Qa,B,K,T.length,0))},m.prototype.rb=function(T,B){B==null&&(B=this.Oa,this.Oa+=1),this.db.handleError((T===(T|0)?Nc:kc)(this.Qa,B,T))},m.prototype.Eb=function(T){T==null&&(T=this.Oa,this.Oa+=1),qo(this.Qa,T,0,0,0)},m.prototype.tb=function(T,B){switch(B==null&&(B=this.Oa,this.Oa+=1),typeof T){case"string":this.sb(T,B);return;case"number":this.rb(T,B);return;case"bigint":this.sb(T.toString(),B);return;case"boolean":this.rb(T+0,B);return;case"object":if(T===null){this.Eb(B);return}if(T.length!=null){this.Bb(T,B);return}}throw"Wrong API use : tried to bind a value of an unknown type ("+T+")."},m.prototype.Db=function(T){var B=this;return Object.keys(T).forEach(function(K){var re=jc(B.Qa,K);re!==0&&B.tb(T[K],re)}),!0},m.prototype.Cb=function(T){for(var B=0;B<T.length;B+=1)this.tb(T[B],B+1);return!0},m.prototype.reset=function(){return this.freemem(),Lc(this.Qa)===0&&Ic(this.Qa)===0},m.prototype.freemem=function(){for(var T;(T=this.lb.pop())!==void 0;)hs(T)},m.prototype.free=function(){this.freemem();var T=Oc(this.Qa)===0;return delete this.db.fb[this.Qa],this.Qa=0,T},y.prototype.next=function(){if(this.eb===null)return{done:!0};if(this.Za!==null&&(this.Za.free(),this.Za=null),!this.db.db)throw this.mb(),Error("Database closed");var T=Er(),B=At(4);ve(A),ve(B);try{this.db.handleError(zo(this.db.db,this.kb,-1,A,B)),this.kb=z(B,"i32");var K=z(A,"i32");return K===0?(this.mb(),{done:!0}):(this.Za=new m(K,this.db),this.db.fb[K]=this.Za,{value:this.Za,done:!1})}catch(re){throw this.pb=Fe(this.kb),this.mb(),re}finally{Cr(T)}},y.prototype.mb=function(){hs(this.eb),this.eb=null},y.prototype.getRemainingSQL=function(){return this.pb!==null?this.pb:Fe(this.kb)},typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"&&(y.prototype[Symbol.iterator]=function(){return this}),S.prototype.run=function(T,B){if(!this.db)throw"Database closed";if(B){T=this.prepare(T,B);try{T.step()}finally{T.free()}}else this.handleError(de(this.db,T,0,0,A));return this},S.prototype.exec=function(T,B,K){if(!this.db)throw"Database closed";var re=Er(),le=null;try{var Ne=cn(T),st=At(4);for(T=[];z(Ne,"i8")!==0;){ve(A),ve(st),this.handleError(zo(this.db,Ne,-1,A,st));var Je=z(A,"i32");if(Ne=z(st,"i32"),Je!==0){var We=null;for(le=new m(Je,this),B!=null&&le.bind(B);le.step();)We===null&&(We={columns:le.getColumnNames(),values:[]},T.push(We)),We.values.push(le.get(null,K));le.free()}}return T}catch(nt){throw le&&le.free(),nt}finally{Cr(re)}},S.prototype.each=function(T,B,K,re,le){typeof B=="function"&&(re=K,K=B,B=void 0),T=this.prepare(T,B);try{for(;T.step();)K(T.getAsObject(null,le))}finally{T.free()}if(typeof re=="function")return re()},S.prototype.prepare=function(T,B){if(ve(A),this.handleError(Ue(this.db,T,-1,A,0)),T=z(A,"i32"),T===0)throw"Nothing to prepare";var K=new m(T,this);return B!=null&&K.bind(B),this.fb[T]=K},S.prototype.iterateStatements=function(T){return new y(T,this)},S.prototype.export=function(){Object.values(this.fb).forEach(function(B){B.free()}),Object.values(this.Sa).forEach(Rt),this.Sa={},this.handleError(me(this.db));var T=mc(this.filename);return this.handleError(te(this.filename,A)),this.db=z(A,"i32"),Xo(this.db),T},S.prototype.close=function(){this.db!==null&&(Object.values(this.fb).forEach(function(T){T.free()}),Object.values(this.Sa).forEach(Rt),this.Sa={},this.Ya&&(Rt(this.Ya),this.Ya=void 0),this.handleError(me(this.db)),Ao("/"+this.filename),this.db=null)},S.prototype.handleError=function(T){if(T===0)return null;throw T=_c(this.db),Error(T)},S.prototype.getRowsModified=function(){return Pe(this.db)},S.prototype.create_function=function(T,B){Object.prototype.hasOwnProperty.call(this.Sa,T)&&(Rt(this.Sa[T]),delete this.Sa[T]);var K=_r(function(re,le,Ne){le=u(le,Ne);try{var st=B.apply(null,le)}catch(Je){ps(re,Je,-1);return}o(re,st)},"viii");return this.Sa[T]=K,this.handleError(Vo(this.db,T,B.length,1,0,K,0,0,0)),this},S.prototype.create_aggregate=function(T,B){var K=B.init||function(){return null},re=B.finalize||function(We){return We},le=B.step;if(!le)throw"An aggregate function must have a step function in "+T;var Ne={};Object.hasOwnProperty.call(this.Sa,T)&&(Rt(this.Sa[T]),delete this.Sa[T]),B=T+"__finalize",Object.hasOwnProperty.call(this.Sa,B)&&(Rt(this.Sa[B]),delete this.Sa[B]);var st=_r(function(We,nt,pn){var qt=Go(We,1);Object.hasOwnProperty.call(Ne,qt)||(Ne[qt]=K()),nt=u(nt,pn),nt=[Ne[qt]].concat(nt);try{Ne[qt]=le.apply(null,nt)}catch(Wc){delete Ne[qt],ps(We,Wc,-1)}},"viii"),Je=_r(function(We){var nt=Go(We,1);try{var pn=re(Ne[nt])}catch(qt){delete Ne[nt],ps(We,qt,-1);return}o(We,pn),delete Ne[nt]},"vi");return this.Sa[T]=st,this.Sa[B]=Je,this.handleError(Vo(this.db,T,le.length-1,1,0,0,st,Je,0)),this},S.prototype.updateHook=function(T){this.Ya&&(Yo(this.db,0,0),Rt(this.Ya),this.Ya=void 0),T&&(this.Ya=_r(function(B,K,re,le,Ne){switch(K){case 18:B="insert";break;case 23:B="update";break;case 9:B="delete";break;default:throw"unknown operationCode in updateHook callback: "+K}if(re=re?ge(R,re):"",le=le?ge(R,le):"",Ne>Number.MAX_SAFE_INTEGER)throw"rowId too big to fit inside a Number";T(B,re,le,Number(Ne))},"viiiij"),Yo(this.db,this.Ya,0))},l.Database=S};var w={...l},x="./this.program",g=(o,u)=>{throw u},v="",N,j;if(b){var _=si;v=__dirname+"/",j=o=>(o=F(o)?new URL(o):o,_.readFileSync(o)),N=async o=>(o=F(o)?new URL(o):o,_.readFileSync(o,void 0)),!l.thisProgram&&1<process.argv.length&&(x=process.argv[1].replace(/\\/g,"/")),process.argv.slice(2),t.exports=l,g=(o,u)=>{throw process.exitCode=o,u}}else(p||f)&&(f?v=self.location.href:typeof document<"u"&&document.currentScript&&(v=document.currentScript.src),v=v.startsWith("blob:")?"":v.slice(0,v.replace(/[?#].*/,"").lastIndexOf("/")+1),f&&(j=o=>{var u=new XMLHttpRequest;return u.open("GET",o,!1),u.responseType="arraybuffer",u.send(null),new Uint8Array(u.response)}),N=async o=>{if(F(o))return new Promise((m,y)=>{var S=new XMLHttpRequest;S.open("GET",o,!0),S.responseType="arraybuffer",S.onload=()=>{S.status==200||S.status==0&&S.response?m(S.response):y(S.status)},S.onerror=y,S.send(null)});var u=await fetch(o,{credentials:"same-origin"});if(u.ok)return u.arrayBuffer();throw Error(u.status+" : "+u.url)});var I=l.print||console.log.bind(console),M=l.printErr||console.error.bind(console);Object.assign(l,w),w=null,l.thisProgram&&(x=l.thisProgram);var C=l.wasmBinary,P,E=!1,L,$,R,U,H,q,G,W,Q,F=o=>o.startsWith("file://");function ne(){var o=P.buffer;l.HEAP8=$=new Int8Array(o),l.HEAP16=U=new Int16Array(o),l.HEAPU8=R=new Uint8Array(o),l.HEAPU16=new Uint16Array(o),l.HEAP32=H=new Int32Array(o),l.HEAPU32=q=new Uint32Array(o),l.HEAPF32=G=new Float32Array(o),l.HEAPF64=Q=new Float64Array(o),l.HEAP64=W=new BigInt64Array(o),l.HEAPU64=new BigUint64Array(o)}var be=0,ye=null;function _e(o){throw l.onAbort?.(o),o="Aborted("+o+")",M(o),E=!0,new WebAssembly.RuntimeError(o+". Build with -sASSERTIONS for more info.")}var we;async function pe(o){if(!C)try{var u=await N(o);return new Uint8Array(u)}catch{}if(o==we&&C)o=new Uint8Array(C);else if(j)o=j(o);else throw"both async and sync fetching of the wasm failed";return o}async function Ie(o,u){try{var m=await pe(o);return await WebAssembly.instantiate(m,u)}catch(y){M(`failed to asynchronously prepare wasm: ${y}`),_e(y)}}async function Oe(o){var u=we;if(!C&&typeof WebAssembly.instantiateStreaming=="function"&&!F(u)&&!b)try{var m=fetch(u,{credentials:"same-origin"});return await WebAssembly.instantiateStreaming(m,o)}catch(y){M(`wasm streaming compile failed: ${y}`),M("falling back to ArrayBuffer instantiation")}return Ie(u,o)}class O{constructor(u){Ze(this,"name","ExitStatus");this.message=`Program terminated with exit(${u})`,this.status=u}}var J=o=>{for(;0<o.length;)o.shift()(l)},ue=[],oe=[],ee=()=>{var o=l.preRun.shift();oe.unshift(o)};function z(o,u="i8"){switch(u.endsWith("*")&&(u="*"),u){case"i1":return $[o];case"i8":return $[o];case"i16":return U[o>>1];case"i32":return H[o>>2];case"i64":return W[o>>3];case"float":return G[o>>2];case"double":return Q[o>>3];case"*":return q[o>>2];default:_e(`invalid type for getValue: ${u}`)}}var ie=l.noExitRuntime||!0;function ve(o){var u="i32";switch(u.endsWith("*")&&(u="*"),u){case"i1":$[o]=0;break;case"i8":$[o]=0;break;case"i16":U[o>>1]=0;break;case"i32":H[o>>2]=0;break;case"i64":W[o>>3]=BigInt(0);break;case"float":G[o>>2]=0;break;case"double":Q[o>>3]=0;break;case"*":q[o>>2]=0;break;default:_e(`invalid type for setValue: ${u}`)}}var Ae=typeof TextDecoder<"u"?new TextDecoder:void 0,ge=(o,u=0,m=NaN)=>{var y=u+m;for(m=u;o[m]&&!(m>=y);)++m;if(16<m-u&&o.buffer&&Ae)return Ae.decode(o.subarray(u,m));for(y="";u<m;){var S=o[u++];if(S&128){var A=o[u++]&63;if((S&224)==192)y+=String.fromCharCode((S&31)<<6|A);else{var D=o[u++]&63;S=(S&240)==224?(S&15)<<12|A<<6|D:(S&7)<<18|A<<12|D<<6|o[u++]&63,65536>S?y+=String.fromCharCode(S):(S-=65536,y+=String.fromCharCode(55296|S>>10,56320|S&1023))}}else y+=String.fromCharCode(S)}return y},Fe=(o,u)=>o?ge(R,o,u):"",ht=(o,u)=>{for(var m=0,y=o.length-1;0<=y;y--){var S=o[y];S==="."?o.splice(y,1):S===".."?(o.splice(y,1),m++):m&&(o.splice(y,1),m--)}if(u)for(;m;m--)o.unshift("..");return o},Qe=o=>{var u=o.charAt(0)==="/",m=o.slice(-1)==="/";return(o=ht(o.split("/").filter(y=>!!y),!u).join("/"))||u||(o="."),o&&m&&(o+="/"),(u?"/":"")+o},pt=o=>{var u=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/.exec(o).slice(1);return o=u[0],u=u[1],!o&&!u?".":(u&&(u=u.slice(0,-1)),o+u)},mt=o=>o&&o.match(/([^\/]+|\/)\/*$/)[1],xr=()=>{if(b){var o=si;return u=>o.randomFillSync(u)}return u=>crypto.getRandomValues(u)},Qt=o=>{(Qt=xr())(o)},Qr=(...o)=>{for(var u="",m=!1,y=o.length-1;-1<=y&&!m;y--){if(m=0<=y?o[y]:"/",typeof m!="string")throw new TypeError("Arguments to path.resolve must be strings");if(!m)return"";u=m+"/"+u,m=m.charAt(0)==="/"}return u=ht(u.split("/").filter(S=>!!S),!m).join("/"),(m?"/":"")+u||"."},Kt=[],$t=o=>{for(var u=0,m=0;m<o.length;++m){var y=o.charCodeAt(m);127>=y?u++:2047>=y?u+=2:55296<=y&&57343>=y?(u+=4,++m):u+=3}return u},Ke=(o,u,m,y)=>{if(!(0<y))return 0;var S=m;y=m+y-1;for(var A=0;A<o.length;++A){var D=o.charCodeAt(A);if(55296<=D&&57343>=D){var te=o.charCodeAt(++A);D=65536+((D&1023)<<10)|te&1023}if(127>=D){if(m>=y)break;u[m++]=D}else{if(2047>=D){if(m+1>=y)break;u[m++]=192|D>>6}else{if(65535>=D){if(m+2>=y)break;u[m++]=224|D>>12}else{if(m+3>=y)break;u[m++]=240|D>>18,u[m++]=128|D>>12&63}u[m++]=128|D>>6&63}u[m++]=128|D&63}}return u[m]=0,m-S},Kr=(o,u)=>{var m=Array($t(o)+1);return o=Ke(o,m,0,m.length),u&&(m.length=o),m},Jt=[];function kt(o,u){Jt[o]={input:[],output:[],cb:u},rn(o,br)}var br={open(o){var u=Jt[o.node.rdev];if(!u)throw new V(43);o.tty=u,o.seekable=!1},close(o){o.tty.cb.fsync(o.tty)},fsync(o){o.tty.cb.fsync(o.tty)},read(o,u,m,y){if(!o.tty||!o.tty.cb.xb)throw new V(60);for(var S=0,A=0;A<y;A++){try{var D=o.tty.cb.xb(o.tty)}catch{throw new V(29)}if(D===void 0&&S===0)throw new V(6);if(D==null)break;S++,u[m+A]=D}return S&&(o.node.atime=Date.now()),S},write(o,u,m,y){if(!o.tty||!o.tty.cb.qb)throw new V(60);try{for(var S=0;S<y;S++)o.tty.cb.qb(o.tty,u[m+S])}catch{throw new V(29)}return y&&(o.node.mtime=o.node.ctime=Date.now()),S}},wr={xb(){e:{if(!Kt.length){var o=null;if(b){var u=Buffer.alloc(256),m=0,y=process.stdin.fd;try{m=_.readSync(y,u,0,256)}catch(S){if(S.toString().includes("EOF"))m=0;else throw S}0<m&&(o=u.slice(0,m).toString("utf-8"))}else typeof window<"u"&&typeof window.prompt=="function"&&(o=window.prompt("Input: "),o!==null&&(o+=`
`));if(!o){o=null;break e}Kt=Kr(o,!0)}o=Kt.shift()}return o},qb(o,u){u===null||u===10?(I(ge(o.output)),o.output=[]):u!=0&&o.output.push(u)},fsync(o){0<o.output?.length&&(I(ge(o.output)),o.output=[])},Tb(){return{Ob:25856,Qb:5,Nb:191,Pb:35387,Mb:[3,28,127,21,4,0,1,0,17,19,26,0,18,15,23,22,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]}},Ub(){return 0},Vb(){return[24,80]}},Zt={qb(o,u){u===null||u===10?(M(ge(o.output)),o.output=[]):u!=0&&o.output.push(u)},fsync(o){0<o.output?.length&&(M(ge(o.output)),o.output=[])}},ae={Wa:null,Xa(){return ae.createNode(null,"/",16895,0)},createNode(o,u,m,y){if((m&61440)===24576||(m&61440)===4096)throw new V(63);return ae.Wa||(ae.Wa={dir:{node:{Ta:ae.La.Ta,Ua:ae.La.Ua,lookup:ae.La.lookup,hb:ae.La.hb,rename:ae.La.rename,unlink:ae.La.unlink,rmdir:ae.La.rmdir,readdir:ae.La.readdir,symlink:ae.La.symlink},stream:{Va:ae.Ma.Va}},file:{node:{Ta:ae.La.Ta,Ua:ae.La.Ua},stream:{Va:ae.Ma.Va,read:ae.Ma.read,write:ae.Ma.write,ib:ae.Ma.ib,jb:ae.Ma.jb}},link:{node:{Ta:ae.La.Ta,Ua:ae.La.Ua,readlink:ae.La.readlink},stream:{}},ub:{node:{Ta:ae.La.Ta,Ua:ae.La.Ua},stream:hc}}),m=jo(o,u,m,y),qe(m.mode)?(m.La=ae.Wa.dir.node,m.Ma=ae.Wa.dir.stream,m.Na={}):(m.mode&61440)===32768?(m.La=ae.Wa.file.node,m.Ma=ae.Wa.file.stream,m.Ra=0,m.Na=null):(m.mode&61440)===40960?(m.La=ae.Wa.link.node,m.Ma=ae.Wa.link.stream):(m.mode&61440)===8192&&(m.La=ae.Wa.ub.node,m.Ma=ae.Wa.ub.stream),m.atime=m.mtime=m.ctime=Date.now(),o&&(o.Na[u]=m,o.atime=o.mtime=o.ctime=m.atime),m},Sb(o){return o.Na?o.Na.subarray?o.Na.subarray(0,o.Ra):new Uint8Array(o.Na):new Uint8Array(0)},La:{Ta(o){var u={};return u.dev=(o.mode&61440)===8192?o.id:1,u.ino=o.id,u.mode=o.mode,u.nlink=1,u.uid=0,u.gid=0,u.rdev=o.rdev,qe(o.mode)?u.size=4096:(o.mode&61440)===32768?u.size=o.Ra:(o.mode&61440)===40960?u.size=o.link.length:u.size=0,u.atime=new Date(o.atime),u.mtime=new Date(o.mtime),u.ctime=new Date(o.ctime),u.blksize=4096,u.blocks=Math.ceil(u.size/u.blksize),u},Ua(o,u){for(var m of["mode","atime","mtime","ctime"])u[m]!=null&&(o[m]=u[m]);u.size!==void 0&&(u=u.size,o.Ra!=u&&(u==0?(o.Na=null,o.Ra=0):(m=o.Na,o.Na=new Uint8Array(u),m&&o.Na.set(m.subarray(0,Math.min(u,o.Ra))),o.Ra=u)))},lookup(){throw ae.vb},hb(o,u,m,y){return ae.createNode(o,u,m,y)},rename(o,u,m){try{var y=Bt(u,m)}catch{}if(y){if(qe(o.mode))for(var S in y.Na)throw new V(55);en(y)}delete o.parent.Na[o.name],u.Na[m]=o,o.name=m,u.ctime=u.mtime=o.parent.ctime=o.parent.mtime=Date.now()},unlink(o,u){delete o.Na[u],o.ctime=o.mtime=Date.now()},rmdir(o,u){var m=Bt(o,u),y;for(y in m.Na)throw new V(55);delete o.Na[u],o.ctime=o.mtime=Date.now()},readdir(o){return[".","..",...Object.keys(o.Na)]},symlink(o,u,m){return o=ae.createNode(o,u,41471,0),o.link=m,o},readlink(o){if((o.mode&61440)!==40960)throw new V(28);return o.link}},Ma:{read(o,u,m,y,S){var A=o.node.Na;if(S>=o.node.Ra)return 0;if(o=Math.min(o.node.Ra-S,y),8<o&&A.subarray)u.set(A.subarray(S,S+o),m);else for(y=0;y<o;y++)u[m+y]=A[S+y];return o},write(o,u,m,y,S,A){if(u.buffer===$.buffer&&(A=!1),!y)return 0;if(o=o.node,o.mtime=o.ctime=Date.now(),u.subarray&&(!o.Na||o.Na.subarray)){if(A)return o.Na=u.subarray(m,m+y),o.Ra=y;if(o.Ra===0&&S===0)return o.Na=u.slice(m,m+y),o.Ra=y;if(S+y<=o.Ra)return o.Na.set(u.subarray(m,m+y),S),y}A=S+y;var D=o.Na?o.Na.length:0;if(D>=A||(A=Math.max(A,D*(1048576>D?2:1.125)>>>0),D!=0&&(A=Math.max(A,256)),D=o.Na,o.Na=new Uint8Array(A),0<o.Ra&&o.Na.set(D.subarray(0,o.Ra),0)),o.Na.subarray&&u.subarray)o.Na.set(u.subarray(m,m+y),S);else for(A=0;A<y;A++)o.Na[S+A]=u[m+A];return o.Ra=Math.max(o.Ra,S+y),y},Va(o,u,m){if(m===1?u+=o.position:m===2&&(o.node.mode&61440)===32768&&(u+=o.node.Ra),0>u)throw new V(28);return u},ib(o,u,m,y,S){if((o.node.mode&61440)!==32768)throw new V(43);if(o=o.node.Na,S&2||!o||o.buffer!==$.buffer){S=!0,y=65536*Math.ceil(u/65536);var A=$o(65536,y);if(A&&R.fill(0,A,A+y),y=A,!y)throw new V(48);o&&((0<m||m+u<o.length)&&(o.subarray?o=o.subarray(m,m+u):o=Array.prototype.slice.call(o,m,m+u)),$.set(o,y))}else S=!1,y=o.byteOffset;return{Kb:y,Ab:S}},jb(o,u,m,y){return ae.Ma.write(o,u,0,y,m,!1),0}}},Jr=(o,u)=>{var m=0;return o&&(m|=365),u&&(m|=146),m},yr=null,Zr={},Et=[],es=1,ft=null,vr=!1,kr=!0,Nr={},V=class{constructor(o){Ze(this,"name","ErrnoError");this.Pa=o}},ts=class{constructor(){Ze(this,"gb",{});Ze(this,"node",null)}get flags(){return this.gb.flags}set flags(o){this.gb.flags=o}get position(){return this.gb.position}set position(o){this.gb.position=o}},rs=class{constructor(o,u,m,y){Ze(this,"La",{});Ze(this,"Ma",{});Ze(this,"ab",null);o||(o=this),this.parent=o,this.Xa=o.Xa,this.id=es++,this.name=u,this.mode=m,this.rdev=y,this.atime=this.mtime=this.ctime=Date.now()}get read(){return(this.mode&365)===365}set read(o){o?this.mode|=365:this.mode&=-366}get write(){return(this.mode&146)===146}set write(o){o?this.mode|=146:this.mode&=-147}};function ze(o,u={}){if(!o)throw new V(44);u.nb??(u.nb=!0),o.charAt(0)==="/"||(o="//"+o);var m=0;e:for(;40>m;m++){o=o.split("/").filter(te=>!!te);for(var y=yr,S="/",A=0;A<o.length;A++){var D=A===o.length-1;if(D&&u.parent)break;if(o[A]!==".")if(o[A]==="..")S=pt(S),y=y.parent;else{S=Qe(S+"/"+o[A]);try{y=Bt(y,o[A])}catch(te){if(te?.Pa===44&&D&&u.Jb)return{path:S};throw te}if(!y.ab||D&&!u.nb||(y=y.ab.root),(y.mode&61440)===40960&&(!D||u.$a)){if(!y.La.readlink)throw new V(52);y=y.La.readlink(y),y.charAt(0)==="/"||(y=pt(S)+"/"+y),o=y+"/"+o.slice(A+1).join("/");continue e}}}return{path:S,node:y}}throw new V(32)}function Js(o){for(var u;;){if(o===o.parent)return o=o.Xa.zb,u?o[o.length-1]!=="/"?`${o}/${u}`:o+u:o;u=u?`${o.name}/${u}`:o.name,o=o.parent}}function Zs(o,u){for(var m=0,y=0;y<u.length;y++)m=(m<<5)-m+u.charCodeAt(y)|0;return(o+m>>>0)%ft.length}function en(o){var u=Zs(o.parent.id,o.name);if(ft[u]===o)ft[u]=o.bb;else for(u=ft[u];u;){if(u.bb===o){u.bb=o.bb;break}u=u.bb}}function Bt(o,u){var m=qe(o.mode)?(m=er(o,"x"))?m:o.La.lookup?0:2:54;if(m)throw new V(m);for(m=ft[Zs(o.id,u)];m;m=m.bb){var y=m.name;if(m.parent.id===o.id&&y===u)return m}return o.La.lookup(o,u)}function jo(o,u,m,y){return o=new rs(o,u,m,y),u=Zs(o.parent.id,o.name),o.bb=ft[u],ft[u]=o}function qe(o){return(o&61440)===16384}function So(o){var u=["r","w","rw"][o&3];return o&512&&(u+="w"),u}function er(o,u){if(kr)return 0;if(!u.includes("r")||o.mode&292){if(u.includes("w")&&!(o.mode&146)||u.includes("x")&&!(o.mode&73))return 2}else return 2;return 0}function _o(o,u){if(!qe(o.mode))return 54;try{return Bt(o,u),20}catch{}return er(o,"wx")}function Co(o,u,m){try{var y=Bt(o,u)}catch(S){return S.Pa}if(o=er(o,"wx"))return o;if(m){if(!qe(y.mode))return 54;if(y===y.parent||Js(y)==="/")return 10}else if(qe(y.mode))return 31;return 0}function ss(o){if(!o)throw new V(63);return o}function He(o){if(o=Et[o],!o)throw new V(8);return o}function Eo(o,u=-1){if(o=Object.assign(new ts,o),u==-1)e:{for(u=0;4096>=u;u++)if(!Et[u])break e;throw new V(33)}return o.fd=u,Et[u]=o}function uc(o,u=-1){return o=Eo(o,u),o.Ma?.Rb?.(o),o}function tn(o,u,m){var y=o?.Ma.Ua;o=y?o:u,y??(y=u.La.Ua),ss(y),y(o,m)}var hc={open(o){o.Ma=Zr[o.node.rdev].Ma,o.Ma.open?.(o)},Va(){throw new V(70)}};function rn(o,u){Zr[o]={Ma:u}}function To(o,u){var m=u==="/";if(m&&yr)throw new V(10);if(!m&&u){var y=ze(u,{nb:!1});if(u=y.path,y=y.node,y.ab)throw new V(10);if(!qe(y.mode))throw new V(54)}u={type:o,Wb:{},zb:u,Ib:[]},o=o.Xa(u),o.Xa=u,u.root=o,m?yr=o:y&&(y.ab=u,y.Xa&&y.Xa.Ib.push(u))}function ns(o,u,m){var y=ze(o,{parent:!0}).node;if(o=mt(o),!o)throw new V(28);if(o==="."||o==="..")throw new V(20);var S=_o(y,o);if(S)throw new V(S);if(!y.La.hb)throw new V(63);return y.La.hb(y,o,u,m)}function pc(o,u=438){return ns(o,u&4095|32768,0)}function gt(o,u=511){return ns(o,u&1023|16384,0)}function os(o,u,m){typeof m>"u"&&(m=u,u=438),ns(o,u|8192,m)}function sn(o,u){if(!Qr(o))throw new V(44);var m=ze(u,{parent:!0}).node;if(!m)throw new V(44);u=mt(u);var y=_o(m,u);if(y)throw new V(y);if(!m.La.symlink)throw new V(63);m.La.symlink(m,u,o)}function Ro(o){var u=ze(o,{parent:!0}).node;o=mt(o);var m=Bt(u,o),y=Co(u,o,!0);if(y)throw new V(y);if(!u.La.rmdir)throw new V(63);if(m.ab)throw new V(10);u.La.rmdir(u,o),en(m)}function Ao(o){var u=ze(o,{parent:!0}).node;if(!u)throw new V(44);o=mt(o);var m=Bt(u,o),y=Co(u,o,!1);if(y)throw new V(y);if(!u.La.unlink)throw new V(63);if(m.ab)throw new V(10);u.La.unlink(u,o),en(m)}function jr(o,u){return o=ze(o,{$a:!u}).node,ss(o.La.Ta)(o)}function Po(o,u,m,y){tn(o,u,{mode:m&4095|u.mode&-4096,ctime:Date.now(),Fb:y})}function is(o,u){o=typeof o=="string"?ze(o,{$a:!0}).node:o,Po(null,o,u)}function Mo(o,u,m){if(qe(u.mode))throw new V(31);if((u.mode&61440)!==32768)throw new V(28);var y=er(u,"w");if(y)throw new V(y);tn(o,u,{size:m,timestamp:Date.now()})}function tr(o,u,m=438){if(o==="")throw new V(44);if(typeof u=="string"){var y={r:0,"r+":2,w:577,"w+":578,a:1089,"a+":1090}[u];if(typeof y>"u")throw Error(`Unknown file open mode: ${u}`);u=y}if(m=u&64?m&4095|32768:0,typeof o=="object")y=o;else{var S=o.endsWith("/");o=ze(o,{$a:!(u&131072),Jb:!0}),y=o.node,o=o.path}var A=!1;if(u&64)if(y){if(u&128)throw new V(20)}else{if(S)throw new V(31);y=ns(o,m|511,0),A=!0}if(!y)throw new V(44);if((y.mode&61440)===8192&&(u&=-513),u&65536&&!qe(y.mode))throw new V(54);if(!A&&(S=y?(y.mode&61440)===40960?32:qe(y.mode)&&(So(u)!=="r"||u&576)?31:er(y,So(u)):44))throw new V(S);return u&512&&!A&&(S=y,S=typeof S=="string"?ze(S,{$a:!0}).node:S,Mo(null,S,0)),u&=-131713,S=Eo({node:y,path:Js(y),flags:u,seekable:!0,position:0,Ma:y.Ma,Lb:[],error:!1}),S.Ma.open&&S.Ma.open(S),A&&is(y,m&511),!l.logReadFiles||u&1||o in Nr||(Nr[o]=1),S}function nn(o){if(o.fd===null)throw new V(8);o.ob&&(o.ob=null);try{o.Ma.close&&o.Ma.close(o)}catch(u){throw u}finally{Et[o.fd]=null}o.fd=null}function Io(o,u,m){if(o.fd===null)throw new V(8);if(!o.seekable||!o.Ma.Va)throw new V(70);if(m!=0&&m!=1&&m!=2)throw new V(28);o.position=o.Ma.Va(o,u,m),o.Lb=[]}function Lo(o,u,m,y,S){if(0>y||0>S)throw new V(28);if(o.fd===null)throw new V(8);if((o.flags&2097155)===1)throw new V(8);if(qe(o.node.mode))throw new V(31);if(!o.Ma.read)throw new V(28);var A=typeof S<"u";if(!A)S=o.position;else if(!o.seekable)throw new V(70);return u=o.Ma.read(o,u,m,y,S),A||(o.position+=u),u}function Oo(o,u,m,y,S){if(0>y||0>S)throw new V(28);if(o.fd===null)throw new V(8);if((o.flags&2097155)===0)throw new V(8);if(qe(o.node.mode))throw new V(31);if(!o.Ma.write)throw new V(28);o.seekable&&o.flags&1024&&Io(o,0,2);var A=typeof S<"u";if(!A)S=o.position;else if(!o.seekable)throw new V(70);return u=o.Ma.write(o,u,m,y,S,void 0),A||(o.position+=u),u}function mc(o){var u,m=tr(o,m||0);o=jr(o).size;var y=new Uint8Array(o);return Lo(m,y,0,o,0),u=y,nn(m),u}function Tt(o,u,m){o=Qe("/dev/"+o);var y=Jr(!!u,!!m);Tt.yb??(Tt.yb=64);var S=Tt.yb++<<8|0;rn(S,{open(A){A.seekable=!1},close(){m?.buffer?.length&&m(10)},read(A,D,te,me){for(var de=0,Pe=0;Pe<me;Pe++){try{var Ue=u()}catch{throw new V(29)}if(Ue===void 0&&de===0)throw new V(6);if(Ue==null)break;de++,D[te+Pe]=Ue}return de&&(A.node.atime=Date.now()),de},write(A,D,te,me){for(var de=0;de<me;de++)try{m(D[te+de])}catch{throw new V(29)}return me&&(A.node.mtime=A.node.ctime=Date.now()),de}}),os(o,y,S)}var Ce={};function Ht(o,u,m){if(u.charAt(0)==="/")return u;if(o=o===-100?"/":He(o).path,u.length==0){if(!m)throw new V(44);return o}return o+"/"+u}function as(o,u){H[o>>2]=u.dev,H[o+4>>2]=u.mode,q[o+8>>2]=u.nlink,H[o+12>>2]=u.uid,H[o+16>>2]=u.gid,H[o+20>>2]=u.rdev,W[o+24>>3]=BigInt(u.size),H[o+32>>2]=4096,H[o+36>>2]=u.blocks;var m=u.atime.getTime(),y=u.mtime.getTime(),S=u.ctime.getTime();return W[o+40>>3]=BigInt(Math.floor(m/1e3)),q[o+48>>2]=m%1e3*1e6,W[o+56>>3]=BigInt(Math.floor(y/1e3)),q[o+64>>2]=y%1e3*1e6,W[o+72>>3]=BigInt(Math.floor(S/1e3)),q[o+80>>2]=S%1e3*1e6,W[o+88>>3]=BigInt(u.ino),0}var ls=void 0,cs=()=>{var o=H[+ls>>2];return ls+=4,o},on=0,fc=[0,31,60,91,121,152,182,213,244,274,305,335],gc=[0,31,59,90,120,151,181,212,243,273,304,334],Sr={},Do=o=>{L=o,ie||0<on||(l.onExit?.(o),E=!0),g(o,new O(o))},xc=o=>{if(!E)try{if(o(),!(ie||0<on))try{L=o=L,Do(o)}catch(u){u instanceof O||u=="unwind"||g(1,u)}}catch(u){u instanceof O||u=="unwind"||g(1,u)}},an={},Fo=()=>{if(!ln){var o={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:x||"./this.program"},u;for(u in an)an[u]===void 0?delete o[u]:o[u]=an[u];var m=[];for(u in o)m.push(`${u}=${o[u]}`);ln=m}return ln},ln,cn=o=>{var u=$t(o)+1,m=At(u);return Ke(o,R,m,u),m},bc=(o,u,m,y)=>{var S={string:de=>{var Pe=0;return de!=null&&de!==0&&(Pe=cn(de)),Pe},array:de=>{var Pe=At(de.length);return $.set(de,Pe),Pe}};o=l["_"+o];var A=[],D=0;if(y)for(var te=0;te<y.length;te++){var me=S[m[te]];me?(D===0&&(D=Er()),A[te]=me(y[te])):A[te]=y[te]}return m=o(...A),m=(function(de){return D!==0&&Cr(D),u==="string"?de?ge(R,de):"":u==="boolean"?!!de:de})(m)},ds=0,us=(o,u)=>(u=u==1?At(o.length):un(o.length),o.subarray||o.slice||(o=new Uint8Array(o)),R.set(o,u),u),zt,dn=[],Nt,Rt=o=>{zt.delete(Nt.get(o)),Nt.set(o,null),dn.push(o)},_r=(o,u)=>{if(!zt){zt=new WeakMap;var m=Nt.length;if(zt)for(var y=0;y<0+m;y++){var S=Nt.get(y);S&&zt.set(S,y)}}if(m=zt.get(o)||0)return m;if(dn.length)m=dn.pop();else{try{Nt.grow(1)}catch(me){throw me instanceof RangeError?"Unable to grow wasm table. Set ALLOW_TABLE_GROWTH.":me}m=Nt.length-1}try{Nt.set(m,o)}catch(me){if(!(me instanceof TypeError))throw me;if(typeof WebAssembly.Function=="function"){var A=WebAssembly.Function;y={i:"i32",j:"i64",f:"f32",d:"f64",e:"externref",p:"i32"},S={parameters:[],results:u[0]=="v"?[]:[y[u[0]]]};for(var D=1;D<u.length;++D)S.parameters.push(y[u[D]]);u=new A(S,o)}else{y=[1],S=u.slice(0,1),u=u.slice(1),D={i:127,p:127,j:126,f:125,d:124,e:111},y.push(96);var te=u.length;128>te?y.push(te):y.push(te%128|128,te>>7);for(A of u)y.push(D[A]);S=="v"?y.push(0):y.push(1,D[S]),u=[0,97,115,109,1,0,0,0,1],A=y.length,128>A?u.push(A):u.push(A%128|128,A>>7),u.push(...y),u.push(2,7,1,1,101,1,102,0,0,7,5,1,1,102,0,0),u=new WebAssembly.Module(new Uint8Array(u)),u=new WebAssembly.Instance(u,{e:{f:o}}).exports.f}Nt.set(m,u)}return zt.set(o,m),m};ft=Array(4096),To(ae,"/"),gt("/tmp"),gt("/home"),gt("/home/web_user"),(function(){gt("/dev"),rn(259,{read:()=>0,write:(y,S,A,D)=>D,Va:()=>0}),os("/dev/null",259),kt(1280,wr),kt(1536,Zt),os("/dev/tty",1280),os("/dev/tty1",1536);var o=new Uint8Array(1024),u=0,m=()=>(u===0&&(Qt(o),u=o.byteLength),o[--u]);Tt("random",m),Tt("urandom",m),gt("/dev/shm"),gt("/dev/shm/tmp")})(),(function(){gt("/proc");var o=gt("/proc/self");gt("/proc/self/fd"),To({Xa(){var u=jo(o,"fd",16895,73);return u.Ma={Va:ae.Ma.Va},u.La={lookup(m,y){m=+y;var S=He(m);return m={parent:null,Xa:{zb:"fake"},La:{readlink:()=>S.path},id:m+1},m.parent=m},readdir(){return Array.from(Et.entries()).filter(([,m])=>m).map(([m])=>m.toString())}},u}},"/proc/self/fd")})(),ae.vb=new V(44),ae.vb.stack="<generic error, no stack>";var wc={a:(o,u,m,y)=>_e(`Assertion failed: ${o?ge(R,o):""}, at: `+[u?u?ge(R,u):"":"unknown filename",m,y?y?ge(R,y):"":"unknown function"]),i:function(o,u){try{return o=o?ge(R,o):"",is(o,u),0}catch(m){if(typeof Ce>"u"||m.name!=="ErrnoError")throw m;return-m.Pa}},L:function(o,u,m){try{if(u=u?ge(R,u):"",u=Ht(o,u),m&-8)return-28;var y=ze(u,{$a:!0}).node;return y?(o="",m&4&&(o+="r"),m&2&&(o+="w"),m&1&&(o+="x"),o&&er(y,o)?-2:0):-44}catch(S){if(typeof Ce>"u"||S.name!=="ErrnoError")throw S;return-S.Pa}},j:function(o,u){try{var m=He(o);return Po(m,m.node,u,!1),0}catch(y){if(typeof Ce>"u"||y.name!=="ErrnoError")throw y;return-y.Pa}},h:function(o){try{var u=He(o);return tn(u,u.node,{timestamp:Date.now(),Fb:!1}),0}catch(m){if(typeof Ce>"u"||m.name!=="ErrnoError")throw m;return-m.Pa}},b:function(o,u,m){ls=m;try{var y=He(o);switch(u){case 0:var S=cs();if(0>S)break;for(;Et[S];)S++;return uc(y,S).fd;case 1:case 2:return 0;case 3:return y.flags;case 4:return S=cs(),y.flags|=S,0;case 12:return S=cs(),U[S+0>>1]=2,0;case 13:case 14:return 0}return-28}catch(A){if(typeof Ce>"u"||A.name!=="ErrnoError")throw A;return-A.Pa}},g:function(o,u){try{var m=He(o),y=m.node,S=m.Ma.Ta;o=S?m:y,S??(S=y.La.Ta),ss(S);var A=S(o);return as(u,A)}catch(D){if(typeof Ce>"u"||D.name!=="ErrnoError")throw D;return-D.Pa}},H:function(o,u){u=-9007199254740992>u||9007199254740992<u?NaN:Number(u);try{if(isNaN(u))return 61;var m=He(o);if(0>u||(m.flags&2097155)===0)throw new V(28);return Mo(m,m.node,u),0}catch(y){if(typeof Ce>"u"||y.name!=="ErrnoError")throw y;return-y.Pa}},G:function(o,u){try{if(u===0)return-28;var m=$t("/")+1;return u<m?-68:(Ke("/",R,o,u),m)}catch(y){if(typeof Ce>"u"||y.name!=="ErrnoError")throw y;return-y.Pa}},K:function(o,u){try{return o=o?ge(R,o):"",as(u,jr(o,!0))}catch(m){if(typeof Ce>"u"||m.name!=="ErrnoError")throw m;return-m.Pa}},C:function(o,u,m){try{return u=u?ge(R,u):"",u=Ht(o,u),gt(u,m),0}catch(y){if(typeof Ce>"u"||y.name!=="ErrnoError")throw y;return-y.Pa}},J:function(o,u,m,y){try{u=u?ge(R,u):"";var S=y&256;return u=Ht(o,u,y&4096),as(m,S?jr(u,!0):jr(u))}catch(A){if(typeof Ce>"u"||A.name!=="ErrnoError")throw A;return-A.Pa}},x:function(o,u,m,y){ls=y;try{u=u?ge(R,u):"",u=Ht(o,u);var S=y?cs():0;return tr(u,m,S).fd}catch(A){if(typeof Ce>"u"||A.name!=="ErrnoError")throw A;return-A.Pa}},v:function(o,u,m,y){try{if(u=u?ge(R,u):"",u=Ht(o,u),0>=y)return-28;var S=ze(u).node;if(!S)throw new V(44);if(!S.La.readlink)throw new V(28);var A=S.La.readlink(S),D=Math.min(y,$t(A)),te=$[m+D];return Ke(A,R,m,y+1),$[m+D]=te,D}catch(me){if(typeof Ce>"u"||me.name!=="ErrnoError")throw me;return-me.Pa}},u:function(o){try{return o=o?ge(R,o):"",Ro(o),0}catch(u){if(typeof Ce>"u"||u.name!=="ErrnoError")throw u;return-u.Pa}},f:function(o,u){try{return o=o?ge(R,o):"",as(u,jr(o))}catch(m){if(typeof Ce>"u"||m.name!=="ErrnoError")throw m;return-m.Pa}},r:function(o,u,m){try{return u=u?ge(R,u):"",u=Ht(o,u),m===0?Ao(u):m===512?Ro(u):_e("Invalid flags passed to unlinkat"),0}catch(y){if(typeof Ce>"u"||y.name!=="ErrnoError")throw y;return-y.Pa}},q:function(o,u,m){try{u=u?ge(R,u):"",u=Ht(o,u,!0);var y=Date.now(),S,A;if(m){var D=q[m>>2]+4294967296*H[m+4>>2],te=H[m+8>>2];te==1073741823?S=y:te==1073741822?S=null:S=1e3*D+te/1e6,m+=16,D=q[m>>2]+4294967296*H[m+4>>2],te=H[m+8>>2],te==1073741823?A=y:te==1073741822?A=null:A=1e3*D+te/1e6}else A=S=y;if((A??S)!==null){o=S;var me=ze(u,{$a:!0}).node;ss(me.La.Ua)(me,{atime:o,mtime:A})}return 0}catch(de){if(typeof Ce>"u"||de.name!=="ErrnoError")throw de;return-de.Pa}},m:()=>_e(""),l:()=>{ie=!1,on=0},A:function(o,u){o=-9007199254740992>o||9007199254740992<o?NaN:Number(o),o=new Date(1e3*o),H[u>>2]=o.getSeconds(),H[u+4>>2]=o.getMinutes(),H[u+8>>2]=o.getHours(),H[u+12>>2]=o.getDate(),H[u+16>>2]=o.getMonth(),H[u+20>>2]=o.getFullYear()-1900,H[u+24>>2]=o.getDay();var m=o.getFullYear();H[u+28>>2]=(m%4!==0||m%100===0&&m%400!==0?gc:fc)[o.getMonth()]+o.getDate()-1|0,H[u+36>>2]=-(60*o.getTimezoneOffset()),m=new Date(o.getFullYear(),6,1).getTimezoneOffset();var y=new Date(o.getFullYear(),0,1).getTimezoneOffset();H[u+32>>2]=(m!=y&&o.getTimezoneOffset()==Math.min(y,m))|0},y:function(o,u,m,y,S,A,D){S=-9007199254740992>S||9007199254740992<S?NaN:Number(S);try{if(isNaN(S))return 61;var te=He(y);if((u&2)!==0&&(m&2)===0&&(te.flags&2097155)!==2)throw new V(2);if((te.flags&2097155)===1)throw new V(2);if(!te.Ma.ib)throw new V(43);if(!o)throw new V(28);var me=te.Ma.ib(te,o,S,u,m),de=me.Kb;return H[A>>2]=me.Ab,q[D>>2]=de,0}catch(Pe){if(typeof Ce>"u"||Pe.name!=="ErrnoError")throw Pe;return-Pe.Pa}},z:function(o,u,m,y,S,A){A=-9007199254740992>A||9007199254740992<A?NaN:Number(A);try{var D=He(S);if(m&2){if(m=A,(D.node.mode&61440)!==32768)throw new V(43);if(!(y&2)){var te=R.slice(o,o+u);D.Ma.jb&&D.Ma.jb(D,te,m,u,y)}}}catch(me){if(typeof Ce>"u"||me.name!=="ErrnoError")throw me;return-me.Pa}},n:(o,u)=>{if(Sr[o]&&(clearTimeout(Sr[o].id),delete Sr[o]),!u)return 0;var m=setTimeout(()=>{delete Sr[o],xc(()=>Bo(o,performance.now()))},u);return Sr[o]={id:m,Xb:u},0},B:(o,u,m,y)=>{var S=new Date().getFullYear(),A=new Date(S,0,1).getTimezoneOffset();S=new Date(S,6,1).getTimezoneOffset(),q[o>>2]=60*Math.max(A,S),H[u>>2]=+(A!=S),u=D=>{var te=Math.abs(D);return`UTC${0<=D?"-":"+"}${String(Math.floor(te/60)).padStart(2,"0")}${String(te%60).padStart(2,"0")}`},o=u(A),u=u(S),S<A?(Ke(o,R,m,17),Ke(u,R,y,17)):(Ke(o,R,y,17),Ke(u,R,m,17))},d:()=>Date.now(),s:()=>2147483648,c:()=>performance.now(),o:o=>{var u=R.length;if(o>>>=0,2147483648<o)return!1;for(var m=1;4>=m;m*=2){var y=u*(1+.2/m);y=Math.min(y,o+100663296);e:{y=(Math.min(2147483648,65536*Math.ceil(Math.max(o,y)/65536))-P.buffer.byteLength+65535)/65536|0;try{P.grow(y),ne();var S=1;break e}catch{}S=void 0}if(S)return!0}return!1},E:(o,u)=>{var m=0;return Fo().forEach((y,S)=>{var A=u+m;for(S=q[o+4*S>>2]=A,A=0;A<y.length;++A)$[S++]=y.charCodeAt(A);$[S]=0,m+=y.length+1}),0},F:(o,u)=>{var m=Fo();q[o>>2]=m.length;var y=0;return m.forEach(S=>y+=S.length+1),q[u>>2]=y,0},e:function(o){try{var u=He(o);return nn(u),0}catch(m){if(typeof Ce>"u"||m.name!=="ErrnoError")throw m;return m.Pa}},p:function(o,u){try{var m=He(o);return $[u]=m.tty?2:qe(m.mode)?3:(m.mode&61440)===40960?7:4,U[u+2>>1]=0,W[u+8>>3]=BigInt(0),W[u+16>>3]=BigInt(0),0}catch(y){if(typeof Ce>"u"||y.name!=="ErrnoError")throw y;return y.Pa}},w:function(o,u,m,y){try{e:{var S=He(o);o=u;for(var A,D=u=0;D<m;D++){var te=q[o>>2],me=q[o+4>>2];o+=8;var de=Lo(S,$,te,me,A);if(0>de){var Pe=-1;break e}if(u+=de,de<me)break;typeof A<"u"&&(A+=de)}Pe=u}return q[y>>2]=Pe,0}catch(Ue){if(typeof Ce>"u"||Ue.name!=="ErrnoError")throw Ue;return Ue.Pa}},D:function(o,u,m,y){u=-9007199254740992>u||9007199254740992<u?NaN:Number(u);try{if(isNaN(u))return 61;var S=He(o);return Io(S,u,m),W[y>>3]=BigInt(S.position),S.ob&&u===0&&m===0&&(S.ob=null),0}catch(A){if(typeof Ce>"u"||A.name!=="ErrnoError")throw A;return A.Pa}},I:function(o){try{var u=He(o);return u.Ma?.fsync?u.Ma.fsync(u):0}catch(m){if(typeof Ce>"u"||m.name!=="ErrnoError")throw m;return m.Pa}},t:function(o,u,m,y){try{e:{var S=He(o);o=u;for(var A,D=u=0;D<m;D++){var te=q[o>>2],me=q[o+4>>2];o+=8;var de=Oo(S,$,te,me,A);if(0>de){var Pe=-1;break e}if(u+=de,de<me)break;typeof A<"u"&&(A+=de)}Pe=u}return q[y>>2]=Pe,0}catch(Ue){if(typeof Ce>"u"||Ue.name!=="ErrnoError")throw Ue;return Ue.Pa}},k:Do},Z;(async function(){function o(m){return Z=m.exports,P=Z.M,ne(),Nt=Z.O,be--,l.monitorRunDependencies?.(be),be==0&&ye&&(m=ye,ye=null,m()),Z}be++,l.monitorRunDependencies?.(be);var u={a:wc};return l.instantiateWasm?new Promise(m=>{l.instantiateWasm(u,(y,S)=>{o(y),m(y.exports)})}):(we??(we=l.locateFile?l.locateFile("sql-wasm.wasm",v):v+"sql-wasm.wasm"),o((await Oe(u)).instance))})(),l._sqlite3_free=o=>(l._sqlite3_free=Z.P)(o),l._sqlite3_value_text=o=>(l._sqlite3_value_text=Z.Q)(o),l._sqlite3_prepare_v2=(o,u,m,y,S)=>(l._sqlite3_prepare_v2=Z.R)(o,u,m,y,S),l._sqlite3_step=o=>(l._sqlite3_step=Z.S)(o),l._sqlite3_reset=o=>(l._sqlite3_reset=Z.T)(o),l._sqlite3_exec=(o,u,m,y,S)=>(l._sqlite3_exec=Z.U)(o,u,m,y,S),l._sqlite3_finalize=o=>(l._sqlite3_finalize=Z.V)(o),l._sqlite3_column_name=(o,u)=>(l._sqlite3_column_name=Z.W)(o,u),l._sqlite3_column_text=(o,u)=>(l._sqlite3_column_text=Z.X)(o,u),l._sqlite3_column_type=(o,u)=>(l._sqlite3_column_type=Z.Y)(o,u),l._sqlite3_errmsg=o=>(l._sqlite3_errmsg=Z.Z)(o),l._sqlite3_clear_bindings=o=>(l._sqlite3_clear_bindings=Z._)(o),l._sqlite3_value_blob=o=>(l._sqlite3_value_blob=Z.$)(o),l._sqlite3_value_bytes=o=>(l._sqlite3_value_bytes=Z.aa)(o),l._sqlite3_value_double=o=>(l._sqlite3_value_double=Z.ba)(o),l._sqlite3_value_int=o=>(l._sqlite3_value_int=Z.ca)(o),l._sqlite3_value_type=o=>(l._sqlite3_value_type=Z.da)(o),l._sqlite3_result_blob=(o,u,m,y)=>(l._sqlite3_result_blob=Z.ea)(o,u,m,y),l._sqlite3_result_double=(o,u)=>(l._sqlite3_result_double=Z.fa)(o,u),l._sqlite3_result_error=(o,u,m)=>(l._sqlite3_result_error=Z.ga)(o,u,m),l._sqlite3_result_int=(o,u)=>(l._sqlite3_result_int=Z.ha)(o,u),l._sqlite3_result_int64=(o,u)=>(l._sqlite3_result_int64=Z.ia)(o,u),l._sqlite3_result_null=o=>(l._sqlite3_result_null=Z.ja)(o),l._sqlite3_result_text=(o,u,m,y)=>(l._sqlite3_result_text=Z.ka)(o,u,m,y),l._sqlite3_aggregate_context=(o,u)=>(l._sqlite3_aggregate_context=Z.la)(o,u),l._sqlite3_column_count=o=>(l._sqlite3_column_count=Z.ma)(o),l._sqlite3_data_count=o=>(l._sqlite3_data_count=Z.na)(o),l._sqlite3_column_blob=(o,u)=>(l._sqlite3_column_blob=Z.oa)(o,u),l._sqlite3_column_bytes=(o,u)=>(l._sqlite3_column_bytes=Z.pa)(o,u),l._sqlite3_column_double=(o,u)=>(l._sqlite3_column_double=Z.qa)(o,u),l._sqlite3_bind_blob=(o,u,m,y,S)=>(l._sqlite3_bind_blob=Z.ra)(o,u,m,y,S),l._sqlite3_bind_double=(o,u,m)=>(l._sqlite3_bind_double=Z.sa)(o,u,m),l._sqlite3_bind_int=(o,u,m)=>(l._sqlite3_bind_int=Z.ta)(o,u,m),l._sqlite3_bind_text=(o,u,m,y,S)=>(l._sqlite3_bind_text=Z.ua)(o,u,m,y,S),l._sqlite3_bind_parameter_index=(o,u)=>(l._sqlite3_bind_parameter_index=Z.va)(o,u),l._sqlite3_sql=o=>(l._sqlite3_sql=Z.wa)(o),l._sqlite3_normalized_sql=o=>(l._sqlite3_normalized_sql=Z.xa)(o),l._sqlite3_changes=o=>(l._sqlite3_changes=Z.ya)(o),l._sqlite3_close_v2=o=>(l._sqlite3_close_v2=Z.za)(o),l._sqlite3_create_function_v2=(o,u,m,y,S,A,D,te,me)=>(l._sqlite3_create_function_v2=Z.Aa)(o,u,m,y,S,A,D,te,me),l._sqlite3_update_hook=(o,u,m)=>(l._sqlite3_update_hook=Z.Ba)(o,u,m),l._sqlite3_open=(o,u)=>(l._sqlite3_open=Z.Ca)(o,u);var un=l._malloc=o=>(un=l._malloc=Z.Da)(o),hs=l._free=o=>(hs=l._free=Z.Ea)(o);l._RegisterExtensionFunctions=o=>(l._RegisterExtensionFunctions=Z.Fa)(o);var $o=(o,u)=>($o=Z.Ga)(o,u),Bo=(o,u)=>(Bo=Z.Ha)(o,u),Cr=o=>(Cr=Z.Ia)(o),At=o=>(At=Z.Ja)(o),Er=()=>(Er=Z.Ka)();l.stackSave=()=>Er(),l.stackRestore=o=>Cr(o),l.stackAlloc=o=>At(o),l.cwrap=(o,u,m,y)=>{var S=!m||m.every(A=>A==="number"||A==="boolean");return u!=="string"&&S&&!y?l["_"+o]:(...A)=>bc(o,u,m,A)},l.addFunction=_r,l.removeFunction=Rt,l.UTF8ToString=Fe,l.ALLOC_NORMAL=ds,l.allocate=us,l.allocateUTF8OnStack=cn;function hn(){function o(){if(l.calledRun=!0,!E){if(!l.noFSInit&&!vr){var u,m;vr=!0,y??(y=l.stdin),u??(u=l.stdout),m??(m=l.stderr),y?Tt("stdin",y):sn("/dev/tty","/dev/stdin"),u?Tt("stdout",null,u):sn("/dev/tty","/dev/stdout"),m?Tt("stderr",null,m):sn("/dev/tty1","/dev/stderr"),tr("/dev/stdin",0),tr("/dev/stdout",1),tr("/dev/stderr",1)}if(Z.N(),kr=!1,l.onRuntimeInitialized?.(),l.postRun)for(typeof l.postRun=="function"&&(l.postRun=[l.postRun]);l.postRun.length;){var y=l.postRun.shift();ue.unshift(y)}J(ue)}}if(0<be)ye=hn;else{if(l.preRun)for(typeof l.preRun=="function"&&(l.preRun=[l.preRun]);l.preRun.length;)ee();J(oe),0<be?ye=hn:l.setStatus?(l.setStatus("Running..."),setTimeout(()=>{setTimeout(()=>l.setStatus(""),1),o()},1)):o()}}if(l.preInit)for(typeof l.preInit=="function"&&(l.preInit=[l.preInit]);0<l.preInit.length;)l.preInit.pop()();return hn(),h}),s)};t.exports=n,t.exports.default=n})(fn)),fn.exports}var Fd=Dd();const $d=b0(Fd),oi="ease_app_db",ii=2,jt="sqlitedb";class Bd{constructor(){Ze(this,"db",null);Ze(this,"initPromise",null)}async init(){return this.initPromise?this.initPromise:(this.initPromise=(async()=>{try{const r=await $d({locateFile:n=>`https://sql.js.org/dist/${n}`}),s=await this.loadFromIndexedDB();s?(this.db=new r.Database(s),await this.migratePersonalProfileTable(),await this.createSchema()):(this.db=new r.Database,await this.createSchema())}catch(r){throw console.error("Failed to initialize SQLite:",r),r}})(),this.initPromise)}async migratePersonalProfileTable(){if(!this.db)throw new Error("Database not initialized");try{const r=this.db.exec("PRAGMA table_info(personal_migraine_profile)");if(r.length===0)return;if(r[0].values.some(i=>i[1]==="menstrual_phase")){const i=this.db.exec("SELECT * FROM personal_migraine_profile WHERE id = 1");if(this.db.run("DROP TABLE IF EXISTS personal_migraine_profile"),this.db.run(`
          CREATE TABLE personal_migraine_profile (
            id INTEGER PRIMARY KEY CHECK (id = 1),
            migraine_history_years REAL NOT NULL,
            age REAL NOT NULL,
            weight_kg REAL,
            bmi REAL,
            updated_at TEXT NOT NULL
          )
        `),i.length>0&&i[0].values.length>0){const a=i[0].values[0],d=i[0].columns,h=d.indexOf("migraine_history_years"),c=d.indexOf("age"),l=d.indexOf("weight_kg"),p=d.indexOf("bmi"),f=d.indexOf("updated_at");this.db.run(`INSERT INTO personal_migraine_profile 
             (id, migraine_history_years, age, weight_kg, bmi, updated_at)
             VALUES (1, ?, ?, ?, ?, ?)`,[a[h],a[c],a[l]||null,a[p]||null,a[f]])}await this.saveToIndexedDB()}}catch(r){console.warn("Migration check failed, will create fresh schema:",r)}}async createSchema(){if(!this.db)throw new Error("Database not initialized");this.db.run(`
      CREATE TABLE IF NOT EXISTS timeline_entries (
        id INTEGER PRIMARY KEY AUTOINCREMENT,
        date TEXT NOT NULL,
        type TEXT NOT NULL,
        data TEXT NOT NULL,
        timestamp TEXT NOT NULL
      )
    `),this.db.run(`
      CREATE TABLE IF NOT EXISTS user_settings (
        key TEXT PRIMARY KEY,
        value TEXT NOT NULL
      )
    `),this.db.run(`
      CREATE TABLE IF NOT EXISTS experiments (
        id INTEGER PRIMARY KEY AUTOINCREMENT,
        experiment_name TEXT NOT NULL,
        day_index INTEGER NOT NULL,
        completed INTEGER DEFAULT 0,
        timestamp TEXT NOT NULL,
        UNIQUE(experiment_name, day_index)
      )
    `),this.db.run(`
      CREATE TABLE IF NOT EXISTS migraine_reports (
        id TEXT PRIMARY KEY,
        user_id TEXT,
        onset_at TEXT NOT NULL,
        duration_hours REAL,
        severity INTEGER NOT NULL,
        aura_present INTEGER,
        aura_types TEXT,
        pain_character TEXT,
        symptoms TEXT NOT NULL,
        triggers TEXT NOT NULL,
        other_trigger_notes TEXT,
        notes TEXT,
        medication_taken TEXT,
        medication_timing TEXT,
        relief_level TEXT,
        impact_missed_work INTEGER,
        impact_had_to_rest INTEGER,
        impact_score INTEGER,
        created_at TEXT NOT NULL
      )
    `),this.db.run(`
      CREATE TABLE IF NOT EXISTS soothemode_sessions (
        id TEXT PRIMARY KEY,
        started_at TEXT NOT NULL,
        trigger_combination_id TEXT NOT NULL,
        trigger_labels TEXT NOT NULL,
        completed_instruction_ids TEXT NOT NULL,
        duration_minutes REAL NOT NULL,
        outcome TEXT,
        follow_up_at TEXT,
        timestamp TEXT NOT NULL
      )
    `),this.db.run(`
      CREATE TABLE IF NOT EXISTS intervention_effectiveness (
        instruction_id TEXT NOT NULL,
        trigger_combination_id TEXT NOT NULL,
        success_count INTEGER DEFAULT 0,
        failure_count INTEGER DEFAULT 0,
        last_used TEXT NOT NULL,
        PRIMARY KEY (instruction_id, trigger_combination_id)
      )
    `),this.db.run(`
      CREATE TABLE IF NOT EXISTS personal_migraine_profile (
        id INTEGER PRIMARY KEY CHECK (id = 1),
        migraine_history_years REAL NOT NULL,
        age REAL NOT NULL,
        weight_kg REAL,
        bmi REAL,
        updated_at TEXT NOT NULL
      )
    `),this.db.run(`
      CREATE TABLE IF NOT EXISTS user_trigger_hypotheses (
        id TEXT PRIMARY KEY,
        key TEXT NOT NULL,
        label TEXT NOT NULL,
        confidence REAL NOT NULL,
        freq_per_month REAL,
        threshold TEXT,
        onset_window_hours REAL,
        helps TEXT,
        notes TEXT,
        created_at TEXT NOT NULL,
        updated_at TEXT NOT NULL
      )
    `),this.db.run("CREATE INDEX IF NOT EXISTS idx_timeline_date ON timeline_entries(date)"),this.db.run("CREATE INDEX IF NOT EXISTS idx_experiment_name ON experiments(experiment_name)"),this.db.run("CREATE INDEX IF NOT EXISTS idx_migraine_onset ON migraine_reports(onset_at)"),this.db.run("CREATE INDEX IF NOT EXISTS idx_migraine_severity ON migraine_reports(severity)"),this.db.run("CREATE INDEX IF NOT EXISTS idx_migraine_created ON migraine_reports(created_at)"),this.db.run("CREATE INDEX IF NOT EXISTS idx_soothemode_outcome ON soothemode_sessions(outcome)"),this.db.run("CREATE INDEX IF NOT EXISTS idx_soothemode_followup ON soothemode_sessions(follow_up_at)"),await this.saveToIndexedDB()}async saveToIndexedDB(){if(this.db)return new Promise((r,s)=>{const n=this.db.export(),i=indexedDB.open(oi,ii);i.onerror=()=>s(i.error),i.onsuccess=()=>{const a=i.result,d=a.transaction([jt],"readwrite");d.objectStore(jt).put(n,"database"),d.oncomplete=()=>{a.close(),r()},d.onerror=()=>s(d.error)},i.onupgradeneeded=()=>{const a=i.result;a.objectStoreNames.contains(jt)||a.createObjectStore(jt)}})}async loadFromIndexedDB(){return new Promise((r,s)=>{const n=indexedDB.open(oi,ii);n.onerror=()=>s(n.error),n.onsuccess=()=>{const i=n.result;if(!i.objectStoreNames.contains(jt)){i.close(),r(null);return}const h=i.transaction([jt],"readonly").objectStore(jt).get("database");h.onsuccess=()=>{i.close(),r(h.result||null)},h.onerror=()=>{i.close(),s(h.error)}},n.onupgradeneeded=()=>{const i=n.result;i.objectStoreNames.contains(jt)||i.createObjectStore(jt)}})}async exec(r,s){if(await this.init(),!this.db)throw new Error("Database not initialized");this.db.run(r,s),await this.saveToIndexedDB()}async query(r,s){if(await this.init(),!this.db)throw new Error("Database not initialized");const n=this.db.exec(r,s);if(!n.length)return[];const{columns:i,values:a}=n[0];return a.map(d=>{const h={};return i.forEach((c,l)=>{h[c]=d[l]}),h})}async addTimelineEntry(r,s,n){const i=r.split("T")[0];await this.exec("INSERT INTO timeline_entries (date, type, data, timestamp) VALUES (?, ?, ?, ?)",[i,s,JSON.stringify(n),new Date().toISOString()])}async getTimelineEntries(r){const s=r.split("T")[0];return(await this.query("SELECT * FROM timeline_entries WHERE date = ? ORDER BY timestamp ASC",[s])).map(i=>({type:i.type,data:JSON.parse(i.data),timestamp:i.timestamp}))}async clearTimeline(){await this.exec("DELETE FROM timeline_entries")}async setSetting(r,s){await this.exec("INSERT OR REPLACE INTO user_settings (key, value) VALUES (?, ?)",[r,s])}async getSetting(r){const s=await this.query("SELECT value FROM user_settings WHERE key = ?",[r]);return s.length>0?s[0].value:null}async removeSetting(r){await this.exec("DELETE FROM user_settings WHERE key = ?",[r])}async getAllSettings(){const r=await this.query("SELECT key, value FROM user_settings"),s={};return r.forEach(n=>{s[n.key]=n.value}),s}async setExperimentDay(r,s,n){await this.exec(`INSERT OR REPLACE INTO experiments (experiment_name, day_index, completed, timestamp)
       VALUES (?, ?, ?, ?)`,[r,s,n?1:0,new Date().toISOString()])}async getExperimentDays(r){const s=await this.query("SELECT day_index, completed FROM experiments WHERE experiment_name = ? ORDER BY day_index ASC",[r]),n=[!1,!1,!1,!1,!1,!1,!1];return s.forEach(i=>{i.day_index>=0&&i.day_index<7&&(n[i.day_index]=i.completed===1)}),n}async clearExperiments(){await this.exec("DELETE FROM experiments")}async saveSootheModeSession(r){if(await this.init(),!this.db)throw new Error("Database not initialized");this.db.run(`INSERT INTO soothemode_sessions 
       (id, started_at, trigger_combination_id, trigger_labels, completed_instruction_ids, duration_minutes, outcome, follow_up_at, timestamp)
       VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)`,[r.id,r.startedAt,r.triggerCombination.id,r.triggerCombination.label,JSON.stringify(r.completedInstructionIds),r.durationMinutes,r.outcome||null,r.outcome?null:new Date(Date.now()+10800*1e3).toISOString(),new Date().toISOString()]),await this.saveToIndexedDB()}async updateSessionOutcome(r,s){if(await this.init(),!this.db)throw new Error("Database not initialized");this.db.run("UPDATE soothemode_sessions SET outcome = ?, follow_up_at = NULL WHERE id = ?",[s,r]);const n=this.db.exec("SELECT trigger_combination_id, completed_instruction_ids FROM soothemode_sessions WHERE id = ?",[r]);if(n.length>0&&n[0].values.length>0){const[i,a]=n[0].values[0],d=JSON.parse(a),h=s==="prevented"||s==="reduced"?1:0,c=h?0:1;d.forEach(l=>{this.db.run(`INSERT INTO intervention_effectiveness 
           (instruction_id, trigger_combination_id, success_count, failure_count, last_used)
           VALUES (?, ?, ?, ?, ?)
           ON CONFLICT(instruction_id, trigger_combination_id) 
           DO UPDATE SET 
             success_count = success_count + ?,
             failure_count = failure_count + ?,
             last_used = ?`,[l,i,h,c,new Date().toISOString(),h,c,new Date().toISOString()])})}await this.saveToIndexedDB()}async getInterventionEffectiveness(){if(await this.init(),!this.db)throw new Error("Database not initialized");const r=this.db.exec(`
      SELECT 
        instruction_id,
        trigger_combination_id,
        success_count,
        failure_count,
        last_used,
        CAST(success_count AS FLOAT) / (success_count + failure_count) as average_effectiveness
      FROM intervention_effectiveness
      WHERE success_count + failure_count > 0
      ORDER BY average_effectiveness DESC
    `);return!r||r.length===0?[]:r[0].values.map(s=>({instructionId:s[0],triggerCombinationId:s[1],successCount:s[2],failureCount:s[3],lastUsed:s[4],averageEffectiveness:s[5]}))}async getPendingFollowUps(){if(await this.init(),!this.db)throw new Error("Database not initialized");const r=this.db.exec(`
      SELECT id, trigger_labels, follow_up_at
      FROM soothemode_sessions
      WHERE outcome IS NULL 
        AND follow_up_at IS NOT NULL
        AND follow_up_at <= ?
      ORDER BY follow_up_at ASC
    `,[new Date().toISOString()]);return!r||r.length===0?[]:r[0].values.map(s=>({id:s[0],triggerLabels:s[1],followUpAt:s[2]}))}async savePersonalMigraineProfile(r){if(await this.init(),!this.db)throw new Error("Database not initialized");this.db.run(`INSERT INTO personal_migraine_profile 
       (id, migraine_history_years, age, weight_kg, bmi, updated_at)
       VALUES (1, ?, ?, ?, ?, ?)
       ON CONFLICT(id) DO UPDATE SET
         migraine_history_years = excluded.migraine_history_years,
         age = excluded.age,
         weight_kg = excluded.weight_kg,
         bmi = excluded.bmi,
         updated_at = excluded.updated_at`,[r.migraineHistoryYears,r.age,r.weightKg??null,r.bmi??null,new Date().toISOString()]),await this.saveToIndexedDB()}async getPersonalMigraineProfile(){if(await this.init(),!this.db)throw new Error("Database not initialized");const r=this.db.exec(`SELECT migraine_history_years, age, weight_kg, bmi
       FROM personal_migraine_profile WHERE id = 1`);if(!r.length||!r[0].values.length)return null;const s=r[0].values[0];return{migraineHistoryYears:s[0],age:s[1],weightKg:s[2]??void 0,bmi:s[3]??void 0}}async saveTriggerHypothesis(r){if(await this.init(),!this.db)throw new Error("Database not initialized");const s=new Date().toISOString();this.db.run(`INSERT INTO user_trigger_hypotheses 
       (id, key, label, confidence, freq_per_month, threshold, onset_window_hours, helps, notes, created_at, updated_at)
       VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
       ON CONFLICT(id) DO UPDATE SET
         key = excluded.key,
         label = excluded.label,
         confidence = excluded.confidence,
         freq_per_month = excluded.freq_per_month,
         threshold = excluded.threshold,
         onset_window_hours = excluded.onset_window_hours,
         helps = excluded.helps,
         notes = excluded.notes,
         updated_at = excluded.updated_at`,[r.id,r.key,r.label,r.confidence,r.freqPerMonth??null,r.threshold??null,r.onsetWindowHours??null,r.helps??null,r.notes??null,s,s]),await this.saveToIndexedDB()}async updateTriggerHypothesis(r,s){if(await this.init(),!this.db)throw new Error("Database not initialized");const n=[],i=[];s.key!==void 0&&(n.push("key = ?"),i.push(s.key)),s.label!==void 0&&(n.push("label = ?"),i.push(s.label)),s.confidence!==void 0&&(n.push("confidence = ?"),i.push(s.confidence)),s.freqPerMonth!==void 0&&(n.push("freq_per_month = ?"),i.push(s.freqPerMonth)),s.threshold!==void 0&&(n.push("threshold = ?"),i.push(s.threshold)),s.onsetWindowHours!==void 0&&(n.push("onset_window_hours = ?"),i.push(s.onsetWindowHours)),s.helps!==void 0&&(n.push("helps = ?"),i.push(s.helps)),s.notes!==void 0&&(n.push("notes = ?"),i.push(s.notes)),n.length!==0&&(n.push("updated_at = ?"),i.push(new Date().toISOString()),i.push(r),this.db.run(`UPDATE user_trigger_hypotheses SET ${n.join(", ")} WHERE id = ?`,i),await this.saveToIndexedDB())}async getTriggerHypotheses(){if(await this.init(),!this.db)throw new Error("Database not initialized");const r=this.db.exec(`SELECT id, key, label, confidence, freq_per_month, threshold, onset_window_hours, helps, notes, created_at, updated_at
       FROM user_trigger_hypotheses
       ORDER BY created_at ASC`);return!r.length||!r[0].values.length?[]:r[0].values.map(s=>({id:s[0],key:s[1],label:s[2],confidence:s[3],freqPerMonth:s[4]??void 0,threshold:s[5]??void 0,onsetWindowHours:s[6]??void 0,helps:s[7]??void 0,notes:s[8]??void 0,createdAt:s[9],updatedAt:s[10]}))}async deleteTriggerHypothesis(r){if(await this.init(),!this.db)throw new Error("Database not initialized");this.db.run("DELETE FROM user_trigger_hypotheses WHERE id = ?",[r]),await this.saveToIndexedDB()}async resetDatabase(){await this.clearTimeline(),await this.exec("DELETE FROM user_settings"),await this.clearExperiments()}close(){this.db&&(this.db.close(),this.db=null)}}const Se=new Bd;function na(t){var r,s,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(r=0;r<i;r++)t[r]&&(s=na(t[r]))&&(n&&(n+=" "),n+=s)}else for(s in t)t[s]&&(n&&(n+=" "),n+=s);return n}function oa(){for(var t,r,s=0,n="",i=arguments.length;s<i;s++)(t=arguments[s])&&(r=na(t))&&(n&&(n+=" "),n+=r);return n}const ai=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,li=oa,ia=(t,r)=>s=>{var n;if(r?.variants==null)return li(t,s?.class,s?.className);const{variants:i,defaultVariants:a}=r,d=Object.keys(i).map(l=>{const p=s?.[l],f=a?.[l];if(p===null)return null;const b=ai(p)||ai(f);return i[l][b]}),h=s&&Object.entries(s).reduce((l,p)=>{let[f,b]=p;return b===void 0||(l[f]=b),l},{}),c=r==null||(n=r.compoundVariants)===null||n===void 0?void 0:n.reduce((l,p)=>{let{class:f,className:b,...w}=p;return Object.entries(w).every(x=>{let[g,v]=x;return Array.isArray(v)?v.includes({...a,...h}[g]):{...a,...h}[g]===v})?[...l,f,b]:l},[]);return li(t,d,c,s?.class,s?.className)},Hd=(t,r)=>{const s=new Array(t.length+r.length);for(let n=0;n<t.length;n++)s[n]=t[n];for(let n=0;n<r.length;n++)s[t.length+n]=r[n];return s},zd=(t,r)=>({classGroupId:t,validator:r}),aa=(t=new Map,r=null,s)=>({nextPart:t,validators:r,classGroupId:s}),Ns="-",ci=[],qd="arbitrary..",Ud=t=>{const r=Wd(t),{conflictingClassGroups:s,conflictingClassGroupModifiers:n}=t;return{getClassGroupId:d=>{if(d.startsWith("[")&&d.endsWith("]"))return Vd(d);const h=d.split(Ns),c=h[0]===""&&h.length>1?1:0;return la(h,c,r)},getConflictingClassGroupIds:(d,h)=>{if(h){const c=n[d],l=s[d];return c?l?Hd(l,c):c:l||ci}return s[d]||ci}}},la=(t,r,s)=>{if(t.length-r===0)return s.classGroupId;const i=t[r],a=s.nextPart.get(i);if(a){const l=la(t,r+1,a);if(l)return l}const d=s.validators;if(d===null)return;const h=r===0?t.join(Ns):t.slice(r).join(Ns),c=d.length;for(let l=0;l<c;l++){const p=d[l];if(p.validator(h))return p.classGroupId}},Vd=t=>t.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const r=t.slice(1,-1),s=r.indexOf(":"),n=r.slice(0,s);return n?qd+n:void 0})(),Wd=t=>{const{theme:r,classGroups:s}=t;return Gd(s,r)},Gd=(t,r)=>{const s=aa();for(const n in t){const i=t[n];Zn(i,s,n,r)}return s},Zn=(t,r,s,n)=>{const i=t.length;for(let a=0;a<i;a++){const d=t[a];Xd(d,r,s,n)}},Xd=(t,r,s,n)=>{if(typeof t=="string"){Yd(t,r,s);return}if(typeof t=="function"){Qd(t,r,s,n);return}Kd(t,r,s,n)},Yd=(t,r,s)=>{const n=t===""?r:ca(r,t);n.classGroupId=s},Qd=(t,r,s,n)=>{if(Jd(t)){Zn(t(n),r,s,n);return}r.validators===null&&(r.validators=[]),r.validators.push(zd(s,t))},Kd=(t,r,s,n)=>{const i=Object.entries(t),a=i.length;for(let d=0;d<a;d++){const[h,c]=i[d];Zn(c,ca(r,h),s,n)}},ca=(t,r)=>{let s=t;const n=r.split(Ns),i=n.length;for(let a=0;a<i;a++){const d=n[a];let h=s.nextPart.get(d);h||(h=aa(),s.nextPart.set(d,h)),s=h}return s},Jd=t=>"isThemeGetter"in t&&t.isThemeGetter===!0,Zd=t=>{if(t<1)return{get:()=>{},set:()=>{}};let r=0,s=Object.create(null),n=Object.create(null);const i=(a,d)=>{s[a]=d,r++,r>t&&(r=0,n=s,s=Object.create(null))};return{get(a){let d=s[a];if(d!==void 0)return d;if((d=n[a])!==void 0)return i(a,d),d},set(a,d){a in s?s[a]=d:i(a,d)}}},Ln="!",di=":",eu=[],ui=(t,r,s,n,i)=>({modifiers:t,hasImportantModifier:r,baseClassName:s,maybePostfixModifierPosition:n,isExternal:i}),tu=t=>{const{prefix:r,experimentalParseClassName:s}=t;let n=i=>{const a=[];let d=0,h=0,c=0,l;const p=i.length;for(let g=0;g<p;g++){const v=i[g];if(d===0&&h===0){if(v===di){a.push(i.slice(c,g)),c=g+1;continue}if(v==="/"){l=g;continue}}v==="["?d++:v==="]"?d--:v==="("?h++:v===")"&&h--}const f=a.length===0?i:i.slice(c);let b=f,w=!1;f.endsWith(Ln)?(b=f.slice(0,-1),w=!0):f.startsWith(Ln)&&(b=f.slice(1),w=!0);const x=l&&l>c?l-c:void 0;return ui(a,w,b,x)};if(r){const i=r+di,a=n;n=d=>d.startsWith(i)?a(d.slice(i.length)):ui(eu,!1,d,void 0,!0)}if(s){const i=n;n=a=>s({className:a,parseClassName:i})}return n},ru=t=>{const r=new Map;return t.orderSensitiveModifiers.forEach((s,n)=>{r.set(s,1e6+n)}),s=>{const n=[];let i=[];for(let a=0;a<s.length;a++){const d=s[a],h=d[0]==="[",c=r.has(d);h||c?(i.length>0&&(i.sort(),n.push(...i),i=[]),n.push(d)):i.push(d)}return i.length>0&&(i.sort(),n.push(...i)),n}},su=t=>({cache:Zd(t.cacheSize),parseClassName:tu(t),sortModifiers:ru(t),...Ud(t)}),nu=/\s+/,ou=(t,r)=>{const{parseClassName:s,getClassGroupId:n,getConflictingClassGroupIds:i,sortModifiers:a}=r,d=[],h=t.trim().split(nu);let c="";for(let l=h.length-1;l>=0;l-=1){const p=h[l],{isExternal:f,modifiers:b,hasImportantModifier:w,baseClassName:x,maybePostfixModifierPosition:g}=s(p);if(f){c=p+(c.length>0?" "+c:c);continue}let v=!!g,N=n(v?x.substring(0,g):x);if(!N){if(!v){c=p+(c.length>0?" "+c:c);continue}if(N=n(x),!N){c=p+(c.length>0?" "+c:c);continue}v=!1}const j=b.length===0?"":b.length===1?b[0]:a(b).join(":"),_=w?j+Ln:j,I=_+N;if(d.indexOf(I)>-1)continue;d.push(I);const M=i(N,v);for(let C=0;C<M.length;++C){const P=M[C];d.push(_+P)}c=p+(c.length>0?" "+c:c)}return c},iu=(...t)=>{let r=0,s,n,i="";for(;r<t.length;)(s=t[r++])&&(n=da(s))&&(i&&(i+=" "),i+=n);return i},da=t=>{if(typeof t=="string")return t;let r,s="";for(let n=0;n<t.length;n++)t[n]&&(r=da(t[n]))&&(s&&(s+=" "),s+=r);return s},au=(t,...r)=>{let s,n,i,a;const d=c=>{const l=r.reduce((p,f)=>f(p),t());return s=su(l),n=s.cache.get,i=s.cache.set,a=h,h(c)},h=c=>{const l=n(c);if(l)return l;const p=ou(c,s);return i(c,p),p};return a=d,(...c)=>a(iu(...c))},lu=[],De=t=>{const r=s=>s[t]||lu;return r.isThemeGetter=!0,r},ua=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,ha=/^\((?:(\w[\w-]*):)?(.+)\)$/i,cu=/^\d+\/\d+$/,du=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,uu=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,hu=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,pu=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,mu=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,rr=t=>cu.test(t),he=t=>!!t&&!Number.isNaN(Number(t)),Pt=t=>!!t&&Number.isInteger(Number(t)),gn=t=>t.endsWith("%")&&he(t.slice(0,-1)),St=t=>du.test(t),fu=()=>!0,gu=t=>uu.test(t)&&!hu.test(t),pa=()=>!1,xu=t=>pu.test(t),bu=t=>mu.test(t),wu=t=>!X(t)&&!Y(t),yu=t=>hr(t,ga,pa),X=t=>ua.test(t),Ut=t=>hr(t,xa,gu),xn=t=>hr(t,Su,he),hi=t=>hr(t,ma,pa),vu=t=>hr(t,fa,bu),fs=t=>hr(t,ba,xu),Y=t=>ha.test(t),Tr=t=>pr(t,xa),ku=t=>pr(t,_u),pi=t=>pr(t,ma),Nu=t=>pr(t,ga),ju=t=>pr(t,fa),gs=t=>pr(t,ba,!0),hr=(t,r,s)=>{const n=ua.exec(t);return n?n[1]?r(n[1]):s(n[2]):!1},pr=(t,r,s=!1)=>{const n=ha.exec(t);return n?n[1]?r(n[1]):s:!1},ma=t=>t==="position"||t==="percentage",fa=t=>t==="image"||t==="url",ga=t=>t==="length"||t==="size"||t==="bg-size",xa=t=>t==="length",Su=t=>t==="number",_u=t=>t==="family-name",ba=t=>t==="shadow",Cu=()=>{const t=De("color"),r=De("font"),s=De("text"),n=De("font-weight"),i=De("tracking"),a=De("leading"),d=De("breakpoint"),h=De("container"),c=De("spacing"),l=De("radius"),p=De("shadow"),f=De("inset-shadow"),b=De("text-shadow"),w=De("drop-shadow"),x=De("blur"),g=De("perspective"),v=De("aspect"),N=De("ease"),j=De("animate"),_=()=>["auto","avoid","all","avoid-page","page","left","right","column"],I=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],M=()=>[...I(),Y,X],C=()=>["auto","hidden","clip","visible","scroll"],P=()=>["auto","contain","none"],E=()=>[Y,X,c],L=()=>[rr,"full","auto",...E()],$=()=>[Pt,"none","subgrid",Y,X],R=()=>["auto",{span:["full",Pt,Y,X]},Pt,Y,X],U=()=>[Pt,"auto",Y,X],H=()=>["auto","min","max","fr",Y,X],q=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],G=()=>["start","end","center","stretch","center-safe","end-safe"],W=()=>["auto",...E()],Q=()=>[rr,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...E()],F=()=>[t,Y,X],ne=()=>[...I(),pi,hi,{position:[Y,X]}],be=()=>["no-repeat",{repeat:["","x","y","space","round"]}],ye=()=>["auto","cover","contain",Nu,yu,{size:[Y,X]}],_e=()=>[gn,Tr,Ut],we=()=>["","none","full",l,Y,X],pe=()=>["",he,Tr,Ut],Ie=()=>["solid","dashed","dotted","double"],Oe=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],O=()=>[he,gn,pi,hi],J=()=>["","none",x,Y,X],ue=()=>["none",he,Y,X],oe=()=>["none",he,Y,X],ee=()=>[he,Y,X],z=()=>[rr,"full",...E()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[St],breakpoint:[St],color:[fu],container:[St],"drop-shadow":[St],ease:["in","out","in-out"],font:[wu],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[St],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[St],shadow:[St],spacing:["px",he],text:[St],"text-shadow":[St],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",rr,X,Y,v]}],container:["container"],columns:[{columns:[he,X,Y,h]}],"break-after":[{"break-after":_()}],"break-before":[{"break-before":_()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:M()}],overflow:[{overflow:C()}],"overflow-x":[{"overflow-x":C()}],"overflow-y":[{"overflow-y":C()}],overscroll:[{overscroll:P()}],"overscroll-x":[{"overscroll-x":P()}],"overscroll-y":[{"overscroll-y":P()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:L()}],"inset-x":[{"inset-x":L()}],"inset-y":[{"inset-y":L()}],start:[{start:L()}],end:[{end:L()}],top:[{top:L()}],right:[{right:L()}],bottom:[{bottom:L()}],left:[{left:L()}],visibility:["visible","invisible","collapse"],z:[{z:[Pt,"auto",Y,X]}],basis:[{basis:[rr,"full","auto",h,...E()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[he,rr,"auto","initial","none",X]}],grow:[{grow:["",he,Y,X]}],shrink:[{shrink:["",he,Y,X]}],order:[{order:[Pt,"first","last","none",Y,X]}],"grid-cols":[{"grid-cols":$()}],"col-start-end":[{col:R()}],"col-start":[{"col-start":U()}],"col-end":[{"col-end":U()}],"grid-rows":[{"grid-rows":$()}],"row-start-end":[{row:R()}],"row-start":[{"row-start":U()}],"row-end":[{"row-end":U()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":H()}],"auto-rows":[{"auto-rows":H()}],gap:[{gap:E()}],"gap-x":[{"gap-x":E()}],"gap-y":[{"gap-y":E()}],"justify-content":[{justify:[...q(),"normal"]}],"justify-items":[{"justify-items":[...G(),"normal"]}],"justify-self":[{"justify-self":["auto",...G()]}],"align-content":[{content:["normal",...q()]}],"align-items":[{items:[...G(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...G(),{baseline:["","last"]}]}],"place-content":[{"place-content":q()}],"place-items":[{"place-items":[...G(),"baseline"]}],"place-self":[{"place-self":["auto",...G()]}],p:[{p:E()}],px:[{px:E()}],py:[{py:E()}],ps:[{ps:E()}],pe:[{pe:E()}],pt:[{pt:E()}],pr:[{pr:E()}],pb:[{pb:E()}],pl:[{pl:E()}],m:[{m:W()}],mx:[{mx:W()}],my:[{my:W()}],ms:[{ms:W()}],me:[{me:W()}],mt:[{mt:W()}],mr:[{mr:W()}],mb:[{mb:W()}],ml:[{ml:W()}],"space-x":[{"space-x":E()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":E()}],"space-y-reverse":["space-y-reverse"],size:[{size:Q()}],w:[{w:[h,"screen",...Q()]}],"min-w":[{"min-w":[h,"screen","none",...Q()]}],"max-w":[{"max-w":[h,"screen","none","prose",{screen:[d]},...Q()]}],h:[{h:["screen","lh",...Q()]}],"min-h":[{"min-h":["screen","lh","none",...Q()]}],"max-h":[{"max-h":["screen","lh",...Q()]}],"font-size":[{text:["base",s,Tr,Ut]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[n,Y,xn]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",gn,X]}],"font-family":[{font:[ku,X,r]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[i,Y,X]}],"line-clamp":[{"line-clamp":[he,"none",Y,xn]}],leading:[{leading:[a,...E()]}],"list-image":[{"list-image":["none",Y,X]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",Y,X]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:F()}],"text-color":[{text:F()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Ie(),"wavy"]}],"text-decoration-thickness":[{decoration:[he,"from-font","auto",Y,Ut]}],"text-decoration-color":[{decoration:F()}],"underline-offset":[{"underline-offset":[he,"auto",Y,X]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:E()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Y,X]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Y,X]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:ne()}],"bg-repeat":[{bg:be()}],"bg-size":[{bg:ye()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Pt,Y,X],radial:["",Y,X],conic:[Pt,Y,X]},ju,vu]}],"bg-color":[{bg:F()}],"gradient-from-pos":[{from:_e()}],"gradient-via-pos":[{via:_e()}],"gradient-to-pos":[{to:_e()}],"gradient-from":[{from:F()}],"gradient-via":[{via:F()}],"gradient-to":[{to:F()}],rounded:[{rounded:we()}],"rounded-s":[{"rounded-s":we()}],"rounded-e":[{"rounded-e":we()}],"rounded-t":[{"rounded-t":we()}],"rounded-r":[{"rounded-r":we()}],"rounded-b":[{"rounded-b":we()}],"rounded-l":[{"rounded-l":we()}],"rounded-ss":[{"rounded-ss":we()}],"rounded-se":[{"rounded-se":we()}],"rounded-ee":[{"rounded-ee":we()}],"rounded-es":[{"rounded-es":we()}],"rounded-tl":[{"rounded-tl":we()}],"rounded-tr":[{"rounded-tr":we()}],"rounded-br":[{"rounded-br":we()}],"rounded-bl":[{"rounded-bl":we()}],"border-w":[{border:pe()}],"border-w-x":[{"border-x":pe()}],"border-w-y":[{"border-y":pe()}],"border-w-s":[{"border-s":pe()}],"border-w-e":[{"border-e":pe()}],"border-w-t":[{"border-t":pe()}],"border-w-r":[{"border-r":pe()}],"border-w-b":[{"border-b":pe()}],"border-w-l":[{"border-l":pe()}],"divide-x":[{"divide-x":pe()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":pe()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...Ie(),"hidden","none"]}],"divide-style":[{divide:[...Ie(),"hidden","none"]}],"border-color":[{border:F()}],"border-color-x":[{"border-x":F()}],"border-color-y":[{"border-y":F()}],"border-color-s":[{"border-s":F()}],"border-color-e":[{"border-e":F()}],"border-color-t":[{"border-t":F()}],"border-color-r":[{"border-r":F()}],"border-color-b":[{"border-b":F()}],"border-color-l":[{"border-l":F()}],"divide-color":[{divide:F()}],"outline-style":[{outline:[...Ie(),"none","hidden"]}],"outline-offset":[{"outline-offset":[he,Y,X]}],"outline-w":[{outline:["",he,Tr,Ut]}],"outline-color":[{outline:F()}],shadow:[{shadow:["","none",p,gs,fs]}],"shadow-color":[{shadow:F()}],"inset-shadow":[{"inset-shadow":["none",f,gs,fs]}],"inset-shadow-color":[{"inset-shadow":F()}],"ring-w":[{ring:pe()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:F()}],"ring-offset-w":[{"ring-offset":[he,Ut]}],"ring-offset-color":[{"ring-offset":F()}],"inset-ring-w":[{"inset-ring":pe()}],"inset-ring-color":[{"inset-ring":F()}],"text-shadow":[{"text-shadow":["none",b,gs,fs]}],"text-shadow-color":[{"text-shadow":F()}],opacity:[{opacity:[he,Y,X]}],"mix-blend":[{"mix-blend":[...Oe(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":Oe()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[he]}],"mask-image-linear-from-pos":[{"mask-linear-from":O()}],"mask-image-linear-to-pos":[{"mask-linear-to":O()}],"mask-image-linear-from-color":[{"mask-linear-from":F()}],"mask-image-linear-to-color":[{"mask-linear-to":F()}],"mask-image-t-from-pos":[{"mask-t-from":O()}],"mask-image-t-to-pos":[{"mask-t-to":O()}],"mask-image-t-from-color":[{"mask-t-from":F()}],"mask-image-t-to-color":[{"mask-t-to":F()}],"mask-image-r-from-pos":[{"mask-r-from":O()}],"mask-image-r-to-pos":[{"mask-r-to":O()}],"mask-image-r-from-color":[{"mask-r-from":F()}],"mask-image-r-to-color":[{"mask-r-to":F()}],"mask-image-b-from-pos":[{"mask-b-from":O()}],"mask-image-b-to-pos":[{"mask-b-to":O()}],"mask-image-b-from-color":[{"mask-b-from":F()}],"mask-image-b-to-color":[{"mask-b-to":F()}],"mask-image-l-from-pos":[{"mask-l-from":O()}],"mask-image-l-to-pos":[{"mask-l-to":O()}],"mask-image-l-from-color":[{"mask-l-from":F()}],"mask-image-l-to-color":[{"mask-l-to":F()}],"mask-image-x-from-pos":[{"mask-x-from":O()}],"mask-image-x-to-pos":[{"mask-x-to":O()}],"mask-image-x-from-color":[{"mask-x-from":F()}],"mask-image-x-to-color":[{"mask-x-to":F()}],"mask-image-y-from-pos":[{"mask-y-from":O()}],"mask-image-y-to-pos":[{"mask-y-to":O()}],"mask-image-y-from-color":[{"mask-y-from":F()}],"mask-image-y-to-color":[{"mask-y-to":F()}],"mask-image-radial":[{"mask-radial":[Y,X]}],"mask-image-radial-from-pos":[{"mask-radial-from":O()}],"mask-image-radial-to-pos":[{"mask-radial-to":O()}],"mask-image-radial-from-color":[{"mask-radial-from":F()}],"mask-image-radial-to-color":[{"mask-radial-to":F()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":I()}],"mask-image-conic-pos":[{"mask-conic":[he]}],"mask-image-conic-from-pos":[{"mask-conic-from":O()}],"mask-image-conic-to-pos":[{"mask-conic-to":O()}],"mask-image-conic-from-color":[{"mask-conic-from":F()}],"mask-image-conic-to-color":[{"mask-conic-to":F()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:ne()}],"mask-repeat":[{mask:be()}],"mask-size":[{mask:ye()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",Y,X]}],filter:[{filter:["","none",Y,X]}],blur:[{blur:J()}],brightness:[{brightness:[he,Y,X]}],contrast:[{contrast:[he,Y,X]}],"drop-shadow":[{"drop-shadow":["","none",w,gs,fs]}],"drop-shadow-color":[{"drop-shadow":F()}],grayscale:[{grayscale:["",he,Y,X]}],"hue-rotate":[{"hue-rotate":[he,Y,X]}],invert:[{invert:["",he,Y,X]}],saturate:[{saturate:[he,Y,X]}],sepia:[{sepia:["",he,Y,X]}],"backdrop-filter":[{"backdrop-filter":["","none",Y,X]}],"backdrop-blur":[{"backdrop-blur":J()}],"backdrop-brightness":[{"backdrop-brightness":[he,Y,X]}],"backdrop-contrast":[{"backdrop-contrast":[he,Y,X]}],"backdrop-grayscale":[{"backdrop-grayscale":["",he,Y,X]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[he,Y,X]}],"backdrop-invert":[{"backdrop-invert":["",he,Y,X]}],"backdrop-opacity":[{"backdrop-opacity":[he,Y,X]}],"backdrop-saturate":[{"backdrop-saturate":[he,Y,X]}],"backdrop-sepia":[{"backdrop-sepia":["",he,Y,X]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":E()}],"border-spacing-x":[{"border-spacing-x":E()}],"border-spacing-y":[{"border-spacing-y":E()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",Y,X]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[he,"initial",Y,X]}],ease:[{ease:["linear","initial",N,Y,X]}],delay:[{delay:[he,Y,X]}],animate:[{animate:["none",j,Y,X]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[g,Y,X]}],"perspective-origin":[{"perspective-origin":M()}],rotate:[{rotate:ue()}],"rotate-x":[{"rotate-x":ue()}],"rotate-y":[{"rotate-y":ue()}],"rotate-z":[{"rotate-z":ue()}],scale:[{scale:oe()}],"scale-x":[{"scale-x":oe()}],"scale-y":[{"scale-y":oe()}],"scale-z":[{"scale-z":oe()}],"scale-3d":["scale-3d"],skew:[{skew:ee()}],"skew-x":[{"skew-x":ee()}],"skew-y":[{"skew-y":ee()}],transform:[{transform:[Y,X,"","none","gpu","cpu"]}],"transform-origin":[{origin:M()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:z()}],"translate-x":[{"translate-x":z()}],"translate-y":[{"translate-y":z()}],"translate-z":[{"translate-z":z()}],"translate-none":["translate-none"],accent:[{accent:F()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:F()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Y,X]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":E()}],"scroll-mx":[{"scroll-mx":E()}],"scroll-my":[{"scroll-my":E()}],"scroll-ms":[{"scroll-ms":E()}],"scroll-me":[{"scroll-me":E()}],"scroll-mt":[{"scroll-mt":E()}],"scroll-mr":[{"scroll-mr":E()}],"scroll-mb":[{"scroll-mb":E()}],"scroll-ml":[{"scroll-ml":E()}],"scroll-p":[{"scroll-p":E()}],"scroll-px":[{"scroll-px":E()}],"scroll-py":[{"scroll-py":E()}],"scroll-ps":[{"scroll-ps":E()}],"scroll-pe":[{"scroll-pe":E()}],"scroll-pt":[{"scroll-pt":E()}],"scroll-pr":[{"scroll-pr":E()}],"scroll-pb":[{"scroll-pb":E()}],"scroll-pl":[{"scroll-pl":E()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Y,X]}],fill:[{fill:["none",...F()]}],"stroke-w":[{stroke:[he,Tr,Ut,xn]}],stroke:[{stroke:["none",...F()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},Eu=au(Cu);function ke(...t){return Eu(oa(t))}const Tu=ia("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background text-foreground hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9 rounded-md"}},defaultVariants:{variant:"default",size:"default"}});function fe({className:t,variant:r,size:s,asChild:n=!1,...i}){const a=n?zi:"button";return e.jsx(a,{"data-slot":"button",className:ke(Tu({variant:r,size:s,className:t})),...i})}function xs({currentStep:t,totalSteps:r}){return e.jsxs("div",{className:"flex items-center gap-2",children:[Array.from({length:r},(s,n)=>e.jsx("div",{className:`
            h-1 flex-1 rounded-full transition-all duration-300
            ${n<t?"bg-primary":"bg-neutral-200 dark:bg-neutral-200/20"}
          `},n)),e.jsxs("span",{className:"text-label text-muted-foreground ml-2",children:[t,"/",r]})]})}function Rr({icon:t,title:r,description:s,iconBgColor:n="bg-primary/10",iconColor:i="text-primary"}){return e.jsxs("div",{className:"flex items-start gap-3 p-4 rounded-xl bg-card border border-border hover:border-primary/30 transition-all duration-200",style:{borderRadius:"12px",boxShadow:"var(--shadow-card)"},children:[e.jsx("div",{className:`p-2.5 rounded-lg ${n} ${i} flex-shrink-0`,children:e.jsx(t,{className:"w-5 h-5"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h3",{className:"text-body mb-1",children:r}),e.jsx("p",{className:"text-label text-muted-foreground",children:s})]})]})}const sr=k.forwardRef(({className:t,showStatus:r=!1,lowStimulationMode:s=!1,checked:n,...i},a)=>e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Yc,{className:ke("peer inline-flex h-7 w-[52px] shrink-0 cursor-pointer items-center rounded-full p-1","transition-colors duration-200","focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[#5468FF] focus-visible:ring-offset-2 focus-visible:ring-offset-background","disabled:cursor-not-allowed disabled:opacity-100","data-[state=checked]:bg-[#5468FF]","data-[state=unchecked]:bg-[#64748B]","dark:data-[state=checked]:bg-[#7C8BFF]","dark:data-[state=unchecked]:bg-[#94A3B8]","disabled:data-[state=checked]:bg-[#CBD5E1] dark:disabled:data-[state=checked]:bg-[#334155]","disabled:data-[state=unchecked]:bg-[#CBD5E1] dark:disabled:data-[state=unchecked]:bg-[#334155]",!s&&"hover:brightness-110 active:brightness-110",t),checked:n,...i,ref:a,children:e.jsx(Qc,{className:ke("pointer-events-none block h-5 w-5 rounded-full","transition-transform duration-200","bg-white",!s&&"shadow-sm hover:shadow-md data-[state=checked]:shadow-md",s&&"shadow-sm","data-[state=checked]:translate-x-6","data-[state=unchecked]:translate-x-0","data-[state=unchecked]:border data-[state=unchecked]:border-[#0F172A]","data-[state=checked]:border-0","dark:data-[state=checked]:bg-[#0B1220] dark:data-[state=checked]:border dark:data-[state=checked]:border-[#CBD5E1]","dark:data-[state=unchecked]:bg-[#111827] dark:data-[state=unchecked]:border dark:data-[state=unchecked]:border-[#E5E7EB]","disabled:bg-[#E5E7EB] dark:disabled:bg-[#1F2937]","disabled:border-0")})}),r&&e.jsx("span",{className:ke("text-label transition-colors duration-200",n?"text-[#16A34A]":"text-[#475569] dark:text-[#9CA3AF]"),children:n?"Enabled":"Disabled"})]}));sr.displayName="AccessibleSwitch";function Te({className:t,...r}){return e.jsx(Kc,{"data-slot":"label",className:ke("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",t),...r})}function Is({...t}){return e.jsx(qi,{"data-slot":"sheet",...t})}function Ls({...t}){return e.jsx(Ui,{"data-slot":"sheet-trigger",...t})}function Ru({...t}){return e.jsx(r0,{"data-slot":"sheet-portal",...t})}function Au({className:t,...r}){return e.jsx(s0,{"data-slot":"sheet-overlay",className:ke("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",t),...r})}function Os({className:t,children:r,side:s="right",...n}){return e.jsxs(Ru,{children:[e.jsx(Au,{}),e.jsxs(Jc,{"data-slot":"sheet-content",className:ke("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out fixed z-50 flex flex-col gap-4 shadow-lg transition ease-in-out data-[state=closed]:duration-300 data-[state=open]:duration-500",s==="right"&&"data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right inset-y-0 right-0 h-full w-3/4 border-l sm:max-w-sm",s==="left"&&"data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left inset-y-0 left-0 h-full w-3/4 border-r sm:max-w-sm",s==="top"&&"data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top inset-x-0 top-0 h-auto border-b",s==="bottom"&&"data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom inset-x-0 bottom-0 h-auto border-t",t),...n,children:[r,e.jsxs(Zc,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-secondary absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none",children:[e.jsx(lt,{className:"size-4"}),e.jsx("span",{className:"sr-only",children:"Close"})]})]})]})}function Ds({className:t,...r}){return e.jsx("div",{"data-slot":"sheet-header",className:ke("flex flex-col gap-1.5 p-4",t),...r})}function Fs({className:t,...r}){return e.jsx(e0,{"data-slot":"sheet-title",className:ke("text-foreground font-semibold",t),...r})}function $s({className:t,...r}){return e.jsx(t0,{"data-slot":"sheet-description",className:ke("text-muted-foreground text-sm",t),...r})}function Ar({id:t,icon:r,title:s,description:n,infoText:i,checked:a,onCheckedChange:d,badge:h,lowStimulationMode:c=!1}){return e.jsxs("div",{className:"flex items-start gap-4 py-4 px-4 cursor-pointer hover:bg-secondary/50 transition-colors duration-200 rounded-lg",onClick:()=>d(!a),role:"button",tabIndex:0,onKeyDown:l=>{(l.key==="Enter"||l.key===" ")&&(l.preventDefault(),d(!a))},style:{borderRadius:"8px"},children:[e.jsxs("div",{className:"flex-1 min-w-0 flex items-start gap-3",children:[e.jsx("div",{className:mi("p-2 rounded-lg flex-shrink-0",a?"bg-primary/10 text-primary":"bg-muted text-muted-foreground"),children:e.jsx(r,{className:"w-5 h-5"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1 flex-wrap",children:[e.jsx(Te,{htmlFor:t,className:"cursor-pointer",style:{fontSize:"16px",fontWeight:600},children:s}),h&&e.jsx("span",{className:mi("inline-flex items-center px-2 py-0.5 rounded-full text-label",h==="recommended"?"bg-success/10 text-success":"bg-secondary text-muted-foreground"),children:h==="recommended"?"Recommended":"Optional"})]}),e.jsx("p",{className:"text-muted-foreground",style:{fontSize:"14px",lineHeight:"20px",color:"var(--color-muted-foreground)"},children:n})]})]}),e.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[e.jsxs(Is,{children:[e.jsx(Ls,{asChild:!0,children:e.jsx("button",{className:"p-2 text-muted-foreground hover:text-foreground transition-colors rounded-lg hover:bg-secondary",onClick:l=>l.stopPropagation(),"aria-label":`More information about ${s}`,children:e.jsx(rt,{className:"w-4 h-4"})})}),e.jsx(Os,{side:"bottom",className:"rounded-t-xl",style:{borderRadius:"12px 12px 0 0"},children:e.jsxs(Ds,{children:[e.jsxs(Fs,{className:"flex items-center gap-2",children:[e.jsx(r,{className:"w-5 h-5 text-primary"}),s]}),e.jsx($s,{className:"text-left pt-4",children:i})]})})]}),e.jsx("div",{onClick:l=>l.stopPropagation(),children:e.jsx(sr,{id:t,checked:a,onCheckedChange:d,showStatus:!0,lowStimulationMode:c,"aria-label":s})})]})]})}function mi(...t){return t.filter(Boolean).join(" ")}function Pr({icon:t,name:r,status:s,lastSync:n,onManageClick:i,onConnectClick:a}){const d=s==="connected";return e.jsxs("div",{className:"p-4 rounded-xl bg-card border border-border space-y-3",style:{borderRadius:"12px",boxShadow:"var(--shadow-card)"},children:[e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex items-center justify-center w-12 h-12 rounded-lg bg-primary/10 shrink-0",style:{borderRadius:"8px"},children:e.jsx(t,{className:"w-6 h-6 text-primary"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h3",{className:"text-body",children:r}),e.jsxs("div",{className:"flex items-center gap-1.5 mt-0.5",children:[e.jsx("span",{className:`w-2 h-2 rounded-full shrink-0 ${d?"bg-success":"bg-neutral-600"}`}),e.jsx("span",{className:"text-label text-muted-foreground",children:d?"Connected":"Not connected"})]})]})]}),d&&n&&e.jsx("div",{className:"flex items-center justify-between text-label text-muted-foreground",children:e.jsxs("span",{children:["Last synced: ",n]})}),e.jsx("div",{children:d?e.jsxs("button",{onClick:i,className:"flex items-center justify-between w-full px-3 py-2 rounded-lg bg-muted hover:bg-muted/80 transition-colors",style:{borderRadius:"8px"},children:[e.jsx("span",{className:"text-label",children:"Manage permissions"}),e.jsx(et,{className:"w-4 h-4 text-muted-foreground"})]}):e.jsx(fe,{onClick:a,variant:"outline",className:"w-full rounded-lg",style:{borderRadius:"8px"},children:"Connect"})})]})}function Pu({percentage:t,riskLevel:r,size:s=160,strokeWidth:n=14,showConfidence:i=!1,confidence:a=85,lowStimulationMode:d=!1}){const h=(s-n)/2,c=2*Math.PI*h,l=c-t/100*c,p=t/100*360-90,f=s/2+h*Math.cos(p*Math.PI/180),b=s/2+h*Math.sin(p*Math.PI/180),x=t<=33?{start:"#8FBB5C",end:"#A0CC6F",dotColor:"#8FBB5C"}:t<=66?{start:"#FFB366",mid:"#FF9685",end:"#FF7B66",dotColor:"#FF7B66"}:{start:"#FFB366",mid:"#FF9685",end:"#FF9AA6",dotColor:"#FF9AA6"},g=`risk-gradient-${r}-${t}`,v=()=>r==="low"?"text-success":r==="moderate"?"text-primary":"text-warning",N=()=>r==="low"?"#8FBB5C":r==="moderate"?"#FF7B66":"#FF9AA6";return e.jsx("div",{className:"flex flex-col items-center gap-3",children:e.jsxs("div",{className:"relative",style:{width:s,height:s},children:[e.jsxs("svg",{width:s,height:s,className:"transform -rotate-90",children:[e.jsx("defs",{children:e.jsxs("linearGradient",{id:g,x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[e.jsx("stop",{offset:"0%",stopColor:x.start}),x.mid&&e.jsx("stop",{offset:"50%",stopColor:x.mid}),e.jsx("stop",{offset:"100%",stopColor:x.end})]})}),e.jsx("circle",{cx:s/2,cy:s/2,r:h,fill:"none",stroke:"currentColor",strokeWidth:n,className:"text-neutral-200/40 dark:text-neutral-700/40"}),e.jsx("circle",{cx:s/2,cy:s/2,r:h,fill:"none",stroke:`url(#${g})`,strokeWidth:n,strokeDasharray:c,strokeDashoffset:l,strokeLinecap:"round",className:d?"":"transition-all duration-200 ease-out",style:d?{}:{animation:"none"}})]}),t>0&&e.jsx("div",{className:`absolute rounded-full ${d?"":"transition-all duration-200 ease-out"}`,style:{width:`${n+2}px`,height:`${n+2}px`,left:`${f-(n+2)/2}px`,top:`${b-(n+2)/2}px`,backgroundColor:N(),boxShadow:`0 0 8px ${N()}40`}}),e.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center",children:[e.jsxs("div",{className:"text-display",children:[t,"%"]}),e.jsxs("div",{className:"flex items-center gap-1.5 mt-1",children:[e.jsx("div",{className:`w-1.5 h-1.5 rounded-full ${v()}`,style:{backgroundColor:N()}}),e.jsxs("span",{className:"text-label text-muted-foreground capitalize",children:[r," risk"]})]}),i&&a&&e.jsxs("div",{className:"text-label text-muted-foreground mt-1",children:["Confidence ",a,"%"]})]})]})})}var Bs="Collapsible",[Mu,wa]=Vr(Bs),[Iu,eo]=Mu(Bs),ya=k.forwardRef((t,r)=>{const{__scopeCollapsible:s,open:n,defaultOpen:i,disabled:a,onOpenChange:d,...h}=t,[c,l]=lr({prop:n,defaultProp:i??!1,onChange:d,caller:Bs});return e.jsx(Iu,{scope:s,disabled:a,contentId:Wr(),open:c,onOpenToggle:k.useCallback(()=>l(p=>!p),[l]),children:e.jsx(Ee.div,{"data-state":ro(c),"data-disabled":a?"":void 0,...h,ref:r})})});ya.displayName=Bs;var va="CollapsibleTrigger",ka=k.forwardRef((t,r)=>{const{__scopeCollapsible:s,...n}=t,i=eo(va,s);return e.jsx(Ee.button,{type:"button","aria-controls":i.contentId,"aria-expanded":i.open||!1,"data-state":ro(i.open),"data-disabled":i.disabled?"":void 0,disabled:i.disabled,...n,ref:r,onClick:Le(t.onClick,i.onOpenToggle)})});ka.displayName=va;var to="CollapsibleContent",Na=k.forwardRef((t,r)=>{const{forceMount:s,...n}=t,i=eo(to,t.__scopeCollapsible);return e.jsx(Vi,{present:s||i.open,children:({present:a})=>e.jsx(Lu,{...n,ref:r,present:a})})});Na.displayName=to;var Lu=k.forwardRef((t,r)=>{const{__scopeCollapsible:s,present:n,children:i,...a}=t,d=eo(to,s),[h,c]=k.useState(n),l=k.useRef(null),p=Be(r,l),f=k.useRef(0),b=f.current,w=k.useRef(0),x=w.current,g=d.open||h,v=k.useRef(g),N=k.useRef(void 0);return k.useEffect(()=>{const j=requestAnimationFrame(()=>v.current=!1);return()=>cancelAnimationFrame(j)},[]),Ve(()=>{const j=l.current;if(j){N.current=N.current||{transitionDuration:j.style.transitionDuration,animationName:j.style.animationName},j.style.transitionDuration="0s",j.style.animationName="none";const _=j.getBoundingClientRect();f.current=_.height,w.current=_.width,v.current||(j.style.transitionDuration=N.current.transitionDuration,j.style.animationName=N.current.animationName),c(n)}},[d.open,n]),e.jsx(Ee.div,{"data-state":ro(d.open),"data-disabled":d.disabled?"":void 0,id:d.contentId,hidden:!g,...a,ref:p,style:{"--radix-collapsible-content-height":b?`${b}px`:void 0,"--radix-collapsible-content-width":x?`${x}px`:void 0,...t.style},children:g&&i})});function ro(t){return t?"open":"closed"}var Ou=ya,Du=ka,Fu=Na,ut="Accordion",$u=["Home","End","ArrowDown","ArrowUp","ArrowLeft","ArrowRight"],[so,Bu,Hu]=Wi(ut),[Hs]=Vr(ut,[Hu,wa]),no=wa(),ja=ce.forwardRef((t,r)=>{const{type:s,...n}=t,i=n,a=n;return e.jsx(so.Provider,{scope:t.__scopeAccordion,children:s==="multiple"?e.jsx(Vu,{...a,ref:r}):e.jsx(Uu,{...i,ref:r})})});ja.displayName=ut;var[Sa,zu]=Hs(ut),[_a,qu]=Hs(ut,{collapsible:!1}),Uu=ce.forwardRef((t,r)=>{const{value:s,defaultValue:n,onValueChange:i=()=>{},collapsible:a=!1,...d}=t,[h,c]=lr({prop:s,defaultProp:n??"",onChange:i,caller:ut});return e.jsx(Sa,{scope:t.__scopeAccordion,value:ce.useMemo(()=>h?[h]:[],[h]),onItemOpen:c,onItemClose:ce.useCallback(()=>a&&c(""),[a,c]),children:e.jsx(_a,{scope:t.__scopeAccordion,collapsible:a,children:e.jsx(Ca,{...d,ref:r})})})}),Vu=ce.forwardRef((t,r)=>{const{value:s,defaultValue:n,onValueChange:i=()=>{},...a}=t,[d,h]=lr({prop:s,defaultProp:n??[],onChange:i,caller:ut}),c=ce.useCallback(p=>h((f=[])=>[...f,p]),[h]),l=ce.useCallback(p=>h((f=[])=>f.filter(b=>b!==p)),[h]);return e.jsx(Sa,{scope:t.__scopeAccordion,value:d,onItemOpen:c,onItemClose:l,children:e.jsx(_a,{scope:t.__scopeAccordion,collapsible:!0,children:e.jsx(Ca,{...a,ref:r})})})}),[Wu,zs]=Hs(ut),Ca=ce.forwardRef((t,r)=>{const{__scopeAccordion:s,disabled:n,dir:i,orientation:a="vertical",...d}=t,h=ce.useRef(null),c=Be(h,r),l=Bu(s),f=Gi(i)==="ltr",b=Le(t.onKeyDown,w=>{if(!$u.includes(w.key))return;const x=w.target,g=l().filter(E=>!E.ref.current?.disabled),v=g.findIndex(E=>E.ref.current===x),N=g.length;if(v===-1)return;w.preventDefault();let j=v;const _=0,I=N-1,M=()=>{j=v+1,j>I&&(j=_)},C=()=>{j=v-1,j<_&&(j=I)};switch(w.key){case"Home":j=_;break;case"End":j=I;break;case"ArrowRight":a==="horizontal"&&(f?M():C());break;case"ArrowDown":a==="vertical"&&M();break;case"ArrowLeft":a==="horizontal"&&(f?C():M());break;case"ArrowUp":a==="vertical"&&C();break}const P=j%N;g[P].ref.current?.focus()});return e.jsx(Wu,{scope:s,disabled:n,direction:i,orientation:a,children:e.jsx(so.Slot,{scope:s,children:e.jsx(Ee.div,{...d,"data-orientation":a,ref:c,onKeyDown:n?void 0:b})})})}),js="AccordionItem",[Gu,oo]=Hs(js),Ea=ce.forwardRef((t,r)=>{const{__scopeAccordion:s,value:n,...i}=t,a=zs(js,s),d=zu(js,s),h=no(s),c=Wr(),l=n&&d.value.includes(n)||!1,p=a.disabled||t.disabled;return e.jsx(Gu,{scope:s,open:l,disabled:p,triggerId:c,children:e.jsx(Ou,{"data-orientation":a.orientation,"data-state":Ia(l),...h,...i,ref:r,disabled:p,open:l,onOpenChange:f=>{f?d.onItemOpen(n):d.onItemClose(n)}})})});Ea.displayName=js;var Ta="AccordionHeader",Ra=ce.forwardRef((t,r)=>{const{__scopeAccordion:s,...n}=t,i=zs(ut,s),a=oo(Ta,s);return e.jsx(Ee.h3,{"data-orientation":i.orientation,"data-state":Ia(a.open),"data-disabled":a.disabled?"":void 0,...n,ref:r})});Ra.displayName=Ta;var On="AccordionTrigger",Aa=ce.forwardRef((t,r)=>{const{__scopeAccordion:s,...n}=t,i=zs(ut,s),a=oo(On,s),d=qu(On,s),h=no(s);return e.jsx(so.ItemSlot,{scope:s,children:e.jsx(Du,{"aria-disabled":a.open&&!d.collapsible||void 0,"data-orientation":i.orientation,id:a.triggerId,...h,...n,ref:r})})});Aa.displayName=On;var Pa="AccordionContent",Ma=ce.forwardRef((t,r)=>{const{__scopeAccordion:s,...n}=t,i=zs(ut,s),a=oo(Pa,s),d=no(s);return e.jsx(Fu,{role:"region","aria-labelledby":a.triggerId,"data-orientation":i.orientation,...d,...n,ref:r,style:{"--radix-accordion-content-height":"var(--radix-collapsible-content-height)","--radix-accordion-content-width":"var(--radix-collapsible-content-width)",...t.style}})});Ma.displayName=Pa;function Ia(t){return t?"open":"closed"}var Xu=ja,Yu=Ea,Qu=Ra,Ku=Aa,Ju=Ma;function Zu({...t}){return e.jsx(Xu,{"data-slot":"accordion",...t})}function e1({className:t,...r}){return e.jsx(Yu,{"data-slot":"accordion-item",className:ke("border-b last:border-b-0",t),...r})}function t1({className:t,children:r,...s}){return e.jsx(Qu,{className:"flex",children:e.jsxs(Ku,{"data-slot":"accordion-trigger",className:ke("focus-visible:border-ring focus-visible:ring-ring/50 flex flex-1 items-start justify-between gap-4 rounded-md py-4 text-left text-sm font-medium transition-all outline-none hover:underline focus-visible:ring-[3px] disabled:pointer-events-none disabled:opacity-50 [&[data-state=open]>svg]:rotate-180",t),...s,children:[r,e.jsx(Gr,{className:"text-muted-foreground pointer-events-none size-4 shrink-0 translate-y-0.5 transition-transform duration-200"})]})})}function r1({className:t,children:r,...s}){return e.jsx(Ju,{"data-slot":"accordion-content",className:"data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down overflow-hidden text-sm",...s,children:e.jsx("div",{className:ke("pt-0 pb-4",t),children:r})})}function s1({percentage:t,riskLevel:r,confidence:s=85,riskVariables:n=[],whatHelps:i=[],lowStimulationMode:a=!1}){const[d,h]=k.useState(!1),[c,l]=k.useState(typeof window<"u"?window.innerWidth:375);k.useEffect(()=>{const j=()=>l(window.innerWidth);return window.addEventListener("resize",j),()=>window.removeEventListener("resize",j)},[]);const p=Math.max(120,Math.min(220,Math.floor(c*.4))),f=p<150?12:14,b=j=>j>=20?"bg-red-500/15":j>=15?"bg-orange-500/15":j>=10?"bg-yellow-500/15":j>=5?"bg-lime-500/15":"bg-emerald-500/15",w=j=>j>=20?"bg-red-500 text-white":j>=15?"bg-orange-500 text-white":j>=10?"bg-yellow-300 text-gray-900":j>=5?"bg-lime-300 text-gray-900":"bg-emerald-400 text-gray-900",x=n.slice().sort((j,_)=>_.percentage-j.percentage).reduce((j,_)=>(j[_.category]||(j[_.category]=[]),j[_.category].push(_),j),{}),g={biometric:" Biometric",environmental:" Environmental",lifestyle:" Lifestyle",personal:" Personal"},v=[],N=()=>r==="low"?"bg-gradient-to-br from-success/8 via-primary/5 to-accent/8 dark:from-success/10 dark:via-primary/8 dark:to-accent/10":r==="moderate"?"bg-gradient-to-br from-primary/10 via-accent/8 to-primary/12 dark:from-primary/12 dark:via-accent/10 dark:to-primary/14":"bg-gradient-to-br from-accent/12 via-warning/10 to-critical/8 dark:from-accent/14 dark:via-warning/12 dark:to-critical/10";return e.jsxs("div",{className:`relative overflow-hidden rounded-2xl p-4 md:p-6 ${N()}`,style:{borderRadius:"16px",border:"1px solid",borderColor:"rgba(255, 123, 102, 0.12)"},children:[e.jsx("div",{className:"absolute top-0 left-0 w-64 h-64 rounded-full opacity-[0.15] pointer-events-none blur-3xl",style:{background:"radial-gradient(circle, rgba(255, 123, 102, 0.4) 0%, transparent 70%)",transform:"translate(-30%, -30%)"}}),e.jsxs("div",{className:"relative z-10 flex flex-col items-center space-y-3 md:space-y-4",children:[e.jsx(Pu,{percentage:t,riskLevel:r,size:p,strokeWidth:f,showConfidence:!1,confidence:s,lowStimulationMode:a}),e.jsxs("button",{onClick:()=>h(!0),className:"flex items-center gap-1.5 text-label text-primary-600 dark:text-primary hover:underline transition-colors group",style:{minHeight:"44px"},children:[e.jsx(An,{className:"w-4 h-4 opacity-70 group-hover:opacity-100 transition-opacity"}),"Why?"]})]}),d&&e.jsxs("div",{className:"fixed inset-0 z-50 bg-background text-foreground flex flex-col",children:[e.jsx("div",{className:"flex-shrink-0 border-b border-border/60 bg-background/80 backdrop-blur",children:e.jsxs("div",{className:"mx-auto max-w-5xl h-12 md:h-14 px-2 md:px-3 flex items-center",children:[e.jsx("button",{onClick:()=>h(!1),className:"flex items-center justify-center w-9 h-9 rounded-full bg-muted hover:bg-muted/80 transition-colors","aria-label":"Go back",children:e.jsx(C0,{className:"w-5 h-5"})}),e.jsxs("div",{className:"flex-1 flex flex-col items-center",children:[e.jsx("h2",{className:"text-base md:text-lg font-semibold",children:"Your risk factors"}),e.jsx("span",{className:"text-xs md:text-sm text-muted-foreground",children:"All current factors and their influence"})]}),e.jsx("div",{className:"w-9"})]})}),e.jsx("div",{className:"flex-1 overflow-y-auto overscroll-contain flex justify-center",children:e.jsxs("div",{className:"w-full max-w-5xl px-2 md:px-3 pt-3 pb-8",children:[n.length>0?e.jsx(Zu,{type:"multiple",defaultValue:v,className:"w-full",children:Object.entries(x).map(([j,_])=>e.jsxs(e1,{value:j,children:[e.jsx(t1,{className:"text-base md:text-lg justify-center",children:e.jsx("span",{children:g[j]})}),e.jsx(r1,{children:e.jsx("div",{className:"flex flex-col gap-2 md:gap-3 items-center",children:_.map((I,M)=>e.jsxs("div",{className:`flex items-center justify-center gap-2 md:gap-2.5 p-2 md:p-2.5 rounded-lg border border-border/40 transition-colors ${b(I.percentage)}`,style:{borderRadius:"10px"},children:[e.jsx("div",{className:"flex items-center justify-center w-7 h-7 md:w-8 md:h-8 rounded-md bg-card/80 shadow-sm flex-shrink-0",children:e.jsx(An,{className:"w-4 h-4 text-muted-foreground"})}),e.jsx("span",{className:"text-sm md:text-base font-medium whitespace-nowrap text-foreground",children:I.name}),e.jsxs("span",{className:"text-xs md:text-sm text-muted-foreground whitespace-nowrap",children:[I.value,I.unit?` ${I.unit}`:""]}),e.jsx("span",{className:`inline-flex items-center justify-center px-2.5 py-1 md:px-3 md:py-1.5 rounded-md shadow-sm ${w(I.percentage)}`,style:{borderRadius:"8px",minWidth:"56px"},children:e.jsxs("span",{className:"text-xs md:text-sm font-semibold",children:[I.percentage,"%"]})})]},M))})})]},j))}):e.jsx("div",{className:"text-center py-10 md:py-12 text-muted-foreground",children:e.jsx("p",{className:"text-base md:text-lg",children:"No significant risk factors detected"})}),i.length>0&&e.jsxs("div",{className:"space-y-3 pt-4 border-t border-border mt-4 flex flex-col items-center",children:[e.jsx("h3",{className:"text-base md:text-lg font-semibold text-center",children:" What helps reduce your risk"}),e.jsx("div",{className:"flex flex-wrap gap-2 justify-center",children:i.map((j,_)=>e.jsx("button",{onClick:()=>alert(`Action: ${j}`),className:"px-3 md:px-4 py-1.5 md:py-2 rounded-full bg-primary/10 text-primary text-sm md:text-base hover:bg-primary/20 transition-colors font-medium",style:{borderRadius:"24px",minHeight:"36px"},children:j},_))})]}),e.jsxs("div",{className:"mt-4 p-3 md:p-4 rounded-lg bg-warning/10 border border-warning/20 text-sm md:text-base text-muted-foreground text-center",style:{borderRadius:"12px"},children:[e.jsx("strong",{className:"font-semibold",children:"Note:"})," Ease provides risk estimates, not medical advice. Consult your healthcare provider for medical decisions."]})]})})]})]})}function fi({icon:t,title:r,description:s,actionLabel:n,onAction:i,iconBgColor:a="bg-primary/10",iconColor:d="text-primary"}){return e.jsxs("div",{className:"p-4 rounded-xl bg-card border border-border space-y-3 h-full",style:{borderRadius:"12px",boxShadow:"var(--shadow-card)"},children:[e.jsx("div",{className:`flex items-center justify-center w-12 h-12 rounded-lg ${a} shrink-0`,style:{borderRadius:"8px"},children:e.jsx(t,{className:`w-6 h-6 ${d}`})}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("h3",{className:"text-body",children:r}),e.jsx("p",{className:"text-label text-muted-foreground",children:s})]}),n&&i&&e.jsx("button",{onClick:i,className:"text-label text-primary hover:underline",children:n})]})}function n1({...t}){return e.jsx(qi,{"data-slot":"dialog",...t})}function o1({...t}){return e.jsx(Ui,{"data-slot":"dialog-trigger",...t})}function Dn({className:t,defaultValue:r,value:s,min:n=0,max:i=100,...a}){const d=k.useMemo(()=>Array.isArray(s)?s:Array.isArray(r)?r:[n,i],[s,r,n,i]);return e.jsxs(n0,{"data-slot":"slider",defaultValue:r,value:s,min:n,max:i,className:ke("relative flex w-full touch-none items-center select-none data-[disabled]:opacity-50 data-[orientation=vertical]:h-full data-[orientation=vertical]:min-h-44 data-[orientation=vertical]:w-auto data-[orientation=vertical]:flex-col",t),...a,children:[e.jsx(o0,{"data-slot":"slider-track",className:ke("bg-muted relative grow overflow-hidden rounded-full data-[orientation=horizontal]:h-4 data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-1.5"),children:e.jsx(i0,{"data-slot":"slider-range",className:ke("bg-primary absolute data-[orientation=horizontal]:h-full data-[orientation=vertical]:w-full")})}),Array.from({length:d.length},(h,c)=>e.jsx(a0,{"data-slot":"slider-thumb",className:"border-primary bg-background ring-ring/50 block size-4 shrink-0 rounded-full border shadow-sm transition-[color,box-shadow] hover:ring-4 focus-visible:ring-4 focus-visible:outline-hidden disabled:pointer-events-none disabled:opacity-50"},c))]})}function Ge({className:t,type:r,...s}){return e.jsx("input",{type:r,"data-slot":"input",className:ke("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border px-3 py-1 text-base bg-input-background transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",t),...s})}function gi({className:t,...r}){return e.jsx("textarea",{"data-slot":"textarea",className:ke("resize-none border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-input-background px-3 py-2 text-base transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),...r})}const i1=["top","right","bottom","left"],Lt=Math.min,Xe=Math.max,Ss=Math.round,bs=Math.floor,wt=t=>({x:t,y:t}),a1={left:"right",right:"left",bottom:"top",top:"bottom"},l1={start:"end",end:"start"};function Fn(t,r,s){return Xe(t,Lt(r,s))}function _t(t,r){return typeof t=="function"?t(r):t}function Ct(t){return t.split("-")[0]}function mr(t){return t.split("-")[1]}function io(t){return t==="x"?"y":"x"}function ao(t){return t==="y"?"height":"width"}const c1=new Set(["top","bottom"]);function bt(t){return c1.has(Ct(t))?"y":"x"}function lo(t){return io(bt(t))}function d1(t,r,s){s===void 0&&(s=!1);const n=mr(t),i=lo(t),a=ao(i);let d=i==="x"?n===(s?"end":"start")?"right":"left":n==="start"?"bottom":"top";return r.reference[a]>r.floating[a]&&(d=_s(d)),[d,_s(d)]}function u1(t){const r=_s(t);return[$n(t),r,$n(r)]}function $n(t){return t.replace(/start|end/g,r=>l1[r])}const xi=["left","right"],bi=["right","left"],h1=["top","bottom"],p1=["bottom","top"];function m1(t,r,s){switch(t){case"top":case"bottom":return s?r?bi:xi:r?xi:bi;case"left":case"right":return r?h1:p1;default:return[]}}function f1(t,r,s,n){const i=mr(t);let a=m1(Ct(t),s==="start",n);return i&&(a=a.map(d=>d+"-"+i),r&&(a=a.concat(a.map($n)))),a}function _s(t){return t.replace(/left|right|bottom|top/g,r=>a1[r])}function g1(t){return{top:0,right:0,bottom:0,left:0,...t}}function La(t){return typeof t!="number"?g1(t):{top:t,right:t,bottom:t,left:t}}function Cs(t){const{x:r,y:s,width:n,height:i}=t;return{width:n,height:i,top:s,left:r,right:r+n,bottom:s+i,x:r,y:s}}function wi(t,r,s){let{reference:n,floating:i}=t;const a=bt(r),d=lo(r),h=ao(d),c=Ct(r),l=a==="y",p=n.x+n.width/2-i.width/2,f=n.y+n.height/2-i.height/2,b=n[h]/2-i[h]/2;let w;switch(c){case"top":w={x:p,y:n.y-i.height};break;case"bottom":w={x:p,y:n.y+n.height};break;case"right":w={x:n.x+n.width,y:f};break;case"left":w={x:n.x-i.width,y:f};break;default:w={x:n.x,y:n.y}}switch(mr(r)){case"start":w[d]-=b*(s&&l?-1:1);break;case"end":w[d]+=b*(s&&l?-1:1);break}return w}const x1=async(t,r,s)=>{const{placement:n="bottom",strategy:i="absolute",middleware:a=[],platform:d}=s,h=a.filter(Boolean),c=await(d.isRTL==null?void 0:d.isRTL(r));let l=await d.getElementRects({reference:t,floating:r,strategy:i}),{x:p,y:f}=wi(l,n,c),b=n,w={},x=0;for(let g=0;g<h.length;g++){const{name:v,fn:N}=h[g],{x:j,y:_,data:I,reset:M}=await N({x:p,y:f,initialPlacement:n,placement:b,strategy:i,middlewareData:w,rects:l,platform:d,elements:{reference:t,floating:r}});p=j??p,f=_??f,w={...w,[v]:{...w[v],...I}},M&&x<=50&&(x++,typeof M=="object"&&(M.placement&&(b=M.placement),M.rects&&(l=M.rects===!0?await d.getElementRects({reference:t,floating:r,strategy:i}):M.rects),{x:p,y:f}=wi(l,b,c)),g=-1)}return{x:p,y:f,placement:b,strategy:i,middlewareData:w}};async function $r(t,r){var s;r===void 0&&(r={});const{x:n,y:i,platform:a,rects:d,elements:h,strategy:c}=t,{boundary:l="clippingAncestors",rootBoundary:p="viewport",elementContext:f="floating",altBoundary:b=!1,padding:w=0}=_t(r,t),x=La(w),v=h[b?f==="floating"?"reference":"floating":f],N=Cs(await a.getClippingRect({element:(s=await(a.isElement==null?void 0:a.isElement(v)))==null||s?v:v.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(h.floating)),boundary:l,rootBoundary:p,strategy:c})),j=f==="floating"?{x:n,y:i,width:d.floating.width,height:d.floating.height}:d.reference,_=await(a.getOffsetParent==null?void 0:a.getOffsetParent(h.floating)),I=await(a.isElement==null?void 0:a.isElement(_))?await(a.getScale==null?void 0:a.getScale(_))||{x:1,y:1}:{x:1,y:1},M=Cs(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:h,rect:j,offsetParent:_,strategy:c}):j);return{top:(N.top-M.top+x.top)/I.y,bottom:(M.bottom-N.bottom+x.bottom)/I.y,left:(N.left-M.left+x.left)/I.x,right:(M.right-N.right+x.right)/I.x}}const b1=t=>({name:"arrow",options:t,async fn(r){const{x:s,y:n,placement:i,rects:a,platform:d,elements:h,middlewareData:c}=r,{element:l,padding:p=0}=_t(t,r)||{};if(l==null)return{};const f=La(p),b={x:s,y:n},w=lo(i),x=ao(w),g=await d.getDimensions(l),v=w==="y",N=v?"top":"left",j=v?"bottom":"right",_=v?"clientHeight":"clientWidth",I=a.reference[x]+a.reference[w]-b[w]-a.floating[x],M=b[w]-a.reference[w],C=await(d.getOffsetParent==null?void 0:d.getOffsetParent(l));let P=C?C[_]:0;(!P||!await(d.isElement==null?void 0:d.isElement(C)))&&(P=h.floating[_]||a.floating[x]);const E=I/2-M/2,L=P/2-g[x]/2-1,$=Lt(f[N],L),R=Lt(f[j],L),U=$,H=P-g[x]-R,q=P/2-g[x]/2+E,G=Fn(U,q,H),W=!c.arrow&&mr(i)!=null&&q!==G&&a.reference[x]/2-(q<U?$:R)-g[x]/2<0,Q=W?q<U?q-U:q-H:0;return{[w]:b[w]+Q,data:{[w]:G,centerOffset:q-G-Q,...W&&{alignmentOffset:Q}},reset:W}}}),w1=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(r){var s,n;const{placement:i,middlewareData:a,rects:d,initialPlacement:h,platform:c,elements:l}=r,{mainAxis:p=!0,crossAxis:f=!0,fallbackPlacements:b,fallbackStrategy:w="bestFit",fallbackAxisSideDirection:x="none",flipAlignment:g=!0,...v}=_t(t,r);if((s=a.arrow)!=null&&s.alignmentOffset)return{};const N=Ct(i),j=bt(h),_=Ct(h)===h,I=await(c.isRTL==null?void 0:c.isRTL(l.floating)),M=b||(_||!g?[_s(h)]:u1(h)),C=x!=="none";!b&&C&&M.push(...f1(h,g,x,I));const P=[h,...M],E=await $r(r,v),L=[];let $=((n=a.flip)==null?void 0:n.overflows)||[];if(p&&L.push(E[N]),f){const q=d1(i,d,I);L.push(E[q[0]],E[q[1]])}if($=[...$,{placement:i,overflows:L}],!L.every(q=>q<=0)){var R,U;const q=(((R=a.flip)==null?void 0:R.index)||0)+1,G=P[q];if(G&&(!(f==="alignment"?j!==bt(G):!1)||$.every(F=>bt(F.placement)===j?F.overflows[0]>0:!0)))return{data:{index:q,overflows:$},reset:{placement:G}};let W=(U=$.filter(Q=>Q.overflows[0]<=0).sort((Q,F)=>Q.overflows[1]-F.overflows[1])[0])==null?void 0:U.placement;if(!W)switch(w){case"bestFit":{var H;const Q=(H=$.filter(F=>{if(C){const ne=bt(F.placement);return ne===j||ne==="y"}return!0}).map(F=>[F.placement,F.overflows.filter(ne=>ne>0).reduce((ne,be)=>ne+be,0)]).sort((F,ne)=>F[1]-ne[1])[0])==null?void 0:H[0];Q&&(W=Q);break}case"initialPlacement":W=h;break}if(i!==W)return{reset:{placement:W}}}return{}}}};function yi(t,r){return{top:t.top-r.height,right:t.right-r.width,bottom:t.bottom-r.height,left:t.left-r.width}}function vi(t){return i1.some(r=>t[r]>=0)}const y1=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(r){const{rects:s}=r,{strategy:n="referenceHidden",...i}=_t(t,r);switch(n){case"referenceHidden":{const a=await $r(r,{...i,elementContext:"reference"}),d=yi(a,s.reference);return{data:{referenceHiddenOffsets:d,referenceHidden:vi(d)}}}case"escaped":{const a=await $r(r,{...i,altBoundary:!0}),d=yi(a,s.floating);return{data:{escapedOffsets:d,escaped:vi(d)}}}default:return{}}}}},Oa=new Set(["left","top"]);async function v1(t,r){const{placement:s,platform:n,elements:i}=t,a=await(n.isRTL==null?void 0:n.isRTL(i.floating)),d=Ct(s),h=mr(s),c=bt(s)==="y",l=Oa.has(d)?-1:1,p=a&&c?-1:1,f=_t(r,t);let{mainAxis:b,crossAxis:w,alignmentAxis:x}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return h&&typeof x=="number"&&(w=h==="end"?x*-1:x),c?{x:w*p,y:b*l}:{x:b*l,y:w*p}}const k1=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(r){var s,n;const{x:i,y:a,placement:d,middlewareData:h}=r,c=await v1(r,t);return d===((s=h.offset)==null?void 0:s.placement)&&(n=h.arrow)!=null&&n.alignmentOffset?{}:{x:i+c.x,y:a+c.y,data:{...c,placement:d}}}}},N1=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(r){const{x:s,y:n,placement:i}=r,{mainAxis:a=!0,crossAxis:d=!1,limiter:h={fn:v=>{let{x:N,y:j}=v;return{x:N,y:j}}},...c}=_t(t,r),l={x:s,y:n},p=await $r(r,c),f=bt(Ct(i)),b=io(f);let w=l[b],x=l[f];if(a){const v=b==="y"?"top":"left",N=b==="y"?"bottom":"right",j=w+p[v],_=w-p[N];w=Fn(j,w,_)}if(d){const v=f==="y"?"top":"left",N=f==="y"?"bottom":"right",j=x+p[v],_=x-p[N];x=Fn(j,x,_)}const g=h.fn({...r,[b]:w,[f]:x});return{...g,data:{x:g.x-s,y:g.y-n,enabled:{[b]:a,[f]:d}}}}}},j1=function(t){return t===void 0&&(t={}),{options:t,fn(r){const{x:s,y:n,placement:i,rects:a,middlewareData:d}=r,{offset:h=0,mainAxis:c=!0,crossAxis:l=!0}=_t(t,r),p={x:s,y:n},f=bt(i),b=io(f);let w=p[b],x=p[f];const g=_t(h,r),v=typeof g=="number"?{mainAxis:g,crossAxis:0}:{mainAxis:0,crossAxis:0,...g};if(c){const _=b==="y"?"height":"width",I=a.reference[b]-a.floating[_]+v.mainAxis,M=a.reference[b]+a.reference[_]-v.mainAxis;w<I?w=I:w>M&&(w=M)}if(l){var N,j;const _=b==="y"?"width":"height",I=Oa.has(Ct(i)),M=a.reference[f]-a.floating[_]+(I&&((N=d.offset)==null?void 0:N[f])||0)+(I?0:v.crossAxis),C=a.reference[f]+a.reference[_]+(I?0:((j=d.offset)==null?void 0:j[f])||0)-(I?v.crossAxis:0);x<M?x=M:x>C&&(x=C)}return{[b]:w,[f]:x}}}},S1=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(r){var s,n;const{placement:i,rects:a,platform:d,elements:h}=r,{apply:c=()=>{},...l}=_t(t,r),p=await $r(r,l),f=Ct(i),b=mr(i),w=bt(i)==="y",{width:x,height:g}=a.floating;let v,N;f==="top"||f==="bottom"?(v=f,N=b===(await(d.isRTL==null?void 0:d.isRTL(h.floating))?"start":"end")?"left":"right"):(N=f,v=b==="end"?"top":"bottom");const j=g-p.top-p.bottom,_=x-p.left-p.right,I=Lt(g-p[v],j),M=Lt(x-p[N],_),C=!r.middlewareData.shift;let P=I,E=M;if((s=r.middlewareData.shift)!=null&&s.enabled.x&&(E=_),(n=r.middlewareData.shift)!=null&&n.enabled.y&&(P=j),C&&!b){const $=Xe(p.left,0),R=Xe(p.right,0),U=Xe(p.top,0),H=Xe(p.bottom,0);w?E=x-2*($!==0||R!==0?$+R:Xe(p.left,p.right)):P=g-2*(U!==0||H!==0?U+H:Xe(p.top,p.bottom))}await c({...r,availableWidth:E,availableHeight:P});const L=await d.getDimensions(h.floating);return x!==L.width||g!==L.height?{reset:{rects:!0}}:{}}}};function qs(){return typeof window<"u"}function fr(t){return Da(t)?(t.nodeName||"").toLowerCase():"#document"}function Ye(t){var r;return(t==null||(r=t.ownerDocument)==null?void 0:r.defaultView)||window}function vt(t){var r;return(r=(Da(t)?t.ownerDocument:t.document)||window.document)==null?void 0:r.documentElement}function Da(t){return qs()?t instanceof Node||t instanceof Ye(t).Node:!1}function ct(t){return qs()?t instanceof Element||t instanceof Ye(t).Element:!1}function yt(t){return qs()?t instanceof HTMLElement||t instanceof Ye(t).HTMLElement:!1}function ki(t){return!qs()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Ye(t).ShadowRoot}const _1=new Set(["inline","contents"]);function Xr(t){const{overflow:r,overflowX:s,overflowY:n,display:i}=dt(t);return/auto|scroll|overlay|hidden|clip/.test(r+n+s)&&!_1.has(i)}const C1=new Set(["table","td","th"]);function E1(t){return C1.has(fr(t))}const T1=[":popover-open",":modal"];function Us(t){return T1.some(r=>{try{return t.matches(r)}catch{return!1}})}const R1=["transform","translate","scale","rotate","perspective"],A1=["transform","translate","scale","rotate","perspective","filter"],P1=["paint","layout","strict","content"];function co(t){const r=uo(),s=ct(t)?dt(t):t;return R1.some(n=>s[n]?s[n]!=="none":!1)||(s.containerType?s.containerType!=="normal":!1)||!r&&(s.backdropFilter?s.backdropFilter!=="none":!1)||!r&&(s.filter?s.filter!=="none":!1)||A1.some(n=>(s.willChange||"").includes(n))||P1.some(n=>(s.contain||"").includes(n))}function M1(t){let r=Ot(t);for(;yt(r)&&!ur(r);){if(co(r))return r;if(Us(r))return null;r=Ot(r)}return null}function uo(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const I1=new Set(["html","body","#document"]);function ur(t){return I1.has(fr(t))}function dt(t){return Ye(t).getComputedStyle(t)}function Vs(t){return ct(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Ot(t){if(fr(t)==="html")return t;const r=t.assignedSlot||t.parentNode||ki(t)&&t.host||vt(t);return ki(r)?r.host:r}function Fa(t){const r=Ot(t);return ur(r)?t.ownerDocument?t.ownerDocument.body:t.body:yt(r)&&Xr(r)?r:Fa(r)}function Br(t,r,s){var n;r===void 0&&(r=[]),s===void 0&&(s=!0);const i=Fa(t),a=i===((n=t.ownerDocument)==null?void 0:n.body),d=Ye(i);if(a){const h=Bn(d);return r.concat(d,d.visualViewport||[],Xr(i)?i:[],h&&s?Br(h):[])}return r.concat(i,Br(i,[],s))}function Bn(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function $a(t){const r=dt(t);let s=parseFloat(r.width)||0,n=parseFloat(r.height)||0;const i=yt(t),a=i?t.offsetWidth:s,d=i?t.offsetHeight:n,h=Ss(s)!==a||Ss(n)!==d;return h&&(s=a,n=d),{width:s,height:n,$:h}}function ho(t){return ct(t)?t:t.contextElement}function ir(t){const r=ho(t);if(!yt(r))return wt(1);const s=r.getBoundingClientRect(),{width:n,height:i,$:a}=$a(r);let d=(a?Ss(s.width):s.width)/n,h=(a?Ss(s.height):s.height)/i;return(!d||!Number.isFinite(d))&&(d=1),(!h||!Number.isFinite(h))&&(h=1),{x:d,y:h}}const L1=wt(0);function Ba(t){const r=Ye(t);return!uo()||!r.visualViewport?L1:{x:r.visualViewport.offsetLeft,y:r.visualViewport.offsetTop}}function O1(t,r,s){return r===void 0&&(r=!1),!s||r&&s!==Ye(t)?!1:r}function Vt(t,r,s,n){r===void 0&&(r=!1),s===void 0&&(s=!1);const i=t.getBoundingClientRect(),a=ho(t);let d=wt(1);r&&(n?ct(n)&&(d=ir(n)):d=ir(t));const h=O1(a,s,n)?Ba(a):wt(0);let c=(i.left+h.x)/d.x,l=(i.top+h.y)/d.y,p=i.width/d.x,f=i.height/d.y;if(a){const b=Ye(a),w=n&&ct(n)?Ye(n):n;let x=b,g=Bn(x);for(;g&&n&&w!==x;){const v=ir(g),N=g.getBoundingClientRect(),j=dt(g),_=N.left+(g.clientLeft+parseFloat(j.paddingLeft))*v.x,I=N.top+(g.clientTop+parseFloat(j.paddingTop))*v.y;c*=v.x,l*=v.y,p*=v.x,f*=v.y,c+=_,l+=I,x=Ye(g),g=Bn(x)}}return Cs({width:p,height:f,x:c,y:l})}function Ws(t,r){const s=Vs(t).scrollLeft;return r?r.left+s:Vt(vt(t)).left+s}function Ha(t,r){const s=t.getBoundingClientRect(),n=s.left+r.scrollLeft-Ws(t,s),i=s.top+r.scrollTop;return{x:n,y:i}}function D1(t){let{elements:r,rect:s,offsetParent:n,strategy:i}=t;const a=i==="fixed",d=vt(n),h=r?Us(r.floating):!1;if(n===d||h&&a)return s;let c={scrollLeft:0,scrollTop:0},l=wt(1);const p=wt(0),f=yt(n);if((f||!f&&!a)&&((fr(n)!=="body"||Xr(d))&&(c=Vs(n)),yt(n))){const w=Vt(n);l=ir(n),p.x=w.x+n.clientLeft,p.y=w.y+n.clientTop}const b=d&&!f&&!a?Ha(d,c):wt(0);return{width:s.width*l.x,height:s.height*l.y,x:s.x*l.x-c.scrollLeft*l.x+p.x+b.x,y:s.y*l.y-c.scrollTop*l.y+p.y+b.y}}function F1(t){return Array.from(t.getClientRects())}function $1(t){const r=vt(t),s=Vs(t),n=t.ownerDocument.body,i=Xe(r.scrollWidth,r.clientWidth,n.scrollWidth,n.clientWidth),a=Xe(r.scrollHeight,r.clientHeight,n.scrollHeight,n.clientHeight);let d=-s.scrollLeft+Ws(t);const h=-s.scrollTop;return dt(n).direction==="rtl"&&(d+=Xe(r.clientWidth,n.clientWidth)-i),{width:i,height:a,x:d,y:h}}const Ni=25;function B1(t,r){const s=Ye(t),n=vt(t),i=s.visualViewport;let a=n.clientWidth,d=n.clientHeight,h=0,c=0;if(i){a=i.width,d=i.height;const p=uo();(!p||p&&r==="fixed")&&(h=i.offsetLeft,c=i.offsetTop)}const l=Ws(n);if(l<=0){const p=n.ownerDocument,f=p.body,b=getComputedStyle(f),w=p.compatMode==="CSS1Compat"&&parseFloat(b.marginLeft)+parseFloat(b.marginRight)||0,x=Math.abs(n.clientWidth-f.clientWidth-w);x<=Ni&&(a-=x)}else l<=Ni&&(a+=l);return{width:a,height:d,x:h,y:c}}const H1=new Set(["absolute","fixed"]);function z1(t,r){const s=Vt(t,!0,r==="fixed"),n=s.top+t.clientTop,i=s.left+t.clientLeft,a=yt(t)?ir(t):wt(1),d=t.clientWidth*a.x,h=t.clientHeight*a.y,c=i*a.x,l=n*a.y;return{width:d,height:h,x:c,y:l}}function ji(t,r,s){let n;if(r==="viewport")n=B1(t,s);else if(r==="document")n=$1(vt(t));else if(ct(r))n=z1(r,s);else{const i=Ba(t);n={x:r.x-i.x,y:r.y-i.y,width:r.width,height:r.height}}return Cs(n)}function za(t,r){const s=Ot(t);return s===r||!ct(s)||ur(s)?!1:dt(s).position==="fixed"||za(s,r)}function q1(t,r){const s=r.get(t);if(s)return s;let n=Br(t,[],!1).filter(h=>ct(h)&&fr(h)!=="body"),i=null;const a=dt(t).position==="fixed";let d=a?Ot(t):t;for(;ct(d)&&!ur(d);){const h=dt(d),c=co(d);!c&&h.position==="fixed"&&(i=null),(a?!c&&!i:!c&&h.position==="static"&&!!i&&H1.has(i.position)||Xr(d)&&!c&&za(t,d))?n=n.filter(p=>p!==d):i=h,d=Ot(d)}return r.set(t,n),n}function U1(t){let{element:r,boundary:s,rootBoundary:n,strategy:i}=t;const d=[...s==="clippingAncestors"?Us(r)?[]:q1(r,this._c):[].concat(s),n],h=d[0],c=d.reduce((l,p)=>{const f=ji(r,p,i);return l.top=Xe(f.top,l.top),l.right=Lt(f.right,l.right),l.bottom=Lt(f.bottom,l.bottom),l.left=Xe(f.left,l.left),l},ji(r,h,i));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function V1(t){const{width:r,height:s}=$a(t);return{width:r,height:s}}function W1(t,r,s){const n=yt(r),i=vt(r),a=s==="fixed",d=Vt(t,!0,a,r);let h={scrollLeft:0,scrollTop:0};const c=wt(0);function l(){c.x=Ws(i)}if(n||!n&&!a)if((fr(r)!=="body"||Xr(i))&&(h=Vs(r)),n){const w=Vt(r,!0,a,r);c.x=w.x+r.clientLeft,c.y=w.y+r.clientTop}else i&&l();a&&!n&&i&&l();const p=i&&!n&&!a?Ha(i,h):wt(0),f=d.left+h.scrollLeft-c.x-p.x,b=d.top+h.scrollTop-c.y-p.y;return{x:f,y:b,width:d.width,height:d.height}}function bn(t){return dt(t).position==="static"}function Si(t,r){if(!yt(t)||dt(t).position==="fixed")return null;if(r)return r(t);let s=t.offsetParent;return vt(t)===s&&(s=s.ownerDocument.body),s}function qa(t,r){const s=Ye(t);if(Us(t))return s;if(!yt(t)){let i=Ot(t);for(;i&&!ur(i);){if(ct(i)&&!bn(i))return i;i=Ot(i)}return s}let n=Si(t,r);for(;n&&E1(n)&&bn(n);)n=Si(n,r);return n&&ur(n)&&bn(n)&&!co(n)?s:n||M1(t)||s}const G1=async function(t){const r=this.getOffsetParent||qa,s=this.getDimensions,n=await s(t.floating);return{reference:W1(t.reference,await r(t.floating),t.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function X1(t){return dt(t).direction==="rtl"}const Y1={convertOffsetParentRelativeRectToViewportRelativeRect:D1,getDocumentElement:vt,getClippingRect:U1,getOffsetParent:qa,getElementRects:G1,getClientRects:F1,getDimensions:V1,getScale:ir,isElement:ct,isRTL:X1};function Ua(t,r){return t.x===r.x&&t.y===r.y&&t.width===r.width&&t.height===r.height}function Q1(t,r){let s=null,n;const i=vt(t);function a(){var h;clearTimeout(n),(h=s)==null||h.disconnect(),s=null}function d(h,c){h===void 0&&(h=!1),c===void 0&&(c=1),a();const l=t.getBoundingClientRect(),{left:p,top:f,width:b,height:w}=l;if(h||r(),!b||!w)return;const x=bs(f),g=bs(i.clientWidth-(p+b)),v=bs(i.clientHeight-(f+w)),N=bs(p),_={rootMargin:-x+"px "+-g+"px "+-v+"px "+-N+"px",threshold:Xe(0,Lt(1,c))||1};let I=!0;function M(C){const P=C[0].intersectionRatio;if(P!==c){if(!I)return d();P?d(!1,P):n=setTimeout(()=>{d(!1,1e-7)},1e3)}P===1&&!Ua(l,t.getBoundingClientRect())&&d(),I=!1}try{s=new IntersectionObserver(M,{..._,root:i.ownerDocument})}catch{s=new IntersectionObserver(M,_)}s.observe(t)}return d(!0),a}function K1(t,r,s,n){n===void 0&&(n={});const{ancestorScroll:i=!0,ancestorResize:a=!0,elementResize:d=typeof ResizeObserver=="function",layoutShift:h=typeof IntersectionObserver=="function",animationFrame:c=!1}=n,l=ho(t),p=i||a?[...l?Br(l):[],...Br(r)]:[];p.forEach(N=>{i&&N.addEventListener("scroll",s,{passive:!0}),a&&N.addEventListener("resize",s)});const f=l&&h?Q1(l,s):null;let b=-1,w=null;d&&(w=new ResizeObserver(N=>{let[j]=N;j&&j.target===l&&w&&(w.unobserve(r),cancelAnimationFrame(b),b=requestAnimationFrame(()=>{var _;(_=w)==null||_.observe(r)})),s()}),l&&!c&&w.observe(l),w.observe(r));let x,g=c?Vt(t):null;c&&v();function v(){const N=Vt(t);g&&!Ua(g,N)&&s(),g=N,x=requestAnimationFrame(v)}return s(),()=>{var N;p.forEach(j=>{i&&j.removeEventListener("scroll",s),a&&j.removeEventListener("resize",s)}),f?.(),(N=w)==null||N.disconnect(),w=null,c&&cancelAnimationFrame(x)}}const J1=k1,Z1=N1,eh=w1,th=S1,rh=y1,_i=b1,sh=j1,nh=(t,r,s)=>{const n=new Map,i={platform:Y1,...s},a={...i.platform,_c:n};return x1(t,r,{...i,platform:a})};var oh=typeof document<"u",ih=function(){},ws=oh?k.useLayoutEffect:ih;function Es(t,r){if(t===r)return!0;if(typeof t!=typeof r)return!1;if(typeof t=="function"&&t.toString()===r.toString())return!0;let s,n,i;if(t&&r&&typeof t=="object"){if(Array.isArray(t)){if(s=t.length,s!==r.length)return!1;for(n=s;n--!==0;)if(!Es(t[n],r[n]))return!1;return!0}if(i=Object.keys(t),s=i.length,s!==Object.keys(r).length)return!1;for(n=s;n--!==0;)if(!{}.hasOwnProperty.call(r,i[n]))return!1;for(n=s;n--!==0;){const a=i[n];if(!(a==="_owner"&&t.$$typeof)&&!Es(t[a],r[a]))return!1}return!0}return t!==t&&r!==r}function Va(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function Ci(t,r){const s=Va(t);return Math.round(r*s)/s}function wn(t){const r=k.useRef(t);return ws(()=>{r.current=t}),r}function ah(t){t===void 0&&(t={});const{placement:r="bottom",strategy:s="absolute",middleware:n=[],platform:i,elements:{reference:a,floating:d}={},transform:h=!0,whileElementsMounted:c,open:l}=t,[p,f]=k.useState({x:0,y:0,strategy:s,placement:r,middlewareData:{},isPositioned:!1}),[b,w]=k.useState(n);Es(b,n)||w(n);const[x,g]=k.useState(null),[v,N]=k.useState(null),j=k.useCallback(F=>{F!==C.current&&(C.current=F,g(F))},[]),_=k.useCallback(F=>{F!==P.current&&(P.current=F,N(F))},[]),I=a||x,M=d||v,C=k.useRef(null),P=k.useRef(null),E=k.useRef(p),L=c!=null,$=wn(c),R=wn(i),U=wn(l),H=k.useCallback(()=>{if(!C.current||!P.current)return;const F={placement:r,strategy:s,middleware:b};R.current&&(F.platform=R.current),nh(C.current,P.current,F).then(ne=>{const be={...ne,isPositioned:U.current!==!1};q.current&&!Es(E.current,be)&&(E.current=be,Qn.flushSync(()=>{f(be)}))})},[b,r,s,R,U]);ws(()=>{l===!1&&E.current.isPositioned&&(E.current.isPositioned=!1,f(F=>({...F,isPositioned:!1})))},[l]);const q=k.useRef(!1);ws(()=>(q.current=!0,()=>{q.current=!1}),[]),ws(()=>{if(I&&(C.current=I),M&&(P.current=M),I&&M){if($.current)return $.current(I,M,H);H()}},[I,M,H,$,L]);const G=k.useMemo(()=>({reference:C,floating:P,setReference:j,setFloating:_}),[j,_]),W=k.useMemo(()=>({reference:I,floating:M}),[I,M]),Q=k.useMemo(()=>{const F={position:s,left:0,top:0};if(!W.floating)return F;const ne=Ci(W.floating,p.x),be=Ci(W.floating,p.y);return h?{...F,transform:"translate("+ne+"px, "+be+"px)",...Va(W.floating)>=1.5&&{willChange:"transform"}}:{position:s,left:ne,top:be}},[s,h,W.floating,p.x,p.y]);return k.useMemo(()=>({...p,update:H,refs:G,elements:W,floatingStyles:Q}),[p,H,G,W,Q])}const lh=t=>{function r(s){return{}.hasOwnProperty.call(s,"current")}return{name:"arrow",options:t,fn(s){const{element:n,padding:i}=typeof t=="function"?t(s):t;return n&&r(n)?n.current!=null?_i({element:n.current,padding:i}).fn(s):{}:n?_i({element:n,padding:i}).fn(s):{}}}},ch=(t,r)=>({...J1(t),options:[t,r]}),dh=(t,r)=>({...Z1(t),options:[t,r]}),uh=(t,r)=>({...sh(t),options:[t,r]}),hh=(t,r)=>({...eh(t),options:[t,r]}),ph=(t,r)=>({...th(t),options:[t,r]}),mh=(t,r)=>({...rh(t),options:[t,r]}),fh=(t,r)=>({...lh(t),options:[t,r]});var gh="Arrow",Wa=k.forwardRef((t,r)=>{const{children:s,width:n=10,height:i=5,...a}=t;return e.jsx(Ee.svg,{...a,ref:r,width:n,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?s:e.jsx("polygon",{points:"0,0 30,0 15,10"})})});Wa.displayName=gh;var xh=Wa,po="Popper",[Ga,Xa]=Vr(po),[bh,Ya]=Ga(po),Qa=t=>{const{__scopePopper:r,children:s}=t,[n,i]=k.useState(null);return e.jsx(bh,{scope:r,anchor:n,onAnchorChange:i,children:s})};Qa.displayName=po;var Ka="PopperAnchor",Ja=k.forwardRef((t,r)=>{const{__scopePopper:s,virtualRef:n,...i}=t,a=Ya(Ka,s),d=k.useRef(null),h=Be(r,d),c=k.useRef(null);return k.useEffect(()=>{const l=c.current;c.current=n?.current||d.current,l!==c.current&&a.onAnchorChange(c.current)}),n?null:e.jsx(Ee.div,{...i,ref:h})});Ja.displayName=Ka;var mo="PopperContent",[wh,yh]=Ga(mo),Za=k.forwardRef((t,r)=>{const{__scopePopper:s,side:n="bottom",sideOffset:i=0,align:a="center",alignOffset:d=0,arrowPadding:h=0,avoidCollisions:c=!0,collisionBoundary:l=[],collisionPadding:p=0,sticky:f="partial",hideWhenDetached:b=!1,updatePositionStrategy:w="optimized",onPlaced:x,...g}=t,v=Ya(mo,s),[N,j]=k.useState(null),_=Be(r,O=>j(O)),[I,M]=k.useState(null),C=Xi(I),P=C?.width??0,E=C?.height??0,L=n+(a!=="center"?"-"+a:""),$=typeof p=="number"?p:{top:0,right:0,bottom:0,left:0,...p},R=Array.isArray(l)?l:[l],U=R.length>0,H={padding:$,boundary:R.filter(kh),altBoundary:U},{refs:q,floatingStyles:G,placement:W,isPositioned:Q,middlewareData:F}=ah({strategy:"fixed",placement:L,whileElementsMounted:(...O)=>K1(...O,{animationFrame:w==="always"}),elements:{reference:v.anchor},middleware:[ch({mainAxis:i+E,alignmentAxis:d}),c&&dh({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?uh():void 0,...H}),c&&hh({...H}),ph({...H,apply:({elements:O,rects:J,availableWidth:ue,availableHeight:oe})=>{const{width:ee,height:z}=J.reference,ie=O.floating.style;ie.setProperty("--radix-popper-available-width",`${ue}px`),ie.setProperty("--radix-popper-available-height",`${oe}px`),ie.setProperty("--radix-popper-anchor-width",`${ee}px`),ie.setProperty("--radix-popper-anchor-height",`${z}px`)}}),I&&fh({element:I,padding:h}),Nh({arrowWidth:P,arrowHeight:E}),b&&mh({strategy:"referenceHidden",...H})]}),[ne,be]=rl(W),ye=Kn(x);Ve(()=>{Q&&ye?.()},[Q,ye]);const _e=F.arrow?.x,we=F.arrow?.y,pe=F.arrow?.centerOffset!==0,[Ie,Oe]=k.useState();return Ve(()=>{N&&Oe(window.getComputedStyle(N).zIndex)},[N]),e.jsx("div",{ref:q.setFloating,"data-radix-popper-content-wrapper":"",style:{...G,transform:Q?G.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Ie,"--radix-popper-transform-origin":[F.transformOrigin?.x,F.transformOrigin?.y].join(" "),...F.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:e.jsx(wh,{scope:s,placedSide:ne,onArrowChange:M,arrowX:_e,arrowY:we,shouldHideArrow:pe,children:e.jsx(Ee.div,{"data-side":ne,"data-align":be,...g,ref:_,style:{...g.style,animation:Q?void 0:"none"}})})})});Za.displayName=mo;var el="PopperArrow",vh={top:"bottom",right:"left",bottom:"top",left:"right"},tl=k.forwardRef(function(r,s){const{__scopePopper:n,...i}=r,a=yh(el,n),d=vh[a.placedSide];return e.jsx("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[d]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:e.jsx(xh,{...i,ref:s,style:{...i.style,display:"block"}})})});tl.displayName=el;function kh(t){return t!==null}var Nh=t=>({name:"transformOrigin",options:t,fn(r){const{placement:s,rects:n,middlewareData:i}=r,d=i.arrow?.centerOffset!==0,h=d?0:t.arrowWidth,c=d?0:t.arrowHeight,[l,p]=rl(s),f={start:"0%",center:"50%",end:"100%"}[p],b=(i.arrow?.x??0)+h/2,w=(i.arrow?.y??0)+c/2;let x="",g="";return l==="bottom"?(x=d?f:`${b}px`,g=`${-c}px`):l==="top"?(x=d?f:`${b}px`,g=`${n.floating.height+c}px`):l==="right"?(x=`${-c}px`,g=d?f:`${w}px`):l==="left"&&(x=`${n.floating.width+c}px`,g=d?f:`${w}px`),{data:{x,y:g}}}});function rl(t){const[r,s="center"]=t.split("-");return[r,s]}var jh=Qa,Sh=Ja,_h=Za,Ch=tl;function Eh(t){const r=Th(t),s=k.forwardRef((n,i)=>{const{children:a,...d}=n,h=k.Children.toArray(a),c=h.find(Ah);if(c){const l=c.props.children,p=h.map(f=>f===c?k.Children.count(l)>1?k.Children.only(null):k.isValidElement(l)?l.props.children:null:f);return e.jsx(r,{...d,ref:i,children:k.isValidElement(l)?k.cloneElement(l,void 0,p):null})}return e.jsx(r,{...d,ref:i,children:a})});return s.displayName=`${t}.Slot`,s}function Th(t){const r=k.forwardRef((s,n)=>{const{children:i,...a}=s;if(k.isValidElement(i)){const d=Mh(i),h=Ph(a,i.props);return i.type!==k.Fragment&&(h.ref=n?l0(n,d):d),k.cloneElement(i,h)}return k.Children.count(i)>1?k.Children.only(null):null});return r.displayName=`${t}.SlotClone`,r}var Rh=Symbol("radix.slottable");function Ah(t){return k.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===Rh}function Ph(t,r){const s={...r};for(const n in r){const i=t[n],a=r[n];/^on[A-Z]/.test(n)?i&&a?s[n]=(...h)=>{const c=a(...h);return i(...h),c}:i&&(s[n]=i):n==="style"?s[n]={...i,...a}:n==="className"&&(s[n]=[i,a].filter(Boolean).join(" "))}return{...t,...s}}function Mh(t){let r=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,s=r&&"isReactWarning"in r&&r.isReactWarning;return s?t.ref:(r=Object.getOwnPropertyDescriptor(t,"ref")?.get,s=r&&"isReactWarning"in r&&r.isReactWarning,s?t.props.ref:t.props.ref||t.ref)}var sl=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),Ih="VisuallyHidden",Lh=k.forwardRef((t,r)=>e.jsx(Ee.span,{...t,ref:r,style:{...sl,...t.style}}));Lh.displayName=Ih;var Oh=[" ","Enter","ArrowUp","ArrowDown"],Dh=[" ","Enter"],Wt="Select",[Gs,Xs,Fh]=Wi(Wt),[gr]=Vr(Wt,[Fh,Xa]),Ys=Xa(),[$h,Dt]=gr(Wt),[Bh,Hh]=gr(Wt),nl=t=>{const{__scopeSelect:r,children:s,open:n,defaultOpen:i,onOpenChange:a,value:d,defaultValue:h,onValueChange:c,dir:l,name:p,autoComplete:f,disabled:b,required:w,form:x}=t,g=Ys(r),[v,N]=k.useState(null),[j,_]=k.useState(null),[I,M]=k.useState(!1),C=Gi(l),[P,E]=lr({prop:n,defaultProp:i??!1,onChange:a,caller:Wt}),[L,$]=lr({prop:d,defaultProp:h,onChange:c,caller:Wt}),R=k.useRef(null),U=v?x||!!v.closest("form"):!0,[H,q]=k.useState(new Set),G=Array.from(H).map(W=>W.props.value).join(";");return e.jsx(jh,{...g,children:e.jsxs($h,{required:w,scope:r,trigger:v,onTriggerChange:N,valueNode:j,onValueNodeChange:_,valueNodeHasChildren:I,onValueNodeHasChildrenChange:M,contentId:Wr(),value:L,onValueChange:$,open:P,onOpenChange:E,dir:C,triggerPointerDownPosRef:R,disabled:b,children:[e.jsx(Gs.Provider,{scope:r,children:e.jsx(Bh,{scope:t.__scopeSelect,onNativeOptionAdd:k.useCallback(W=>{q(Q=>new Set(Q).add(W))},[]),onNativeOptionRemove:k.useCallback(W=>{q(Q=>{const F=new Set(Q);return F.delete(W),F})},[]),children:s})}),U?e.jsxs(_l,{"aria-hidden":!0,required:w,tabIndex:-1,name:p,autoComplete:f,value:L,onChange:W=>$(W.target.value),disabled:b,form:x,children:[L===void 0?e.jsx("option",{value:""}):null,Array.from(H)]},G):null]})})};nl.displayName=Wt;var ol="SelectTrigger",il=k.forwardRef((t,r)=>{const{__scopeSelect:s,disabled:n=!1,...i}=t,a=Ys(s),d=Dt(ol,s),h=d.disabled||n,c=Be(r,d.onTriggerChange),l=Xs(s),p=k.useRef("touch"),[f,b,w]=El(g=>{const v=l().filter(_=>!_.disabled),N=v.find(_=>_.value===d.value),j=Tl(v,g,N);j!==void 0&&d.onValueChange(j.value)}),x=g=>{h||(d.onOpenChange(!0),w()),g&&(d.triggerPointerDownPosRef.current={x:Math.round(g.pageX),y:Math.round(g.pageY)})};return e.jsx(Sh,{asChild:!0,...a,children:e.jsx(Ee.button,{type:"button",role:"combobox","aria-controls":d.contentId,"aria-expanded":d.open,"aria-required":d.required,"aria-autocomplete":"none",dir:d.dir,"data-state":d.open?"open":"closed",disabled:h,"data-disabled":h?"":void 0,"data-placeholder":Cl(d.value)?"":void 0,...i,ref:c,onClick:Le(i.onClick,g=>{g.currentTarget.focus(),p.current!=="mouse"&&x(g)}),onPointerDown:Le(i.onPointerDown,g=>{p.current=g.pointerType;const v=g.target;v.hasPointerCapture(g.pointerId)&&v.releasePointerCapture(g.pointerId),g.button===0&&g.ctrlKey===!1&&g.pointerType==="mouse"&&(x(g),g.preventDefault())}),onKeyDown:Le(i.onKeyDown,g=>{const v=f.current!=="";!(g.ctrlKey||g.altKey||g.metaKey)&&g.key.length===1&&b(g.key),!(v&&g.key===" ")&&Oh.includes(g.key)&&(x(),g.preventDefault())})})})});il.displayName=ol;var al="SelectValue",ll=k.forwardRef((t,r)=>{const{__scopeSelect:s,className:n,style:i,children:a,placeholder:d="",...h}=t,c=Dt(al,s),{onValueNodeHasChildrenChange:l}=c,p=a!==void 0,f=Be(r,c.onValueNodeChange);return Ve(()=>{l(p)},[l,p]),e.jsx(Ee.span,{...h,ref:f,style:{pointerEvents:"none"},children:Cl(c.value)?e.jsx(e.Fragment,{children:d}):a})});ll.displayName=al;var zh="SelectIcon",cl=k.forwardRef((t,r)=>{const{__scopeSelect:s,children:n,...i}=t;return e.jsx(Ee.span,{"aria-hidden":!0,...i,ref:r,children:n||""})});cl.displayName=zh;var qh="SelectPortal",dl=t=>e.jsx(c0,{asChild:!0,...t});dl.displayName=qh;var Gt="SelectContent",ul=k.forwardRef((t,r)=>{const s=Dt(Gt,t.__scopeSelect),[n,i]=k.useState();if(Ve(()=>{i(new DocumentFragment)},[]),!s.open){const a=n;return a?Qn.createPortal(e.jsx(hl,{scope:t.__scopeSelect,children:e.jsx(Gs.Slot,{scope:t.__scopeSelect,children:e.jsx("div",{children:t.children})})}),a):null}return e.jsx(pl,{...t,ref:r})});ul.displayName=Gt;var it=10,[hl,Ft]=gr(Gt),Uh="SelectContentImpl",Vh=Eh("SelectContent.RemoveScroll"),pl=k.forwardRef((t,r)=>{const{__scopeSelect:s,position:n="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:a,onPointerDownOutside:d,side:h,sideOffset:c,align:l,alignOffset:p,arrowPadding:f,collisionBoundary:b,collisionPadding:w,sticky:x,hideWhenDetached:g,avoidCollisions:v,...N}=t,j=Dt(Gt,s),[_,I]=k.useState(null),[M,C]=k.useState(null),P=Be(r,O=>I(O)),[E,L]=k.useState(null),[$,R]=k.useState(null),U=Xs(s),[H,q]=k.useState(!1),G=k.useRef(!1);k.useEffect(()=>{if(_)return d0(_)},[_]),u0();const W=k.useCallback(O=>{const[J,...ue]=U().map(z=>z.ref.current),[oe]=ue.slice(-1),ee=document.activeElement;for(const z of O)if(z===ee||(z?.scrollIntoView({block:"nearest"}),z===J&&M&&(M.scrollTop=0),z===oe&&M&&(M.scrollTop=M.scrollHeight),z?.focus(),document.activeElement!==ee))return},[U,M]),Q=k.useCallback(()=>W([E,_]),[W,E,_]);k.useEffect(()=>{H&&Q()},[H,Q]);const{onOpenChange:F,triggerPointerDownPosRef:ne}=j;k.useEffect(()=>{if(_){let O={x:0,y:0};const J=oe=>{O={x:Math.abs(Math.round(oe.pageX)-(ne.current?.x??0)),y:Math.abs(Math.round(oe.pageY)-(ne.current?.y??0))}},ue=oe=>{O.x<=10&&O.y<=10?oe.preventDefault():_.contains(oe.target)||F(!1),document.removeEventListener("pointermove",J),ne.current=null};return ne.current!==null&&(document.addEventListener("pointermove",J),document.addEventListener("pointerup",ue,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",J),document.removeEventListener("pointerup",ue,{capture:!0})}}},[_,F,ne]),k.useEffect(()=>{const O=()=>F(!1);return window.addEventListener("blur",O),window.addEventListener("resize",O),()=>{window.removeEventListener("blur",O),window.removeEventListener("resize",O)}},[F]);const[be,ye]=El(O=>{const J=U().filter(ee=>!ee.disabled),ue=J.find(ee=>ee.ref.current===document.activeElement),oe=Tl(J,O,ue);oe&&setTimeout(()=>oe.ref.current.focus())}),_e=k.useCallback((O,J,ue)=>{const oe=!G.current&&!ue;(j.value!==void 0&&j.value===J||oe)&&(L(O),oe&&(G.current=!0))},[j.value]),we=k.useCallback(()=>_?.focus(),[_]),pe=k.useCallback((O,J,ue)=>{const oe=!G.current&&!ue;(j.value!==void 0&&j.value===J||oe)&&R(O)},[j.value]),Ie=n==="popper"?Hn:ml,Oe=Ie===Hn?{side:h,sideOffset:c,align:l,alignOffset:p,arrowPadding:f,collisionBoundary:b,collisionPadding:w,sticky:x,hideWhenDetached:g,avoidCollisions:v}:{};return e.jsx(hl,{scope:s,content:_,viewport:M,onViewportChange:C,itemRefCallback:_e,selectedItem:E,onItemLeave:we,itemTextRefCallback:pe,focusSelectedItem:Q,selectedItemText:$,position:n,isPositioned:H,searchRef:be,children:e.jsx(h0,{as:Vh,allowPinchZoom:!0,children:e.jsx(p0,{asChild:!0,trapped:j.open,onMountAutoFocus:O=>{O.preventDefault()},onUnmountAutoFocus:Le(i,O=>{j.trigger?.focus({preventScroll:!0}),O.preventDefault()}),children:e.jsx(m0,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:a,onPointerDownOutside:d,onFocusOutside:O=>O.preventDefault(),onDismiss:()=>j.onOpenChange(!1),children:e.jsx(Ie,{role:"listbox",id:j.contentId,"data-state":j.open?"open":"closed",dir:j.dir,onContextMenu:O=>O.preventDefault(),...N,...Oe,onPlaced:()=>q(!0),ref:P,style:{display:"flex",flexDirection:"column",outline:"none",...N.style},onKeyDown:Le(N.onKeyDown,O=>{const J=O.ctrlKey||O.altKey||O.metaKey;if(O.key==="Tab"&&O.preventDefault(),!J&&O.key.length===1&&ye(O.key),["ArrowUp","ArrowDown","Home","End"].includes(O.key)){let oe=U().filter(ee=>!ee.disabled).map(ee=>ee.ref.current);if(["ArrowUp","End"].includes(O.key)&&(oe=oe.slice().reverse()),["ArrowUp","ArrowDown"].includes(O.key)){const ee=O.target,z=oe.indexOf(ee);oe=oe.slice(z+1)}setTimeout(()=>W(oe)),O.preventDefault()}})})})})})})});pl.displayName=Uh;var Wh="SelectItemAlignedPosition",ml=k.forwardRef((t,r)=>{const{__scopeSelect:s,onPlaced:n,...i}=t,a=Dt(Gt,s),d=Ft(Gt,s),[h,c]=k.useState(null),[l,p]=k.useState(null),f=Be(r,P=>p(P)),b=Xs(s),w=k.useRef(!1),x=k.useRef(!0),{viewport:g,selectedItem:v,selectedItemText:N,focusSelectedItem:j}=d,_=k.useCallback(()=>{if(a.trigger&&a.valueNode&&h&&l&&g&&v&&N){const P=a.trigger.getBoundingClientRect(),E=l.getBoundingClientRect(),L=a.valueNode.getBoundingClientRect(),$=N.getBoundingClientRect();if(a.dir!=="rtl"){const ee=$.left-E.left,z=L.left-ee,ie=P.left-z,ve=P.width+ie,Ae=Math.max(ve,E.width),ge=window.innerWidth-it,Fe=Qo(z,[it,Math.max(it,ge-Ae)]);h.style.minWidth=ve+"px",h.style.left=Fe+"px"}else{const ee=E.right-$.right,z=window.innerWidth-L.right-ee,ie=window.innerWidth-P.right-z,ve=P.width+ie,Ae=Math.max(ve,E.width),ge=window.innerWidth-it,Fe=Qo(z,[it,Math.max(it,ge-Ae)]);h.style.minWidth=ve+"px",h.style.right=Fe+"px"}const R=b(),U=window.innerHeight-it*2,H=g.scrollHeight,q=window.getComputedStyle(l),G=parseInt(q.borderTopWidth,10),W=parseInt(q.paddingTop,10),Q=parseInt(q.borderBottomWidth,10),F=parseInt(q.paddingBottom,10),ne=G+W+H+F+Q,be=Math.min(v.offsetHeight*5,ne),ye=window.getComputedStyle(g),_e=parseInt(ye.paddingTop,10),we=parseInt(ye.paddingBottom,10),pe=P.top+P.height/2-it,Ie=U-pe,Oe=v.offsetHeight/2,O=v.offsetTop+Oe,J=G+W+O,ue=ne-J;if(J<=pe){const ee=R.length>0&&v===R[R.length-1].ref.current;h.style.bottom="0px";const z=l.clientHeight-g.offsetTop-g.offsetHeight,ie=Math.max(Ie,Oe+(ee?we:0)+z+Q),ve=J+ie;h.style.height=ve+"px"}else{const ee=R.length>0&&v===R[0].ref.current;h.style.top="0px";const ie=Math.max(pe,G+g.offsetTop+(ee?_e:0)+Oe)+ue;h.style.height=ie+"px",g.scrollTop=J-pe+g.offsetTop}h.style.margin=`${it}px 0`,h.style.minHeight=be+"px",h.style.maxHeight=U+"px",n?.(),requestAnimationFrame(()=>w.current=!0)}},[b,a.trigger,a.valueNode,h,l,g,v,N,a.dir,n]);Ve(()=>_(),[_]);const[I,M]=k.useState();Ve(()=>{l&&M(window.getComputedStyle(l).zIndex)},[l]);const C=k.useCallback(P=>{P&&x.current===!0&&(_(),j?.(),x.current=!1)},[_,j]);return e.jsx(Xh,{scope:s,contentWrapper:h,shouldExpandOnScrollRef:w,onScrollButtonChange:C,children:e.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:I},children:e.jsx(Ee.div,{...i,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});ml.displayName=Wh;var Gh="SelectPopperPosition",Hn=k.forwardRef((t,r)=>{const{__scopeSelect:s,align:n="start",collisionPadding:i=it,...a}=t,d=Ys(s);return e.jsx(_h,{...d,...a,ref:r,align:n,collisionPadding:i,style:{boxSizing:"border-box",...a.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Hn.displayName=Gh;var[Xh,fo]=gr(Gt,{}),zn="SelectViewport",fl=k.forwardRef((t,r)=>{const{__scopeSelect:s,nonce:n,...i}=t,a=Ft(zn,s),d=fo(zn,s),h=Be(r,a.onViewportChange),c=k.useRef(0);return e.jsxs(e.Fragment,{children:[e.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),e.jsx(Gs.Slot,{scope:s,children:e.jsx(Ee.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:h,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:Le(i.onScroll,l=>{const p=l.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:b}=d;if(b?.current&&f){const w=Math.abs(c.current-p.scrollTop);if(w>0){const x=window.innerHeight-it*2,g=parseFloat(f.style.minHeight),v=parseFloat(f.style.height),N=Math.max(g,v);if(N<x){const j=N+w,_=Math.min(x,j),I=j-_;f.style.height=_+"px",f.style.bottom==="0px"&&(p.scrollTop=I>0?I:0,f.style.justifyContent="flex-end")}}}c.current=p.scrollTop})})})]})});fl.displayName=zn;var gl="SelectGroup",[Yh,Qh]=gr(gl),Kh=k.forwardRef((t,r)=>{const{__scopeSelect:s,...n}=t,i=Wr();return e.jsx(Yh,{scope:s,id:i,children:e.jsx(Ee.div,{role:"group","aria-labelledby":i,...n,ref:r})})});Kh.displayName=gl;var xl="SelectLabel",Jh=k.forwardRef((t,r)=>{const{__scopeSelect:s,...n}=t,i=Qh(xl,s);return e.jsx(Ee.div,{id:i.id,...n,ref:r})});Jh.displayName=xl;var Ts="SelectItem",[Zh,bl]=gr(Ts),wl=k.forwardRef((t,r)=>{const{__scopeSelect:s,value:n,disabled:i=!1,textValue:a,...d}=t,h=Dt(Ts,s),c=Ft(Ts,s),l=h.value===n,[p,f]=k.useState(a??""),[b,w]=k.useState(!1),x=Be(r,j=>c.itemRefCallback?.(j,n,i)),g=Wr(),v=k.useRef("touch"),N=()=>{i||(h.onValueChange(n),h.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return e.jsx(Zh,{scope:s,value:n,disabled:i,textId:g,isSelected:l,onItemTextChange:k.useCallback(j=>{f(_=>_||(j?.textContent??"").trim())},[]),children:e.jsx(Gs.ItemSlot,{scope:s,value:n,disabled:i,textValue:p,children:e.jsx(Ee.div,{role:"option","aria-labelledby":g,"data-highlighted":b?"":void 0,"aria-selected":l&&b,"data-state":l?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...d,ref:x,onFocus:Le(d.onFocus,()=>w(!0)),onBlur:Le(d.onBlur,()=>w(!1)),onClick:Le(d.onClick,()=>{v.current!=="mouse"&&N()}),onPointerUp:Le(d.onPointerUp,()=>{v.current==="mouse"&&N()}),onPointerDown:Le(d.onPointerDown,j=>{v.current=j.pointerType}),onPointerMove:Le(d.onPointerMove,j=>{v.current=j.pointerType,i?c.onItemLeave?.():v.current==="mouse"&&j.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Le(d.onPointerLeave,j=>{j.currentTarget===document.activeElement&&c.onItemLeave?.()}),onKeyDown:Le(d.onKeyDown,j=>{c.searchRef?.current!==""&&j.key===" "||(Dh.includes(j.key)&&N(),j.key===" "&&j.preventDefault())})})})})});wl.displayName=Ts;var Lr="SelectItemText",yl=k.forwardRef((t,r)=>{const{__scopeSelect:s,className:n,style:i,...a}=t,d=Dt(Lr,s),h=Ft(Lr,s),c=bl(Lr,s),l=Hh(Lr,s),[p,f]=k.useState(null),b=Be(r,N=>f(N),c.onItemTextChange,N=>h.itemTextRefCallback?.(N,c.value,c.disabled)),w=p?.textContent,x=k.useMemo(()=>e.jsx("option",{value:c.value,disabled:c.disabled,children:w},c.value),[c.disabled,c.value,w]),{onNativeOptionAdd:g,onNativeOptionRemove:v}=l;return Ve(()=>(g(x),()=>v(x)),[g,v,x]),e.jsxs(e.Fragment,{children:[e.jsx(Ee.span,{id:c.textId,...a,ref:b}),c.isSelected&&d.valueNode&&!d.valueNodeHasChildren?Qn.createPortal(a.children,d.valueNode):null]})});yl.displayName=Lr;var vl="SelectItemIndicator",kl=k.forwardRef((t,r)=>{const{__scopeSelect:s,...n}=t;return bl(vl,s).isSelected?e.jsx(Ee.span,{"aria-hidden":!0,...n,ref:r}):null});kl.displayName=vl;var qn="SelectScrollUpButton",Nl=k.forwardRef((t,r)=>{const s=Ft(qn,t.__scopeSelect),n=fo(qn,t.__scopeSelect),[i,a]=k.useState(!1),d=Be(r,n.onScrollButtonChange);return Ve(()=>{if(s.viewport&&s.isPositioned){let h=function(){const l=c.scrollTop>0;a(l)};const c=s.viewport;return h(),c.addEventListener("scroll",h),()=>c.removeEventListener("scroll",h)}},[s.viewport,s.isPositioned]),i?e.jsx(Sl,{...t,ref:d,onAutoScroll:()=>{const{viewport:h,selectedItem:c}=s;h&&c&&(h.scrollTop=h.scrollTop-c.offsetHeight)}}):null});Nl.displayName=qn;var Un="SelectScrollDownButton",jl=k.forwardRef((t,r)=>{const s=Ft(Un,t.__scopeSelect),n=fo(Un,t.__scopeSelect),[i,a]=k.useState(!1),d=Be(r,n.onScrollButtonChange);return Ve(()=>{if(s.viewport&&s.isPositioned){let h=function(){const l=c.scrollHeight-c.clientHeight,p=Math.ceil(c.scrollTop)<l;a(p)};const c=s.viewport;return h(),c.addEventListener("scroll",h),()=>c.removeEventListener("scroll",h)}},[s.viewport,s.isPositioned]),i?e.jsx(Sl,{...t,ref:d,onAutoScroll:()=>{const{viewport:h,selectedItem:c}=s;h&&c&&(h.scrollTop=h.scrollTop+c.offsetHeight)}}):null});jl.displayName=Un;var Sl=k.forwardRef((t,r)=>{const{__scopeSelect:s,onAutoScroll:n,...i}=t,a=Ft("SelectScrollButton",s),d=k.useRef(null),h=Xs(s),c=k.useCallback(()=>{d.current!==null&&(window.clearInterval(d.current),d.current=null)},[]);return k.useEffect(()=>()=>c(),[c]),Ve(()=>{h().find(p=>p.ref.current===document.activeElement)?.ref.current?.scrollIntoView({block:"nearest"})},[h]),e.jsx(Ee.div,{"aria-hidden":!0,...i,ref:r,style:{flexShrink:0,...i.style},onPointerDown:Le(i.onPointerDown,()=>{d.current===null&&(d.current=window.setInterval(n,50))}),onPointerMove:Le(i.onPointerMove,()=>{a.onItemLeave?.(),d.current===null&&(d.current=window.setInterval(n,50))}),onPointerLeave:Le(i.onPointerLeave,()=>{c()})})}),e2="SelectSeparator",t2=k.forwardRef((t,r)=>{const{__scopeSelect:s,...n}=t;return e.jsx(Ee.div,{"aria-hidden":!0,...n,ref:r})});t2.displayName=e2;var Vn="SelectArrow",r2=k.forwardRef((t,r)=>{const{__scopeSelect:s,...n}=t,i=Ys(s),a=Dt(Vn,s),d=Ft(Vn,s);return a.open&&d.position==="popper"?e.jsx(Ch,{...i,...n,ref:r}):null});r2.displayName=Vn;var s2="SelectBubbleInput",_l=k.forwardRef(({__scopeSelect:t,value:r,...s},n)=>{const i=k.useRef(null),a=Be(n,i),d=Yi(r);return k.useEffect(()=>{const h=i.current;if(!h)return;const c=window.HTMLSelectElement.prototype,p=Object.getOwnPropertyDescriptor(c,"value").set;if(d!==r&&p){const f=new Event("change",{bubbles:!0});p.call(h,r),h.dispatchEvent(f)}},[d,r]),e.jsx(Ee.select,{...s,style:{...sl,...s.style},ref:a,defaultValue:r})});_l.displayName=s2;function Cl(t){return t===""||t===void 0}function El(t){const r=Kn(t),s=k.useRef(""),n=k.useRef(0),i=k.useCallback(d=>{const h=s.current+d;r(h),(function c(l){s.current=l,window.clearTimeout(n.current),l!==""&&(n.current=window.setTimeout(()=>c(""),1e3))})(h)},[r]),a=k.useCallback(()=>{s.current="",window.clearTimeout(n.current)},[]);return k.useEffect(()=>()=>window.clearTimeout(n.current),[]),[s,i,a]}function Tl(t,r,s){const i=r.length>1&&Array.from(r).every(l=>l===r[0])?r[0]:r,a=s?t.indexOf(s):-1;let d=n2(t,Math.max(a,0));i.length===1&&(d=d.filter(l=>l!==s));const c=d.find(l=>l.textValue.toLowerCase().startsWith(i.toLowerCase()));return c!==s?c:void 0}function n2(t,r){return t.map((s,n)=>t[(r+n)%t.length])}var o2=nl,i2=il,a2=ll,l2=cl,c2=dl,d2=ul,u2=fl,h2=wl,p2=yl,m2=kl,f2=Nl,g2=jl;function yn({...t}){return e.jsx(o2,{"data-slot":"select",...t})}function vn({...t}){return e.jsx(a2,{"data-slot":"select-value",...t})}function kn({className:t,size:r="default",children:s,...n}){return e.jsxs(i2,{"data-slot":"select-trigger","data-size":r,className:ke("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-full items-center justify-between gap-2 rounded-md border bg-input-background px-3 py-2 text-sm whitespace-nowrap transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",t),...n,children:[s,e.jsx(l2,{asChild:!0,children:e.jsx(Gr,{className:"size-4 opacity-50"})})]})}function Nn({className:t,children:r,position:s="popper",...n}){return e.jsx(c2,{children:e.jsxs(d2,{"data-slot":"select-content",className:ke("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md",s==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:s,...n,children:[e.jsx(x2,{}),e.jsx(u2,{className:ke("p-1",s==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:r}),e.jsx(b2,{})]})})}function ot({className:t,children:r,...s}){return e.jsxs(h2,{"data-slot":"select-item",className:ke("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",t),...s,children:[e.jsx("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:e.jsx(m2,{children:e.jsx(cr,{className:"size-4"})})}),e.jsx(p2,{children:r})]})}function x2({className:t,...r}){return e.jsx(f2,{"data-slot":"select-scroll-up-button",className:ke("flex cursor-default items-center justify-center py-1",t),...r,children:e.jsx(Ji,{className:"size-4"})})}function b2({className:t,...r}){return e.jsx(g2,{"data-slot":"select-scroll-down-button",className:ke("flex cursor-default items-center justify-center py-1",t),...r,children:e.jsx(Gr,{className:"size-4"})})}class w2{get db(){return Se}async initSchema(){await this.db.init();const r=this.db.db;if(!r)throw new Error("Database not initialized");r.run(`
      CREATE TABLE IF NOT EXISTS migraine_reports (
        id TEXT PRIMARY KEY,
        user_id TEXT,
        onset_at TEXT NOT NULL,
        duration_hours REAL,
        severity INTEGER NOT NULL,
        aura_present INTEGER,
        aura_types TEXT,
        pain_character TEXT,
        symptoms TEXT NOT NULL,
        triggers TEXT NOT NULL,
        other_trigger_notes TEXT,
        notes TEXT,
        medication_taken TEXT,
        medication_timing TEXT,
        relief_level TEXT,
        impact_missed_work INTEGER,
        impact_had_to_rest INTEGER,
        impact_score INTEGER,
        created_at TEXT NOT NULL
      )
    `),r.run("CREATE INDEX IF NOT EXISTS idx_migraine_onset ON migraine_reports(onset_at)"),r.run("CREATE INDEX IF NOT EXISTS idx_migraine_severity ON migraine_reports(severity)"),r.run("CREATE INDEX IF NOT EXISTS idx_migraine_created ON migraine_reports(created_at)"),await this.db.saveToIndexedDB()}async createReport(r){await this.db.init();const s=this.db.db;if(!s)throw new Error("Database not initialized");const n={id:this.generateId(),onsetAt:r.onsetDate.toISOString(),durationHours:r.durationHours,severity:r.severity,auraPresent:r.auraPresent,auraTypes:r.auraTypes,painCharacter:r.painCharacter,symptoms:r.symptoms,triggers:r.triggers,otherTriggerNotes:r.otherTriggerNotes,notes:r.notes,medicationTaken:r.medicationTaken,medicationTiming:r.medicationTiming,reliefLevel:r.reliefLevel,impactMissedWork:r.impactMissedWork,impactHadToRest:r.impactHadToRest,impactScore:r.impactScore,createdAt:new Date().toISOString()};return s.run(`
      INSERT INTO migraine_reports (
        id, user_id, onset_at, duration_hours, severity,
        aura_present, aura_types, pain_character, symptoms, triggers,
        other_trigger_notes, notes, medication_taken, medication_timing,
        relief_level, impact_missed_work, impact_had_to_rest, impact_score,
        created_at
      ) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
      `,[n.id,n.userId||null,n.onsetAt,n.durationHours||null,n.severity,n.auraPresent?1:0,n.auraTypes?JSON.stringify(n.auraTypes):null,n.painCharacter||null,JSON.stringify(n.symptoms),JSON.stringify(n.triggers),n.otherTriggerNotes||null,n.notes||null,n.medicationTaken||null,n.medicationTiming||null,n.reliefLevel||null,n.impactMissedWork?1:0,n.impactHadToRest?1:0,n.impactScore||null,n.createdAt]),await this.db.saveToIndexedDB(),console.log("[MigraineService] Report created:",n.id),this.queueForMLProcessing(n),n}async getAllReports(){await this.db.init();const r=this.db.db;if(!r)throw new Error("Database not initialized");const s=r.exec(`
      SELECT * FROM migraine_reports
      ORDER BY onset_at DESC
    `);if(s.length===0||s[0].values.length===0)return[];const n=s[0].columns;return s[0].values.map(a=>this.rowToReport(n,a))}async getReportsByDateRange(r,s){await this.db.init();const n=this.db.db;if(!n)throw new Error("Database not initialized");const i=n.exec(`
      SELECT * FROM migraine_reports
      WHERE onset_at >= ? AND onset_at <= ?
      ORDER BY onset_at DESC
      `,[r.toISOString(),s.toISOString()]);if(i.length===0||i[0].values.length===0)return[];const a=i[0].columns;return i[0].values.map(h=>this.rowToReport(a,h))}async getReportById(r){await this.db.init();const s=this.db.db;if(!s)throw new Error("Database not initialized");const n=s.exec("SELECT * FROM migraine_reports WHERE id = ?",[r]);if(n.length===0||n[0].values.length===0)return null;const i=n[0].columns,a=n[0].values[0];return this.rowToReport(i,a)}async getReportCount(){await this.db.init();const r=this.db.db;if(!r)throw new Error("Database not initialized");const s=r.exec("SELECT COUNT(*) as count FROM migraine_reports");return s.length===0?0:s[0].values[0][0]}async deleteReport(r){await this.db.init();const s=this.db.db;if(!s)throw new Error("Database not initialized");s.run("DELETE FROM migraine_reports WHERE id = ?",[r]),await this.db.saveToIndexedDB(),console.log("[MigraineService] Report deleted:",r)}rowToReport(r,s){const n={};return r.forEach((i,a)=>{n[i]=s[a]}),{id:n.id,userId:n.user_id||void 0,onsetAt:n.onset_at,durationHours:n.duration_hours||void 0,severity:n.severity,auraPresent:n.aura_present===1,auraTypes:n.aura_types?JSON.parse(n.aura_types):void 0,painCharacter:n.pain_character||void 0,symptoms:JSON.parse(n.symptoms),triggers:JSON.parse(n.triggers),otherTriggerNotes:n.other_trigger_notes||void 0,notes:n.notes||void 0,medicationTaken:n.medication_taken||void 0,medicationTiming:n.medication_timing||void 0,reliefLevel:n.relief_level||void 0,impactMissedWork:n.impact_missed_work===1,impactHadToRest:n.impact_had_to_rest===1,impactScore:n.impact_score||void 0,createdAt:n.created_at}}generateId(){return`migraine_${Date.now()}_${Math.random().toString(36).substr(2,9)}`}queueForMLProcessing(r){console.log("[MigraineService] Queued for ML processing:",{id:r.id,severity:r.severity,triggers:r.triggers,symptoms:r.symptoms})}async exportForML(){return(await this.getAllReports()).map(s=>({timestamp:s.onsetAt,features:{severity:s.severity,aura_present:s.auraPresent?1:0,duration_hours:s.durationHours||0,triggers:this.encodeTriggers(s.triggers),symptoms:this.encodeSymptoms(s.symptoms),pain_character:s.painCharacter||"unknown",medication_effectiveness:this.encodeReliefLevel(s.reliefLevel),impact_score:s.impactScore||0},labels:{had_migraine:1,severity_class:this.getSeverityClass(s.severity)}}))}encodeTriggers(r){const s={};return["stress","lack_of_sleep","oversleeping","skipped_meal","dehydration","hormonal_menstruation","weather_pressure","bright_lights","screen_time","caffeine_decrease"].forEach(i=>{s[i]=r.includes(i)?1:0}),s}encodeSymptoms(r){const s={};return["nausea","vomiting","photophobia","phonophobia","dizziness","neck_pain","cognitive_fog"].forEach(i=>{s[i]=r.includes(i)?1:0}),s}encodeReliefLevel(r){switch(r){case"good":return 2;case"partial":return 1;case"none":return 0;default:return-1}}getSeverityClass(r){return r<=3?"mild":r<=6?"moderate":"severe"}}let jn=null;function Rl(){return jn||(jn=new w2),jn}const y2=Rl(),v2=[{id:"nausea",label:"Nausea"},{id:"vomiting",label:"Vomiting"},{id:"photophobia",label:"Light sensitivity"},{id:"phonophobia",label:"Sound sensitivity"},{id:"osmophobia",label:"Smell sensitivity"},{id:"dizziness",label:"Dizziness"},{id:"vertigo",label:"Vertigo"},{id:"neck_pain",label:"Neck pain"},{id:"neck_stiffness",label:"Neck stiffness"},{id:"cognitive_fog",label:"Brain fog"},{id:"difficulty_concentrating",label:"Difficulty focusing"}],k2=[{id:"stress",label:"Stress",category:"lifestyle"},{id:"lack_of_sleep",label:"Lack of sleep",category:"lifestyle"},{id:"oversleeping",label:"Oversleeping",category:"lifestyle"},{id:"skipped_meal",label:"Skipped meal",category:"lifestyle"},{id:"irregular_eating",label:"Irregular eating",category:"lifestyle"},{id:"dehydration",label:"Dehydration",category:"lifestyle"},{id:"hormonal_menstruation",label:"Menstruation",category:"hormonal"},{id:"hormonal_ovulation",label:"Ovulation",category:"hormonal"},{id:"weather_pressure",label:"Pressure changes",category:"environmental"},{id:"weather_temperature",label:"Temperature changes",category:"environmental"},{id:"bright_lights",label:"Bright lights",category:"environmental"},{id:"screen_time",label:"Extended screen time",category:"environmental"},{id:"loud_noise",label:"Loud noise",category:"environmental"},{id:"cheese",label:"Cheese",category:"dietary"},{id:"chocolate",label:"Chocolate",category:"dietary"},{id:"processed_meats",label:"Processed meats",category:"dietary"},{id:"alcohol",label:"Alcohol",category:"dietary"},{id:"caffeine_increase",label:"More caffeine than usual",category:"dietary"},{id:"caffeine_decrease",label:"Less caffeine than usual",category:"dietary"},{id:"physical_exertion",label:"Intense exercise",category:"physical"},{id:"travel",label:"Travel",category:"physical"},{id:"jet_lag",label:"Jet lag",category:"physical"},{id:"other",label:"Other",category:"lifestyle"}];function N2({onClose:t,onSuccess:r,initialDate:s}){const[n,i]=k.useState(!1),[a,d]=k.useState(!1),[h,c]=k.useState(s||new Date),[l,p]=k.useState(),[f,b]=k.useState(5),[w,x]=k.useState(!1),[g,v]=k.useState([]),[N,j]=k.useState(),[_,I]=k.useState([]),[M,C]=k.useState([]),[P,E]=k.useState(""),[L,$]=k.useState(""),[R,U]=k.useState(""),[H,q]=k.useState(),[G,W]=k.useState(),[Q,F]=k.useState(!1),[ne,be]=k.useState(!1),[ye,_e]=k.useState(),we=O=>{I(J=>J.includes(O)?J.filter(ue=>ue!==O):[...J,O])},pe=O=>{C(J=>J.includes(O)?J.filter(ue=>ue!==O):[...J,O])},Ie=O=>{v(J=>J.includes(O)?J.filter(ue=>ue!==O):[...J,O])},Oe=async()=>{if(f<0||f>10){alert("Please select a valid severity level (0-10)");return}i(!0);try{const O={onsetDate:h,durationHours:l,severity:f,auraPresent:w,auraTypes:g,painCharacter:N,symptoms:_,triggers:M,otherTriggerNotes:P||void 0,notes:L||void 0,medicationTaken:R||void 0,medicationTiming:H,reliefLevel:G,impactMissedWork:Q,impactHadToRest:ne,impactScore:ye};await Rl().createReport(O),d(!0),setTimeout(()=>{r?.(),t()},2e3)}catch(O){console.error("Failed to save migraine report:",O),alert("Failed to save migraine report. Please try again.")}finally{i(!1)}};return a?e.jsx("div",{className:"fixed inset-0 z-50 flex flex-col items-center justify-center bg-background p-6",children:e.jsxs("div",{className:"flex flex-col items-center text-center space-y-4 max-w-sm",children:[e.jsx("div",{className:"w-16 h-16 rounded-full bg-success/10 flex items-center justify-center",children:e.jsx(cr,{className:"w-8 h-8 text-success"})}),e.jsx("h2",{className:"text-h1",children:"Report saved"}),e.jsx("p",{className:"text-body text-muted-foreground",children:"Thanks for logging this episode. This data helps improve your migraine predictions."})]})}):e.jsxs("div",{className:"fixed inset-0 z-50 flex flex-col bg-background",children:[e.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-border",children:[e.jsx("button",{onClick:t,className:"p-2 transition-colors rounded-lg hover:bg-secondary",disabled:n,children:e.jsx(lt,{className:"w-6 h-6"})}),e.jsx("h1",{className:"text-h2",children:"Report migraine"}),e.jsx("div",{className:"w-10"})," "]}),e.jsx("div",{className:"flex-1 overflow-y-auto",children:e.jsxs("div",{className:"max-w-2xl mx-auto p-6 space-y-6",children:[e.jsxs("section",{className:"space-y-4",children:[e.jsx("h2",{className:"text-h3",children:"Episode details"}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Te,{children:"When did it start?"}),e.jsx(Ge,{type:"datetime-local",value:h.toISOString().slice(0,16),onChange:O=>c(new Date(O.target.value)),className:"h-12",style:{borderRadius:"8px"}})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Te,{children:"Duration (hours) - optional"}),e.jsx(Ge,{type:"number",step:"0.5",min:"0",placeholder:"e.g., 2.5",value:l??"",onChange:O=>p(O.target.value?parseFloat(O.target.value):void 0),className:"h-12",style:{borderRadius:"8px"}})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx(Te,{children:"Pain severity"}),e.jsx("span",{className:"text-h2 text-primary",children:f})]}),e.jsxs("div",{className:"flex justify-between text-label text-muted-foreground mb-2",children:[e.jsx("span",{children:"0 (None)"}),e.jsx("span",{children:"10 (Worst)"})]}),e.jsx(Dn,{value:[f],onValueChange:O=>b(O[0]),min:0,max:10,step:1})]})]}),e.jsxs("section",{className:"space-y-4",children:[e.jsx("h2",{className:"text-h3",children:"Aura"}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("input",{type:"checkbox",id:"aura-present",checked:w,onChange:O=>x(O.target.checked),className:"w-5 h-5"}),e.jsx(Te,{htmlFor:"aura-present",children:"I experienced an aura"})]}),w&&e.jsxs("div",{className:"space-y-2",children:[e.jsx(Te,{children:"Type of aura (select all that apply)"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:["visual","sensory","speech","motor"].map(O=>e.jsx("button",{onClick:()=>Ie(O),className:`px-4 py-2 rounded-full border transition-colors ${g.includes(O)?"bg-primary/10 text-primary border-primary/20":"bg-secondary border-border"}`,children:O.charAt(0).toUpperCase()+O.slice(1)},O))})]})]}),e.jsxs("section",{className:"space-y-4",children:[e.jsx("h2",{className:"text-h3",children:"Pain type"}),e.jsxs(yn,{value:N,onValueChange:O=>j(O),children:[e.jsx(kn,{className:"h-12",style:{borderRadius:"8px"},children:e.jsx(vn,{placeholder:"Select pain type"})}),e.jsxs(Nn,{children:[e.jsx(ot,{value:"throbbing",children:"Throbbing"}),e.jsx(ot,{value:"stabbing",children:"Stabbing"}),e.jsx(ot,{value:"pressure",children:"Pressure"}),e.jsx(ot,{value:"other",children:"Other"})]})]})]}),e.jsxs("section",{className:"space-y-4",children:[e.jsxs("h2",{className:"text-h3",children:["Symptoms ",_.length>0&&`(${_.length})`]}),e.jsx("div",{className:"flex flex-wrap gap-2",children:v2.map(O=>e.jsx("button",{onClick:()=>we(O.id),className:`px-3 py-2 rounded-full border text-sm transition-colors ${_.includes(O.id)?"bg-primary/10 text-primary border-primary/20":"bg-secondary border-border"}`,children:O.label},O.id))})]}),e.jsxs("section",{className:"space-y-4",children:[e.jsxs("h2",{className:"text-h3",children:["Possible triggers ",M.length>0&&`(${M.length})`]}),e.jsx("p",{className:"text-label text-muted-foreground",children:"What happened in the last 24-48 hours?"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:k2.map(O=>e.jsx("button",{onClick:()=>pe(O.id),className:`px-3 py-2 rounded-full border text-sm transition-colors ${M.includes(O.id)?"bg-warning/10 text-warning border-warning/20":"bg-secondary border-border"}`,children:O.label},O.id))}),M.includes("other")&&e.jsxs("div",{className:"space-y-2 pt-2",children:[e.jsx(Te,{children:"Describe other triggers"}),e.jsx(gi,{placeholder:"e.g., strong perfume, specific food...",value:P,onChange:O=>E(O.target.value),className:"min-h-[80px]",style:{borderRadius:"8px"}})]})]}),e.jsxs("section",{className:"space-y-4",children:[e.jsx("h2",{className:"text-h3",children:"Medication"}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Te,{children:"What did you take?"}),e.jsx(Ge,{placeholder:"e.g., Ibuprofen 200mg, Sumatriptan 50mg",value:R,onChange:O=>U(O.target.value),className:"h-12",style:{borderRadius:"8px"}})]}),R&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(Te,{children:"When did you take it?"}),e.jsxs(yn,{value:H,onValueChange:O=>q(O),children:[e.jsx(kn,{className:"h-12",style:{borderRadius:"8px"},children:e.jsx(vn,{placeholder:"Select timing"})}),e.jsxs(Nn,{children:[e.jsx(ot,{value:"0-1h",children:"Within 1 hour of onset"}),e.jsx(ot,{value:"1-3h",children:"1-3 hours after onset"}),e.jsx(ot,{value:"3-6h",children:"3-6 hours after onset"}),e.jsx(ot,{value:">6h",children:"More than 6 hours after"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Te,{children:"How effective was it?"}),e.jsxs(yn,{value:G,onValueChange:O=>W(O),children:[e.jsx(kn,{className:"h-12",style:{borderRadius:"8px"},children:e.jsx(vn,{placeholder:"Select relief level"})}),e.jsxs(Nn,{children:[e.jsx(ot,{value:"good",children:"Good relief"}),e.jsx(ot,{value:"partial",children:"Partial relief"}),e.jsx(ot,{value:"none",children:"No relief"})]})]})]})]})]}),e.jsxs("section",{className:"space-y-4",children:[e.jsx("h2",{className:"text-h3",children:"Impact"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("input",{type:"checkbox",id:"missed-work",checked:Q,onChange:O=>F(O.target.checked),className:"w-5 h-5"}),e.jsx(Te,{htmlFor:"missed-work",children:"Missed work/school"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("input",{type:"checkbox",id:"had-to-rest",checked:ne,onChange:O=>be(O.target.checked),className:"w-5 h-5"}),e.jsx(Te,{htmlFor:"had-to-rest",children:"Had to lie down/stop activities"})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx(Te,{children:"How disruptive was it?"}),ye!==void 0&&e.jsxs("span",{className:"text-body text-muted-foreground",children:[ye,"/10"]})]}),e.jsx(Dn,{value:[ye??5],onValueChange:O=>_e(O[0]),min:0,max:10,step:1}),e.jsxs("div",{className:"flex justify-between text-label text-muted-foreground",children:[e.jsx("span",{children:"Not at all"}),e.jsx("span",{children:"Extremely"})]})]})]}),e.jsxs("section",{className:"space-y-4",children:[e.jsx("h2",{className:"text-h3",children:"Additional notes (optional)"}),e.jsx(gi,{placeholder:"Anything else you'd like to remember about this episode...",value:L,onChange:O=>$(O.target.value),className:"min-h-[100px]",style:{borderRadius:"8px"}})]})]})}),e.jsx("div",{className:"border-t border-border p-6",children:e.jsx("div",{className:"max-w-2xl mx-auto",children:e.jsxs(fe,{onClick:Oe,disabled:n,className:"w-full h-14 gap-2",style:{borderRadius:"12px"},children:[n?"Saving...":"Save migraine report",e.jsx(et,{className:"w-5 h-5"})]})})})]})}function Al({trigger:t,open:r,onOpenChange:s,initialDate:n}){const[i,a]=k.useState(r??!1);k.useEffect(()=>{r!==void 0&&a(r)},[r]);const d=l=>{a(l),s?.(l)},h=()=>{d(!1)},c=()=>{console.log("[ReportMigraine] Report submitted successfully")};return e.jsxs(n1,{open:i,onOpenChange:d,children:[t&&e.jsx(o1,{asChild:!0,children:t}),i&&e.jsx("div",{className:"fixed inset-0 z-50",children:e.jsx(N2,{onClose:h,onSuccess:c,initialDate:n})})]})}function j2({variant:t,message:r,primaryAction:s,secondaryAction:n,onDismiss:i}){const a=t==="alert";return e.jsxs("div",{className:`
        relative overflow-hidden
        ${a?"bg-warning/5 border-warning/20":"bg-accent/5 border-accent/20"}
        border rounded-xl p-4
        shadow-sm
      `,style:{borderRadius:"12px"},role:"alert","aria-live":"polite",children:[e.jsx("div",{className:`absolute left-0 top-0 bottom-0 w-1 ${a?"bg-warning/40":"bg-accent/40"}`}),e.jsxs("div",{className:"flex items-start gap-3 pl-2",children:[e.jsx("div",{className:`
            flex-shrink-0 mt-0.5
            ${a?"text-warning":"text-accent"}
          `,children:a?e.jsx(Ps,{className:"w-5 h-5",strokeWidth:2}):e.jsx(rt,{className:"w-5 h-5",strokeWidth:2})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-body text-foreground mb-3",children:r}),(s||n)&&e.jsxs("div",{className:"flex flex-wrap gap-2",children:[s&&e.jsx(fe,{onClick:s.onClick,size:"sm",className:`
                    ${a?"bg-warning hover:bg-warning/90 text-warning-foreground":"bg-accent hover:bg-accent/90 text-accent-foreground"}
                    shadow-none
                  `,style:{borderRadius:"8px"},children:s.label}),n&&e.jsx(fe,{onClick:n.onClick,variant:"outline",size:"sm",className:`
                    ${a?"border-warning/30 text-warning hover:bg-warning/10":"border-accent/30 text-accent hover:bg-accent/10"}
                    shadow-none
                  `,style:{borderRadius:"8px"},children:n.label})]})]}),i&&e.jsx("button",{onClick:i,className:"flex-shrink-0 text-muted-foreground hover:text-foreground transition-colors p-1 -mt-1 -mr-1","aria-label":"Dismiss notification",children:e.jsx(lt,{className:"w-5 h-5"})})]})]})}function S2(){const[t,r]=k.useState([]);return k.useEffect(()=>{let n=!0;const i=async()=>{try{const d=await Se.getPendingFollowUps();n&&r(d)}catch(d){console.error("Failed to fetch pending follow-ups",d)}};i();const a=setInterval(i,300*1e3);return()=>{n=!1,clearInterval(a)}},[]),{pendingFollowUps:t,recordOutcome:async(n,i)=>{await Se.updateSessionOutcome(n,i),r(a=>a.filter(d=>d.id!==n))}}}function _2(t){return Object.prototype.toString.call(t)==="[object Object]"}function Ei(t){return _2(t)||Array.isArray(t)}function C2(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}function go(t,r){const s=Object.keys(t),n=Object.keys(r);if(s.length!==n.length)return!1;const i=JSON.stringify(Object.keys(t.breakpoints||{})),a=JSON.stringify(Object.keys(r.breakpoints||{}));return i!==a?!1:s.every(d=>{const h=t[d],c=r[d];return typeof h=="function"?`${h}`==`${c}`:!Ei(h)||!Ei(c)?h===c:go(h,c)})}function Ti(t){return t.concat().sort((r,s)=>r.name>s.name?1:-1).map(r=>r.options)}function E2(t,r){if(t.length!==r.length)return!1;const s=Ti(t),n=Ti(r);return s.every((i,a)=>{const d=n[a];return go(i,d)})}function xo(t){return typeof t=="number"}function Wn(t){return typeof t=="string"}function Qs(t){return typeof t=="boolean"}function Ri(t){return Object.prototype.toString.call(t)==="[object Object]"}function Re(t){return Math.abs(t)}function bo(t){return Math.sign(t)}function Dr(t,r){return Re(t-r)}function T2(t,r){if(t===0||r===0||Re(t)<=Re(r))return 0;const s=Dr(Re(t),Re(r));return Re(s/t)}function R2(t){return Math.round(t*100)/100}function Hr(t){return zr(t).map(Number)}function at(t){return t[Yr(t)]}function Yr(t){return Math.max(0,t.length-1)}function wo(t,r){return r===Yr(t)}function Ai(t,r=0){return Array.from(Array(t),(s,n)=>r+n)}function zr(t){return Object.keys(t)}function Pl(t,r){return[t,r].reduce((s,n)=>(zr(n).forEach(i=>{const a=s[i],d=n[i],h=Ri(a)&&Ri(d);s[i]=h?Pl(a,d):d}),s),{})}function Gn(t,r){return typeof r.MouseEvent<"u"&&t instanceof r.MouseEvent}function A2(t,r){const s={start:n,center:i,end:a};function n(){return 0}function i(c){return a(c)/2}function a(c){return r-c}function d(c,l){return Wn(t)?s[t](c):t(r,c,l)}return{measure:d}}function qr(){let t=[];function r(i,a,d,h={passive:!0}){let c;if("addEventListener"in i)i.addEventListener(a,d,h),c=()=>i.removeEventListener(a,d,h);else{const l=i;l.addListener(d),c=()=>l.removeListener(d)}return t.push(c),n}function s(){t=t.filter(i=>i())}const n={add:r,clear:s};return n}function P2(t,r,s,n){const i=qr(),a=1e3/60;let d=null,h=0,c=0;function l(){i.add(t,"visibilitychange",()=>{t.hidden&&x()})}function p(){w(),i.clear()}function f(v){if(!c)return;d||(d=v,s(),s());const N=v-d;for(d=v,h+=N;h>=a;)s(),h-=a;const j=h/a;n(j),c&&(c=r.requestAnimationFrame(f))}function b(){c||(c=r.requestAnimationFrame(f))}function w(){r.cancelAnimationFrame(c),d=null,h=0,c=0}function x(){d=null,h=0}return{init:l,destroy:p,start:b,stop:w,update:s,render:n}}function M2(t,r){const s=r==="rtl",n=t==="y",i=n?"y":"x",a=n?"x":"y",d=!n&&s?-1:1,h=p(),c=f();function l(x){const{height:g,width:v}=x;return n?g:v}function p(){return n?"top":s?"right":"left"}function f(){return n?"bottom":s?"left":"right"}function b(x){return x*d}return{scroll:i,cross:a,startEdge:h,endEdge:c,measureSize:l,direction:b}}function Xt(t=0,r=0){const s=Re(t-r);function n(l){return l<t}function i(l){return l>r}function a(l){return n(l)||i(l)}function d(l){return a(l)?n(l)?t:r:l}function h(l){return s?l-s*Math.ceil((l-r)/s):l}return{length:s,max:r,min:t,constrain:d,reachedAny:a,reachedMax:i,reachedMin:n,removeOffset:h}}function Ml(t,r,s){const{constrain:n}=Xt(0,t),i=t+1;let a=d(r);function d(b){return s?Re((i+b)%i):n(b)}function h(){return a}function c(b){return a=d(b),f}function l(b){return p().set(h()+b)}function p(){return Ml(t,h(),s)}const f={get:h,set:c,add:l,clone:p};return f}function I2(t,r,s,n,i,a,d,h,c,l,p,f,b,w,x,g,v,N,j){const{cross:_,direction:I}=t,M=["INPUT","SELECT","TEXTAREA"],C={passive:!1},P=qr(),E=qr(),L=Xt(50,225).constrain(w.measure(20)),$={mouse:300,touch:400},R={mouse:500,touch:600},U=x?43:25;let H=!1,q=0,G=0,W=!1,Q=!1,F=!1,ne=!1;function be(z){if(!j)return;function ie(Ae){(Qs(j)||j(z,Ae))&&Oe(Ae)}const ve=r;P.add(ve,"dragstart",Ae=>Ae.preventDefault(),C).add(ve,"touchmove",()=>{},C).add(ve,"touchend",()=>{}).add(ve,"touchstart",ie).add(ve,"mousedown",ie).add(ve,"touchcancel",J).add(ve,"contextmenu",J).add(ve,"click",ue,!0)}function ye(){P.clear(),E.clear()}function _e(){const z=ne?s:r;E.add(z,"touchmove",O,C).add(z,"touchend",J).add(z,"mousemove",O,C).add(z,"mouseup",J)}function we(z){const ie=z.nodeName||"";return M.includes(ie)}function pe(){return(x?R:$)[ne?"mouse":"touch"]}function Ie(z,ie){const ve=f.add(bo(z)*-1),Ae=p.byDistance(z,!x).distance;return x||Re(z)<L?Ae:v&&ie?Ae*.5:p.byIndex(ve.get(),0).distance}function Oe(z){const ie=Gn(z,n);ne=ie,F=x&&ie&&!z.buttons&&H,H=Dr(i.get(),d.get())>=2,!(ie&&z.button!==0)&&(we(z.target)||(W=!0,a.pointerDown(z),l.useFriction(0).useDuration(0),i.set(d),_e(),q=a.readPoint(z),G=a.readPoint(z,_),b.emit("pointerDown")))}function O(z){if(!Gn(z,n)&&z.touches.length>=2)return J(z);const ve=a.readPoint(z),Ae=a.readPoint(z,_),ge=Dr(ve,q),Fe=Dr(Ae,G);if(!Q&&!ne&&(!z.cancelable||(Q=ge>Fe,!Q)))return J(z);const ht=a.pointerMove(z);ge>g&&(F=!0),l.useFriction(.3).useDuration(.75),h.start(),i.add(I(ht)),z.preventDefault()}function J(z){const ve=p.byDistance(0,!1).index!==f.get(),Ae=a.pointerUp(z)*pe(),ge=Ie(I(Ae),ve),Fe=T2(Ae,ge),ht=U-10*Fe,Qe=N+Fe/50;Q=!1,W=!1,E.clear(),l.useDuration(ht).useFriction(Qe),c.distance(ge,!x),ne=!1,b.emit("pointerUp")}function ue(z){F&&(z.stopPropagation(),z.preventDefault(),F=!1)}function oe(){return W}return{init:be,destroy:ye,pointerDown:oe}}function L2(t,r){let n,i;function a(f){return f.timeStamp}function d(f,b){const x=`client${(b||t.scroll)==="x"?"X":"Y"}`;return(Gn(f,r)?f:f.touches[0])[x]}function h(f){return n=f,i=f,d(f)}function c(f){const b=d(f)-d(i),w=a(f)-a(n)>170;return i=f,w&&(n=f),b}function l(f){if(!n||!i)return 0;const b=d(i)-d(n),w=a(f)-a(n),x=a(f)-a(i)>170,g=b/w;return w&&!x&&Re(g)>.1?g:0}return{pointerDown:h,pointerMove:c,pointerUp:l,readPoint:d}}function O2(){function t(s){const{offsetTop:n,offsetLeft:i,offsetWidth:a,offsetHeight:d}=s;return{top:n,right:i+a,bottom:n+d,left:i,width:a,height:d}}return{measure:t}}function D2(t){function r(n){return t*(n/100)}return{measure:r}}function F2(t,r,s,n,i,a,d){const h=[t].concat(n);let c,l,p=[],f=!1;function b(v){return i.measureSize(d.measure(v))}function w(v){if(!a)return;l=b(t),p=n.map(b);function N(j){for(const _ of j){if(f)return;const I=_.target===t,M=n.indexOf(_.target),C=I?l:p[M],P=b(I?t:n[M]);if(Re(P-C)>=.5){v.reInit(),r.emit("resize");break}}}c=new ResizeObserver(j=>{(Qs(a)||a(v,j))&&N(j)}),s.requestAnimationFrame(()=>{h.forEach(j=>c.observe(j))})}function x(){f=!0,c&&c.disconnect()}return{init:w,destroy:x}}function $2(t,r,s,n,i,a){let d=0,h=0,c=i,l=a,p=t.get(),f=0;function b(){const C=n.get()-t.get(),P=!c;let E=0;return P?(d=0,s.set(n),t.set(n),E=C):(s.set(t),d+=C/c,d*=l,p+=d,t.add(d),E=p-f),h=bo(E),f=p,M}function w(){const C=n.get()-r.get();return Re(C)<.001}function x(){return c}function g(){return h}function v(){return d}function N(){return _(i)}function j(){return I(a)}function _(C){return c=C,M}function I(C){return l=C,M}const M={direction:g,duration:x,velocity:v,seek:b,settled:w,useBaseFriction:j,useBaseDuration:N,useFriction:I,useDuration:_};return M}function B2(t,r,s,n,i){const a=i.measure(10),d=i.measure(50),h=Xt(.1,.99);let c=!1;function l(){return!(c||!t.reachedAny(s.get())||!t.reachedAny(r.get()))}function p(w){if(!l())return;const x=t.reachedMin(r.get())?"min":"max",g=Re(t[x]-r.get()),v=s.get()-r.get(),N=h.constrain(g/d);s.subtract(v*N),!w&&Re(v)<a&&(s.set(t.constrain(s.get())),n.useDuration(25).useBaseFriction())}function f(w){c=!w}return{shouldConstrain:l,constrain:p,toggleActive:f}}function H2(t,r,s,n,i){const a=Xt(-r+t,0),d=f(),h=p(),c=b();function l(x,g){return Dr(x,g)<=1}function p(){const x=d[0],g=at(d),v=d.lastIndexOf(x),N=d.indexOf(g)+1;return Xt(v,N)}function f(){return s.map((x,g)=>{const{min:v,max:N}=a,j=a.constrain(x),_=!g,I=wo(s,g);return _?N:I||l(v,j)?v:l(N,j)?N:j}).map(x=>parseFloat(x.toFixed(3)))}function b(){if(r<=t+i)return[a.max];if(n==="keepSnaps")return d;const{min:x,max:g}=h;return d.slice(x,g)}return{snapsContained:c,scrollContainLimit:h}}function z2(t,r,s){const n=r[0],i=s?n-t:at(r);return{limit:Xt(i,n)}}function q2(t,r,s,n){const a=r.min+.1,d=r.max+.1,{reachedMin:h,reachedMax:c}=Xt(a,d);function l(b){return b===1?c(s.get()):b===-1?h(s.get()):!1}function p(b){if(!l(b))return;const w=t*(b*-1);n.forEach(x=>x.add(w))}return{loop:p}}function U2(t){const{max:r,length:s}=t;function n(a){const d=a-r;return s?d/-s:0}return{get:n}}function V2(t,r,s,n,i){const{startEdge:a,endEdge:d}=t,{groupSlides:h}=i,c=f().map(r.measure),l=b(),p=w();function f(){return h(n).map(g=>at(g)[d]-g[0][a]).map(Re)}function b(){return n.map(g=>s[a]-g[a]).map(g=>-Re(g))}function w(){return h(l).map(g=>g[0]).map((g,v)=>g+c[v])}return{snaps:l,snapsAligned:p}}function W2(t,r,s,n,i,a){const{groupSlides:d}=i,{min:h,max:c}=n,l=p();function p(){const b=d(a),w=!t||r==="keepSnaps";return s.length===1?[a]:w?b:b.slice(h,c).map((x,g,v)=>{const N=!g,j=wo(v,g);if(N){const _=at(v[0])+1;return Ai(_)}if(j){const _=Yr(a)-at(v)[0]+1;return Ai(_,at(v)[0])}return x})}return{slideRegistry:l}}function G2(t,r,s,n,i){const{reachedAny:a,removeOffset:d,constrain:h}=n;function c(x){return x.concat().sort((g,v)=>Re(g)-Re(v))[0]}function l(x){const g=t?d(x):h(x),v=r.map((j,_)=>({diff:p(j-g,0),index:_})).sort((j,_)=>Re(j.diff)-Re(_.diff)),{index:N}=v[0];return{index:N,distance:g}}function p(x,g){const v=[x,x+s,x-s];if(!t)return x;if(!g)return c(v);const N=v.filter(j=>bo(j)===g);return N.length?c(N):at(v)-s}function f(x,g){const v=r[x]-i.get(),N=p(v,g);return{index:x,distance:N}}function b(x,g){const v=i.get()+x,{index:N,distance:j}=l(v),_=!t&&a(v);if(!g||_)return{index:N,distance:x};const I=r[N]-j,M=x+p(I,0);return{index:N,distance:M}}return{byDistance:b,byIndex:f,shortcut:p}}function X2(t,r,s,n,i,a,d){function h(f){const b=f.distance,w=f.index!==r.get();a.add(b),b&&(n.duration()?t.start():(t.update(),t.render(1),t.update())),w&&(s.set(r.get()),r.set(f.index),d.emit("select"))}function c(f,b){const w=i.byDistance(f,b);h(w)}function l(f,b){const w=r.clone().set(f),x=i.byIndex(w.get(),b);h(x)}return{distance:c,index:l}}function Y2(t,r,s,n,i,a,d,h){const c={passive:!0,capture:!0};let l=0;function p(w){if(!h)return;function x(g){if(new Date().getTime()-l>10)return;d.emit("slideFocusStart"),t.scrollLeft=0;const j=s.findIndex(_=>_.includes(g));xo(j)&&(i.useDuration(0),n.index(j,0),d.emit("slideFocus"))}a.add(document,"keydown",f,!1),r.forEach((g,v)=>{a.add(g,"focus",N=>{(Qs(h)||h(w,N))&&x(v)},c)})}function f(w){w.code==="Tab"&&(l=new Date().getTime())}return{init:p}}function Or(t){let r=t;function s(){return r}function n(c){r=d(c)}function i(c){r+=d(c)}function a(c){r-=d(c)}function d(c){return xo(c)?c:c.get()}return{get:s,set:n,add:i,subtract:a}}function Il(t,r){const s=t.scroll==="x"?d:h,n=r.style;let i=null,a=!1;function d(b){return`translate3d(${b}px,0px,0px)`}function h(b){return`translate3d(0px,${b}px,0px)`}function c(b){if(a)return;const w=R2(t.direction(b));w!==i&&(n.transform=s(w),i=w)}function l(b){a=!b}function p(){a||(n.transform="",r.getAttribute("style")||r.removeAttribute("style"))}return{clear:p,to:c,toggleActive:l}}function Q2(t,r,s,n,i,a,d,h,c){const p=Hr(i),f=Hr(i).reverse(),b=N().concat(j());function w(P,E){return P.reduce((L,$)=>L-i[$],E)}function x(P,E){return P.reduce((L,$)=>w(L,E)>0?L.concat([$]):L,[])}function g(P){return a.map((E,L)=>({start:E-n[L]+.5+P,end:E+r-.5+P}))}function v(P,E,L){const $=g(E);return P.map(R=>{const U=L?0:-s,H=L?s:0,q=L?"end":"start",G=$[R][q];return{index:R,loopPoint:G,slideLocation:Or(-1),translate:Il(t,c[R]),target:()=>h.get()>G?U:H}})}function N(){const P=d[0],E=x(f,P);return v(E,s,!1)}function j(){const P=r-d[0]-1,E=x(p,P);return v(E,-s,!0)}function _(){return b.every(({index:P})=>{const E=p.filter(L=>L!==P);return w(E,r)<=.1})}function I(){b.forEach(P=>{const{target:E,translate:L,slideLocation:$}=P,R=E();R!==$.get()&&(L.to(R),$.set(R))})}function M(){b.forEach(P=>P.translate.clear())}return{canLoop:_,clear:M,loop:I,loopPoints:b}}function K2(t,r,s){let n,i=!1;function a(c){if(!s)return;function l(p){for(const f of p)if(f.type==="childList"){c.reInit(),r.emit("slidesChanged");break}}n=new MutationObserver(p=>{i||(Qs(s)||s(c,p))&&l(p)}),n.observe(t,{childList:!0})}function d(){n&&n.disconnect(),i=!0}return{init:a,destroy:d}}function J2(t,r,s,n){const i={};let a=null,d=null,h,c=!1;function l(){h=new IntersectionObserver(x=>{c||(x.forEach(g=>{const v=r.indexOf(g.target);i[v]=g}),a=null,d=null,s.emit("slidesInView"))},{root:t.parentElement,threshold:n}),r.forEach(x=>h.observe(x))}function p(){h&&h.disconnect(),c=!0}function f(x){return zr(i).reduce((g,v)=>{const N=parseInt(v),{isIntersecting:j}=i[N];return(x&&j||!x&&!j)&&g.push(N),g},[])}function b(x=!0){if(x&&a)return a;if(!x&&d)return d;const g=f(x);return x&&(a=g),x||(d=g),g}return{init:l,destroy:p,get:b}}function Z2(t,r,s,n,i,a){const{measureSize:d,startEdge:h,endEdge:c}=t,l=s[0]&&i,p=x(),f=g(),b=s.map(d),w=v();function x(){if(!l)return 0;const j=s[0];return Re(r[h]-j[h])}function g(){if(!l)return 0;const j=a.getComputedStyle(at(n));return parseFloat(j.getPropertyValue(`margin-${c}`))}function v(){return s.map((j,_,I)=>{const M=!_,C=wo(I,_);return M?b[_]+p:C?b[_]+f:I[_+1][h]-j[h]}).map(Re)}return{slideSizes:b,slideSizesWithGaps:w,startGap:p,endGap:f}}function ep(t,r,s,n,i,a,d,h,c){const{startEdge:l,endEdge:p,direction:f}=t,b=xo(s);function w(N,j){return Hr(N).filter(_=>_%j===0).map(_=>N.slice(_,_+j))}function x(N){return N.length?Hr(N).reduce((j,_,I)=>{const M=at(j)||0,C=M===0,P=_===Yr(N),E=i[l]-a[M][l],L=i[l]-a[_][p],$=!n&&C?f(d):0,R=!n&&P?f(h):0,U=Re(L-R-(E+$));return I&&U>r+c&&j.push(_),P&&j.push(N.length),j},[]).map((j,_,I)=>{const M=Math.max(I[_-1]||0);return N.slice(M,j)}):[]}function g(N){return b?w(N,s):x(N)}return{groupSlides:g}}function tp(t,r,s,n,i,a,d){const{align:h,axis:c,direction:l,startIndex:p,loop:f,duration:b,dragFree:w,dragThreshold:x,inViewThreshold:g,slidesToScroll:v,skipSnaps:N,containScroll:j,watchResize:_,watchSlides:I,watchDrag:M,watchFocus:C}=a,P=2,E=O2(),L=E.measure(r),$=s.map(E.measure),R=M2(c,l),U=R.measureSize(L),H=D2(U),q=A2(h,U),G=!f&&!!j,W=f||!!j,{slideSizes:Q,slideSizesWithGaps:F,startGap:ne,endGap:be}=Z2(R,L,$,s,W,i),ye=ep(R,U,v,f,L,$,ne,be,P),{snaps:_e,snapsAligned:we}=V2(R,q,L,$,ye),pe=-at(_e)+at(F),{snapsContained:Ie,scrollContainLimit:Oe}=H2(U,pe,we,j,P),O=G?Ie:we,{limit:J}=z2(pe,O,f),ue=Ml(Yr(O),p,f),oe=ue.clone(),ee=Hr(s),z=({dragHandler:kt,scrollBody:br,scrollBounds:wr,options:{loop:Zt}})=>{Zt||wr.constrain(kt.pointerDown()),br.seek()},ie=({scrollBody:kt,translate:br,location:wr,offsetLocation:Zt,previousLocation:ae,scrollLooper:Jr,slideLooper:yr,dragHandler:Zr,animation:Et,eventHandler:es,scrollBounds:ft,options:{loop:vr}},kr)=>{const Nr=kt.settled(),V=!ft.shouldConstrain(),ts=vr?Nr:Nr&&V,rs=ts&&!Zr.pointerDown();rs&&Et.stop();const ze=wr.get()*kr+ae.get()*(1-kr);Zt.set(ze),vr&&(Jr.loop(kt.direction()),yr.loop()),br.to(Zt.get()),rs&&es.emit("settle"),ts||es.emit("scroll")},ve=P2(n,i,()=>z(Jt),kt=>ie(Jt,kt)),Ae=.68,ge=O[ue.get()],Fe=Or(ge),ht=Or(ge),Qe=Or(ge),pt=Or(ge),mt=$2(Fe,Qe,ht,pt,b,Ae),xr=G2(f,O,pe,J,pt),Qt=X2(ve,ue,oe,mt,xr,pt,d),Qr=U2(J),Kt=qr(),$t=J2(r,s,d,g),{slideRegistry:Ke}=W2(G,j,O,Oe,ye,ee),Kr=Y2(t,s,Ke,Qt,mt,Kt,d,C),Jt={ownerDocument:n,ownerWindow:i,eventHandler:d,containerRect:L,slideRects:$,animation:ve,axis:R,dragHandler:I2(R,t,n,i,pt,L2(R,i),Fe,ve,Qt,mt,xr,ue,d,H,w,x,N,Ae,M),eventStore:Kt,percentOfView:H,index:ue,indexPrevious:oe,limit:J,location:Fe,offsetLocation:Qe,previousLocation:ht,options:a,resizeHandler:F2(r,d,i,s,R,_,E),scrollBody:mt,scrollBounds:B2(J,Qe,pt,mt,H),scrollLooper:q2(pe,J,Qe,[Fe,Qe,ht,pt]),scrollProgress:Qr,scrollSnapList:O.map(Qr.get),scrollSnaps:O,scrollTarget:xr,scrollTo:Qt,slideLooper:Q2(R,U,pe,Q,F,_e,O,Qe,s),slideFocus:Kr,slidesHandler:K2(r,d,I),slidesInView:$t,slideIndexes:ee,slideRegistry:Ke,slidesToScroll:ye,target:pt,translate:Il(R,r)};return Jt}function rp(){let t={},r;function s(l){r=l}function n(l){return t[l]||[]}function i(l){return n(l).forEach(p=>p(r,l)),c}function a(l,p){return t[l]=n(l).concat([p]),c}function d(l,p){return t[l]=n(l).filter(f=>f!==p),c}function h(){t={}}const c={init:s,emit:i,off:d,on:a,clear:h};return c}const sp={align:"center",axis:"x",container:null,slides:null,containScroll:"trimSnaps",direction:"ltr",slidesToScroll:1,inViewThreshold:0,breakpoints:{},dragFree:!1,dragThreshold:10,loop:!1,skipSnaps:!1,duration:25,startIndex:0,active:!0,watchDrag:!0,watchResize:!0,watchSlides:!0,watchFocus:!0};function np(t){function r(a,d){return Pl(a,d||{})}function s(a){const d=a.breakpoints||{},h=zr(d).filter(c=>t.matchMedia(c).matches).map(c=>d[c]).reduce((c,l)=>r(c,l),{});return r(a,h)}function n(a){return a.map(d=>zr(d.breakpoints||{})).reduce((d,h)=>d.concat(h),[]).map(t.matchMedia)}return{mergeOptions:r,optionsAtMedia:s,optionsMediaQueries:n}}function op(t){let r=[];function s(a,d){return r=d.filter(({options:h})=>t.optionsAtMedia(h).active!==!1),r.forEach(h=>h.init(a,t)),d.reduce((h,c)=>Object.assign(h,{[c.name]:c}),{})}function n(){r=r.filter(a=>a.destroy())}return{init:s,destroy:n}}function Rs(t,r,s){const n=t.ownerDocument,i=n.defaultView,a=np(i),d=op(a),h=qr(),c=rp(),{mergeOptions:l,optionsAtMedia:p,optionsMediaQueries:f}=a,{on:b,off:w,emit:x}=c,g=R;let v=!1,N,j=l(sp,Rs.globalOptions),_=l(j),I=[],M,C,P;function E(){const{container:ee,slides:z}=_;C=(Wn(ee)?t.querySelector(ee):ee)||t.children[0];const ve=Wn(z)?C.querySelectorAll(z):z;P=[].slice.call(ve||C.children)}function L(ee){const z=tp(t,C,P,n,i,ee,c);if(ee.loop&&!z.slideLooper.canLoop()){const ie=Object.assign({},ee,{loop:!1});return L(ie)}return z}function $(ee,z){v||(j=l(j,ee),_=p(j),I=z||I,E(),N=L(_),f([j,...I.map(({options:ie})=>ie)]).forEach(ie=>h.add(ie,"change",R)),_.active&&(N.translate.to(N.location.get()),N.animation.init(),N.slidesInView.init(),N.slideFocus.init(oe),N.eventHandler.init(oe),N.resizeHandler.init(oe),N.slidesHandler.init(oe),N.options.loop&&N.slideLooper.loop(),C.offsetParent&&P.length&&N.dragHandler.init(oe),M=d.init(oe,I)))}function R(ee,z){const ie=ye();U(),$(l({startIndex:ie},ee),z),c.emit("reInit")}function U(){N.dragHandler.destroy(),N.eventStore.clear(),N.translate.clear(),N.slideLooper.clear(),N.resizeHandler.destroy(),N.slidesHandler.destroy(),N.slidesInView.destroy(),N.animation.destroy(),d.destroy(),h.clear()}function H(){v||(v=!0,h.clear(),U(),c.emit("destroy"),c.clear())}function q(ee,z,ie){!_.active||v||(N.scrollBody.useBaseFriction().useDuration(z===!0?0:_.duration),N.scrollTo.index(ee,ie||0))}function G(ee){const z=N.index.add(1).get();q(z,ee,-1)}function W(ee){const z=N.index.add(-1).get();q(z,ee,1)}function Q(){return N.index.add(1).get()!==ye()}function F(){return N.index.add(-1).get()!==ye()}function ne(){return N.scrollSnapList}function be(){return N.scrollProgress.get(N.offsetLocation.get())}function ye(){return N.index.get()}function _e(){return N.indexPrevious.get()}function we(){return N.slidesInView.get()}function pe(){return N.slidesInView.get(!1)}function Ie(){return M}function Oe(){return N}function O(){return t}function J(){return C}function ue(){return P}const oe={canScrollNext:Q,canScrollPrev:F,containerNode:J,internalEngine:Oe,destroy:H,off:w,on:b,emit:x,plugins:Ie,previousScrollSnap:_e,reInit:g,rootNode:O,scrollNext:G,scrollPrev:W,scrollProgress:be,scrollSnapList:ne,scrollTo:q,selectedScrollSnap:ye,slideNodes:ue,slidesInView:we,slidesNotInView:pe};return $(r,s),setTimeout(()=>c.emit("init"),0),oe}Rs.globalOptions=void 0;function yo(t={},r=[]){const s=k.useRef(t),n=k.useRef(r),[i,a]=k.useState(),[d,h]=k.useState(),c=k.useCallback(()=>{i&&i.reInit(s.current,n.current)},[i]);return k.useEffect(()=>{go(s.current,t)||(s.current=t,c())},[t,c]),k.useEffect(()=>{E2(n.current,r)||(n.current=r,c())},[r,c]),k.useEffect(()=>{if(C2()&&d){Rs.globalOptions=yo.globalOptions;const l=Rs(d,s.current,n.current);return a(l),()=>l.destroy()}else a(void 0)},[d,a]),[h,i]}yo.globalOptions=void 0;const Ll=k.createContext(null);function Ol(){const t=k.useContext(Ll);if(!t)throw new Error("useCarousel must be used within a <Carousel />");return t}function ip({orientation:t="horizontal",opts:r,setApi:s,plugins:n,className:i,children:a,...d}){const[h,c]=yo({...r,axis:t==="horizontal"?"x":"y"},n),[l,p]=k.useState(!1),[f,b]=k.useState(!1),w=k.useCallback(N=>{N&&(p(N.canScrollPrev()),b(N.canScrollNext()))},[]),x=k.useCallback(()=>{c?.scrollPrev()},[c]),g=k.useCallback(()=>{c?.scrollNext()},[c]),v=k.useCallback(N=>{N.key==="ArrowLeft"?(N.preventDefault(),x()):N.key==="ArrowRight"&&(N.preventDefault(),g())},[x,g]);return k.useEffect(()=>{!c||!s||s(c)},[c,s]),k.useEffect(()=>{if(c)return w(c),c.on("reInit",w),c.on("select",w),()=>{c?.off("select",w)}},[c,w]),e.jsx(Ll.Provider,{value:{carouselRef:h,api:c,opts:r,orientation:t||(r?.axis==="y"?"vertical":"horizontal"),scrollPrev:x,scrollNext:g,canScrollPrev:l,canScrollNext:f},children:e.jsx("div",{onKeyDownCapture:v,className:ke("relative",i),role:"region","aria-roledescription":"carousel","data-slot":"carousel",...d,children:a})})}function ap({className:t,...r}){const{carouselRef:s,orientation:n}=Ol();return e.jsx("div",{ref:s,className:"overflow-hidden","data-slot":"carousel-content",children:e.jsx("div",{className:ke("flex",n==="horizontal"?"-ml-4":"-mt-4 flex-col",t),...r})})}function Pi({className:t,...r}){const{orientation:s}=Ol();return e.jsx("div",{role:"group","aria-roledescription":"slide","data-slot":"carousel-item",className:ke("min-w-0 shrink-0 grow-0 basis-full",s==="horizontal"?"pl-4":"pt-4",t),...r})}function lp({userName:t,riskLevel:r,riskPercentage:s,confidence:n=85,contextualAction:i,streakCount:a,todayData:d,riskContributors:h=[],riskVariables:c=[],whatHelps:l=[],onQuickCheckClick:p,onInsightsClick:f,onSootheModeClick:b,showNotification:w=null,lowStimulationMode:x=!1}){const[g,v]=ce.useState(!0),[N,j]=ce.useState(!1),{pendingFollowUps:_,recordOutcome:I}=S2(),[M,C]=ce.useState(new Set),P=_.find(G=>!M.has(G.id)),E=()=>{const G=new Date().getHours();return G<12?"Good morning":G<18?"Good afternoon":"Good evening"};i.icon;const[L,$]=ce.useState(),[R,U]=ce.useState(0),[H,q]=ce.useState(0);return ce.useEffect(()=>{L&&(q(L.scrollSnapList().length),U(L.selectedScrollSnap()),L.on("select",()=>{U(L.selectedScrollSnap())}))},[L]),e.jsx("div",{className:"flex flex-col min-h-screen bg-background",children:e.jsx("main",{className:"flex-1 px-6 pt-8 pb-24 overflow-y-auto",children:e.jsxs("div",{className:"max-w-md mx-auto space-y-6",children:[e.jsx("div",{children:e.jsxs("h1",{className:"text-h1",children:[E(),", ",t]})}),w&&!N&&e.jsx(j2,{variant:w,message:w==="alert"?"Your migraine risk is rising for 24pm":"You've been on-screen for 2h, take 5?",primaryAction:w==="alert"?{label:"Take a 5-min break",onClick:()=>b&&b(c,s)}:{label:"Start break",onClick:()=>b&&b(c,s)},secondaryAction:w==="alert"?{label:"Remind me in 30m",onClick:()=>console.log("Setting reminder")}:void 0,onDismiss:()=>j(!0)}),P&&e.jsxs("div",{className:"border rounded-xl p-4 bg-accent/5 border-accent/20",style:{borderRadius:"12px"},role:"region","aria-label":"SootheMode follow-up",children:[e.jsx("p",{className:"text-body mb-3",children:"How did your prevention plan work?"}),e.jsxs("p",{className:"text-label text-muted-foreground mb-4",children:["Triggers: ",P.triggerLabels]}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.jsx(fe,{size:"sm",className:"bg-success text-success-foreground hover:bg-success/90",style:{borderRadius:"8px"},onClick:()=>I(P.id,"prevented"),children:"Prevented"}),e.jsx(fe,{size:"sm",variant:"outline",className:"border-warning/30 text-warning hover:bg-warning/10",style:{borderRadius:"8px"},onClick:()=>I(P.id,"reduced"),children:"Reduced"}),e.jsx(fe,{size:"sm",variant:"outline",className:"border-critical/30 text-critical hover:bg-critical/10",style:{borderRadius:"8px"},onClick:()=>I(P.id,"no-effect"),children:"No effect"}),e.jsx("button",{className:"text-label text-muted-foreground hover:text-foreground px-2",onClick:()=>C(G=>new Set(G).add(P.id)),"aria-label":"Dismiss follow-up",children:"Dismiss"})]})]}),e.jsx(s1,{percentage:s,riskLevel:r,confidence:85,riskVariables:c,whatHelps:l,lowStimulationMode:x}),e.jsx(fe,{onClick:()=>b&&b(c,s),className:"w-full h-12 gap-2",style:{borderRadius:"12px"},children:e.jsx("span",{className:"truncate",children:i.label})}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsx(Al,{trigger:e.jsxs(fe,{variant:"outline",className:"h-12 border-critical text-critical hover:bg-critical/10",style:{borderRadius:"12px"},children:[e.jsx(Ps,{className:"w-4 h-4"}),"Report migraine"]})}),e.jsxs(fe,{onClick:p,variant:"outline",className:"h-12 gap-2 relative",style:{borderRadius:"12px"},children:[e.jsx(An,{className:"w-5 h-5"}),"Quick check",a>0&&e.jsxs("span",{className:"absolute -top-2 -right-2 flex items-center gap-1 px-2 py-0.5 rounded-full bg-background text-foreground text-label border border-border",children:[e.jsx(Jn,{className:"w-3 h-3"}),a]})]})]}),e.jsxs("div",{className:"p-5 rounded-xl bg-card border border-border space-y-4",style:{borderRadius:"12px",boxShadow:"var(--shadow-card)"},children:[e.jsx("h2",{className:"text-h2",children:"Today at a glance"}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"flex items-center justify-center w-10 h-10 rounded-lg bg-accent/10",style:{borderRadius:"8px"},children:e.jsx(xt,{className:"w-5 h-5 text-accent"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-label text-muted-foreground",children:"Sleep"}),e.jsx("p",{className:"text-body",children:d.sleepDuration})]})]})}),e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"flex items-center justify-center w-10 h-10 rounded-lg bg-primary/10",style:{borderRadius:"8px"},children:e.jsx(tt,{className:"w-5 h-5 text-primary"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-label text-muted-foreground",children:"HRV"}),e.jsxs("div",{className:"flex items-center gap-1.5",children:[d.hrvTrend==="up"?e.jsx(Ms,{className:"w-4 h-4 text-success"}):e.jsx(sa,{className:"w-4 h-4 text-critical"}),e.jsxs("p",{className:"text-body",children:[d.hrvChange," vs baseline"]})]})]})]})}),e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"flex items-center justify-center w-10 h-10 rounded-lg bg-success/10",style:{borderRadius:"8px"},children:e.jsx(vs,{className:"w-5 h-5 text-success"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-label text-muted-foreground",children:"Screen time"}),e.jsx("p",{className:"text-body",children:d.screenTime})]})]})}),d.upcomingStressor&&e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"flex items-center justify-center w-10 h-10 rounded-lg bg-warning/10",style:{borderRadius:"8px"},children:e.jsx($e,{className:"w-5 h-5 text-warning"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-label text-muted-foreground",children:"Upcoming"}),e.jsx("p",{className:"text-body",children:d.upcomingStressor})]})]})})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h2",{className:"text-h2",children:"Tips for you"}),e.jsxs("div",{className:"relative",children:[e.jsx(ip,{setApi:$,className:"w-full",opts:{align:"start",loop:!1},children:e.jsxs(ap,{children:[e.jsx(Pi,{children:e.jsx(fi,{icon:Pd,title:"Take a breathing break",description:"5 minutes of deep breathing can reduce stress and lower migraine risk.",iconBgColor:"bg-accent/10",iconColor:"text-accent"})}),e.jsx(Pi,{children:e.jsx(fi,{icon:ea,title:"Stay hydrated",description:"Drink 250ml of water now to prevent dehydration headaches.",iconBgColor:"bg-success/10",iconColor:"text-success"})})]})}),e.jsx("div",{className:"flex justify-center gap-2 mt-4",children:Array.from({length:H}).map((G,W)=>e.jsx("button",{onClick:()=>L?.scrollTo(W),className:`h-2 rounded-full transition-all ${W===R?"w-6 bg-primary":"w-2 bg-neutral-200 dark:bg-neutral-200/20"}`,"aria-label":`Go to slide ${W+1}`},W))})]})]})]})})})}const cp={user_id:"demo_alex",name:"Alex",email:"alex.demo@ease.app",start_date:"2025-10-16",profile:{age:32,baseline_hrv:55,avg_sleep:7.2,stress_level:"moderate"}},dp=JSON.parse('[{"day":0,"date":"2025-10-16T00:00:00","daily_risk":{"mean":0.14811743795871735,"lower":0.07588551193475723,"upper":0.2374056726694107},"hourly_risks":[{"hour":0,"risk":0.15124407410621643,"lower":0.07456435263156891,"upper":0.25838109850883484},{"hour":1,"risk":0.15068402886390686,"lower":0.07844117283821106,"upper":0.25332531332969666},{"hour":2,"risk":0.15106812119483948,"lower":0.07726183533668518,"upper":0.24946986138820648},{"hour":3,"risk":0.149473175406456,"lower":0.07856935262680054,"upper":0.249365895986557},{"hour":4,"risk":0.15290218591690063,"lower":0.074028380215168,"upper":0.2529364228248596},{"hour":5,"risk":0.1520131230354309,"lower":0.0742282047867775,"upper":0.25620755553245544},{"hour":6,"risk":0.15222862362861633,"lower":0.07598362118005753,"upper":0.255624920129776},{"hour":7,"risk":0.1494283527135849,"lower":0.07816743105649948,"upper":0.25753214955329895},{"hour":8,"risk":0.1471305638551712,"lower":0.07366679608821869,"upper":0.24346166849136353},{"hour":9,"risk":0.1487336903810501,"lower":0.07601117342710495,"upper":0.24734963476657867},{"hour":10,"risk":0.15015822649002075,"lower":0.076900415122509,"upper":0.2496812492609024},{"hour":11,"risk":0.14890149235725403,"lower":0.07556144148111343,"upper":0.24843943119049072},{"hour":12,"risk":0.15194422006607056,"lower":0.07612954825162888,"upper":0.2512248754501343},{"hour":13,"risk":0.14989370107650757,"lower":0.07169624418020248,"upper":0.2541194260120392},{"hour":14,"risk":0.15154123306274414,"lower":0.07688052207231522,"upper":0.2543720304965973},{"hour":15,"risk":0.15037737786769867,"lower":0.07317769527435303,"upper":0.2583368718624115},{"hour":16,"risk":0.15156494081020355,"lower":0.07909315079450607,"upper":0.2469385862350464},{"hour":17,"risk":0.1503399908542633,"lower":0.07467272132635117,"upper":0.25062882900238037},{"hour":18,"risk":0.15063819289207458,"lower":0.07373854517936707,"upper":0.25060731172561646},{"hour":19,"risk":0.15098443627357483,"lower":0.07565828412771225,"upper":0.24822965264320374},{"hour":20,"risk":0.15001311898231506,"lower":0.07639890909194946,"upper":0.24810248613357544},{"hour":21,"risk":0.15191812813282013,"lower":0.076572947204113,"upper":0.25439950823783875},{"hour":22,"risk":0.15226761996746063,"lower":0.07882367819547653,"upper":0.2525152564048767},{"hour":23,"risk":0.14811743795871735,"lower":0.07588551193475723,"upper":0.2374056726694107}],"latents":{"stress":0.005549415946006775,"sleep_debt":0.013515949249267578,"hormonal":0.004692297428846359,"environmental":-0.009072728455066681},"has_migraine":false},{"day":1,"date":"2025-10-17T00:00:00","daily_risk":{"mean":0.15283477306365967,"lower":0.07456134259700775,"upper":0.25561803579330444},"hourly_risks":[{"hour":0,"risk":0.15148507058620453,"lower":0.07597392052412033,"upper":0.25561708211898804},{"hour":1,"risk":0.15406663715839386,"lower":0.07531138509511948,"upper":0.2563094198703766},{"hour":2,"risk":0.1486988514661789,"lower":0.07438785582780838,"upper":0.25595948100090027},{"hour":3,"risk":0.1494881957769394,"lower":0.07382988184690475,"upper":0.2547820508480072},{"hour":4,"risk":0.15138526260852814,"lower":0.07830104231834412,"upper":0.25339195132255554},{"hour":5,"risk":0.1478951871395111,"lower":0.07542265206575394,"upper":0.2463286817073822},{"hour":6,"risk":0.15355850756168365,"lower":0.07502475380897522,"upper":0.2572362720966339},{"hour":7,"risk":0.1511039435863495,"lower":0.07478126138448715,"upper":0.2561732232570648},{"hour":8,"risk":0.15042583644390106,"lower":0.07584098726511002,"upper":0.25817161798477173},{"hour":9,"risk":0.15258660912513733,"lower":0.07596276700496674,"upper":0.26265087723731995},{"hour":10,"risk":0.15373946726322174,"lower":0.07503243535757065,"upper":0.2566309869289398},{"hour":11,"risk":0.15190407633781433,"lower":0.07745099067687988,"upper":0.25513434410095215},{"hour":12,"risk":0.15015795826911926,"lower":0.07479030638933182,"upper":0.24712686240673065},{"hour":13,"risk":0.1519412100315094,"lower":0.075168177485466,"upper":0.2595478892326355},{"hour":14,"risk":0.15144000947475433,"lower":0.07744447141885757,"upper":0.25563013553619385},{"hour":15,"risk":0.15143561363220215,"lower":0.0787980780005455,"upper":0.25361329317092896},{"hour":16,"risk":0.15114617347717285,"lower":0.07265947759151459,"upper":0.25512179732322693},{"hour":17,"risk":0.1496105194091797,"lower":0.0738457441329956,"upper":0.25389042496681213},{"hour":18,"risk":0.1481064409017563,"lower":0.07679031789302826,"upper":0.2487945258617401},{"hour":19,"risk":0.15156017243862152,"lower":0.07512813806533813,"upper":0.2547573149204254},{"hour":20,"risk":0.15138496458530426,"lower":0.07509685307741165,"upper":0.25366395711898804},{"hour":21,"risk":0.15259408950805664,"lower":0.07543984800577164,"upper":0.2555440068244934},{"hour":22,"risk":0.15399542450904846,"lower":0.0777382105588913,"upper":0.25106382369995117},{"hour":23,"risk":0.15283477306365967,"lower":0.07456134259700775,"upper":0.25561803579330444}],"latents":{"stress":0.005541704595088959,"sleep_debt":0.013439878821372986,"hormonal":0.0047149620950222015,"environmental":-0.009100399911403656},"has_migraine":false},{"day":2,"date":"2025-10-18T00:00:00","daily_risk":{"mean":0.15037979185581207,"lower":0.0738588199019432,"upper":0.25232189893722534},"hourly_risks":[{"hour":0,"risk":0.15086263418197632,"lower":0.07420158386230469,"upper":0.2531355619430542},{"hour":1,"risk":0.15448641777038574,"lower":0.07310154289007187,"upper":0.2667713761329651},{"hour":2,"risk":0.15304751694202423,"lower":0.07674334198236465,"upper":0.26194778084754944},{"hour":3,"risk":0.15206830203533173,"lower":0.07952751219272614,"upper":0.2603135406970978},{"hour":4,"risk":0.14730964601039886,"lower":0.07164931297302246,"upper":0.24819186329841614},{"hour":5,"risk":0.14982546865940094,"lower":0.07513102889060974,"upper":0.2632973790168762},{"hour":6,"risk":0.1482200026512146,"lower":0.07604873925447464,"upper":0.24263234436511993},{"hour":7,"risk":0.15129300951957703,"lower":0.0788647010922432,"upper":0.2490660697221756},{"hour":8,"risk":0.1466546505689621,"lower":0.07537294924259186,"upper":0.24461954832077026},{"hour":9,"risk":0.1497609168291092,"lower":0.07504330575466156,"upper":0.25889772176742554},{"hour":10,"risk":0.15078400075435638,"lower":0.07446615397930145,"upper":0.2565588057041168},{"hour":11,"risk":0.14738906919956207,"lower":0.0757448673248291,"upper":0.24557779729366302},{"hour":12,"risk":0.15016812086105347,"lower":0.07583795487880707,"upper":0.2535220682621002},{"hour":13,"risk":0.15079882740974426,"lower":0.07664601504802704,"upper":0.2475004643201828},{"hour":14,"risk":0.14928559958934784,"lower":0.07536187022924423,"upper":0.2469848096370697},{"hour":15,"risk":0.15153731405735016,"lower":0.0742901861667633,"upper":0.255004346370697},{"hour":16,"risk":0.15239043533802032,"lower":0.0775383710861206,"upper":0.2534051239490509},{"hour":17,"risk":0.15234127640724182,"lower":0.07528776675462723,"upper":0.2560981214046478},{"hour":18,"risk":0.15248337388038635,"lower":0.07794823497533798,"upper":0.2523280382156372},{"hour":19,"risk":0.1499415934085846,"lower":0.07433653622865677,"upper":0.25065430998802185},{"hour":20,"risk":0.15251275897026062,"lower":0.0773971676826477,"upper":0.25576096773147583},{"hour":21,"risk":0.15015122294425964,"lower":0.07782603800296783,"upper":0.24914279580116272},{"hour":22,"risk":0.15087707340717316,"lower":0.07233622670173645,"upper":0.24986010789871216},{"hour":23,"risk":0.15037979185581207,"lower":0.0738588199019432,"upper":0.25232189893722534}],"latents":{"stress":0.0056008026003837585,"sleep_debt":0.013510704040527344,"hormonal":0.004716847091913223,"environmental":-0.009099923074245453},"has_migraine":false},{"day":3,"date":"2025-10-19T00:00:00","daily_risk":{"mean":0.15144756436347961,"lower":0.07285715639591217,"upper":0.25852257013320923},"hourly_risks":[{"hour":0,"risk":0.14994168281555176,"lower":0.07466277480125427,"upper":0.2515326142311096},{"hour":1,"risk":0.15228883922100067,"lower":0.07840367406606674,"upper":0.25734585523605347},{"hour":2,"risk":0.14923222362995148,"lower":0.07465245574712753,"upper":0.252331018447876},{"hour":3,"risk":0.14877381920814514,"lower":0.0729367583990097,"upper":0.2520328164100647},{"hour":4,"risk":0.1520119309425354,"lower":0.07609382271766663,"upper":0.251985102891922},{"hour":5,"risk":0.14925895631313324,"lower":0.07490239292383194,"upper":0.24970848858356476},{"hour":6,"risk":0.1525871306657791,"lower":0.07414223998785019,"upper":0.2532375752925873},{"hour":7,"risk":0.14980916678905487,"lower":0.07605420798063278,"upper":0.24537454545497894},{"hour":8,"risk":0.1522321254014969,"lower":0.07692647725343704,"upper":0.25490960478782654},{"hour":9,"risk":0.15089450776576996,"lower":0.07598989456892014,"upper":0.2477543205022812},{"hour":10,"risk":0.15020298957824707,"lower":0.07654222100973129,"upper":0.2566615045070648},{"hour":11,"risk":0.15203070640563965,"lower":0.07574674487113953,"upper":0.2557612955570221},{"hour":12,"risk":0.1503058671951294,"lower":0.0743003636598587,"upper":0.2549195885658264},{"hour":13,"risk":0.1538376808166504,"lower":0.07524444907903671,"upper":0.2569577693939209},{"hour":14,"risk":0.14939744770526886,"lower":0.0737738385796547,"upper":0.2606281638145447},{"hour":15,"risk":0.1508696973323822,"lower":0.07364203035831451,"upper":0.25410908460617065},{"hour":16,"risk":0.15368445217609406,"lower":0.07584908604621887,"upper":0.2614086866378784},{"hour":17,"risk":0.1524771749973297,"lower":0.07646016776561737,"upper":0.2524612545967102},{"hour":18,"risk":0.15165142714977264,"lower":0.07816267013549805,"upper":0.25722864270210266},{"hour":19,"risk":0.14936144649982452,"lower":0.07393612712621689,"upper":0.24663075804710388},{"hour":20,"risk":0.15101714432239532,"lower":0.0762643814086914,"upper":0.25141778588294983},{"hour":21,"risk":0.1515434980392456,"lower":0.07650835067033768,"upper":0.26284414529800415},{"hour":22,"risk":0.1523272544145584,"lower":0.06982479244470596,"upper":0.2650547921657562},{"hour":23,"risk":0.15144756436347961,"lower":0.07285715639591217,"upper":0.25852257013320923}],"latents":{"stress":0.00554879754781723,"sleep_debt":0.013567745685577393,"hormonal":0.004823017865419388,"environmental":-0.007768623530864716},"has_migraine":true},{"day":4,"date":"2025-10-20T00:00:00","daily_risk":{"mean":0.15268559753894806,"lower":0.07849638164043427,"upper":0.26065823435783386},"hourly_risks":[{"hour":0,"risk":0.14900827407836914,"lower":0.0752953365445137,"upper":0.24555504322052002},{"hour":1,"risk":0.15290337800979614,"lower":0.07619114220142365,"upper":0.2539471685886383},{"hour":2,"risk":0.15029101073741913,"lower":0.07595796138048172,"upper":0.25028905272483826},{"hour":3,"risk":0.1479644477367401,"lower":0.07310578972101212,"upper":0.25409016013145447},{"hour":4,"risk":0.1510370820760727,"lower":0.07707656919956207,"upper":0.2505248785018921},{"hour":5,"risk":0.15273796021938324,"lower":0.07671480625867844,"upper":0.25311264395713806},{"hour":6,"risk":0.14982730150222778,"lower":0.07219960540533066,"upper":0.25544407963752747},{"hour":7,"risk":0.15020665526390076,"lower":0.07435736060142517,"upper":0.25321659445762634},{"hour":8,"risk":0.152884379029274,"lower":0.07687907665967941,"upper":0.26030436158180237},{"hour":9,"risk":0.15089775621891022,"lower":0.07689918577671051,"upper":0.25189244747161865},{"hour":10,"risk":0.1500653475522995,"lower":0.07283569127321243,"upper":0.2528897523880005},{"hour":11,"risk":0.15249298512935638,"lower":0.07745944708585739,"upper":0.25210076570510864},{"hour":12,"risk":0.15311327576637268,"lower":0.0764504000544548,"upper":0.26018279790878296},{"hour":13,"risk":0.14963555335998535,"lower":0.07442516088485718,"upper":0.2574055790901184},{"hour":14,"risk":0.15200576186180115,"lower":0.07751160115003586,"upper":0.25596722960472107},{"hour":15,"risk":0.15328902006149292,"lower":0.08016176521778107,"upper":0.2563847303390503},{"hour":16,"risk":0.14943547546863556,"lower":0.07626096904277802,"upper":0.24811621010303497},{"hour":17,"risk":0.15264831483364105,"lower":0.07393870502710342,"upper":0.25988519191741943},{"hour":18,"risk":0.1527247130870819,"lower":0.07570071518421173,"upper":0.26335233449935913},{"hour":19,"risk":0.1512776017189026,"lower":0.07801983505487442,"upper":0.25095197558403015},{"hour":20,"risk":0.14962922036647797,"lower":0.07794252783060074,"upper":0.24831025302410126},{"hour":21,"risk":0.1517663151025772,"lower":0.07523272186517715,"upper":0.2563156187534332},{"hour":22,"risk":0.15259243547916412,"lower":0.07757974416017532,"upper":0.25286349654197693},{"hour":23,"risk":0.15268559753894806,"lower":0.07849638164043427,"upper":0.26065823435783386}],"latents":{"stress":0.005663096904754639,"sleep_debt":0.01341894268989563,"hormonal":0.0047660209238529205,"environmental":-0.009194083511829376},"has_migraine":false},{"day":5,"date":"2025-10-21T00:00:00","daily_risk":{"mean":0.15101400017738342,"lower":0.07871662080287933,"upper":0.2549664378166199},"hourly_risks":[{"hour":0,"risk":0.1534648984670639,"lower":0.07856865972280502,"upper":0.2566206753253937},{"hour":1,"risk":0.15391382575035095,"lower":0.07631828635931015,"upper":0.26668035984039307},{"hour":2,"risk":0.15132281184196472,"lower":0.07764583081007004,"upper":0.2453087717294693},{"hour":3,"risk":0.1542958915233612,"lower":0.0751592144370079,"upper":0.25927114486694336},{"hour":4,"risk":0.1528206765651703,"lower":0.08002332597970963,"upper":0.252839058637619},{"hour":5,"risk":0.1492159366607666,"lower":0.07237082719802856,"upper":0.24984966218471527},{"hour":6,"risk":0.15169648826122284,"lower":0.07768929749727249,"upper":0.23968614637851715},{"hour":7,"risk":0.15119047462940216,"lower":0.07512057572603226,"upper":0.2514594495296478},{"hour":8,"risk":0.1511673629283905,"lower":0.07463978976011276,"upper":0.2540702819824219},{"hour":9,"risk":0.15479916334152222,"lower":0.07853476703166962,"upper":0.2599734663963318},{"hour":10,"risk":0.15022702515125275,"lower":0.07540897279977798,"upper":0.25288254022598267},{"hour":11,"risk":0.1515480875968933,"lower":0.07542620599269867,"upper":0.2554987072944641},{"hour":12,"risk":0.1483040302991867,"lower":0.07394606620073318,"upper":0.25362321734428406},{"hour":13,"risk":0.15040084719657898,"lower":0.07282787561416626,"upper":0.25117865204811096},{"hour":14,"risk":0.15194857120513916,"lower":0.07305911183357239,"upper":0.25991305708885193},{"hour":15,"risk":0.1485917568206787,"lower":0.07455842941999435,"upper":0.251314640045166},{"hour":16,"risk":0.14847633242607117,"lower":0.07823571562767029,"upper":0.24126291275024414},{"hour":17,"risk":0.15023264288902283,"lower":0.07375150173902512,"upper":0.2521851658821106},{"hour":18,"risk":0.1536635309457779,"lower":0.0774039551615715,"upper":0.2562699317932129},{"hour":19,"risk":0.1505383849143982,"lower":0.07599108666181564,"upper":0.2505470812320709},{"hour":20,"risk":0.1507766991853714,"lower":0.07732903957366943,"upper":0.25776639580726624},{"hour":21,"risk":0.15052345395088196,"lower":0.07565107941627502,"upper":0.251197874546051},{"hour":22,"risk":0.15112780034542084,"lower":0.0756404772400856,"upper":0.25829702615737915},{"hour":23,"risk":0.15101400017738342,"lower":0.07871662080287933,"upper":0.2549664378166199}],"latents":{"stress":0.005698017776012421,"sleep_debt":0.013342052698135376,"hormonal":0.004799138754606247,"environmental":-0.009263060986995697},"has_migraine":false},{"day":6,"date":"2025-10-22T00:00:00","daily_risk":{"mean":0.14829249680042267,"lower":0.07333718240261078,"upper":0.26049599051475525},"hourly_risks":[{"hour":0,"risk":0.15189918875694275,"lower":0.07634282112121582,"upper":0.25434744358062744},{"hour":1,"risk":0.15255357325077057,"lower":0.07457678765058517,"upper":0.25743404030799866},{"hour":2,"risk":0.1494464874267578,"lower":0.07457330822944641,"upper":0.24912868440151215},{"hour":3,"risk":0.1522129476070404,"lower":0.07928340882062912,"upper":0.2576112449169159},{"hour":4,"risk":0.15053512156009674,"lower":0.07942484319210052,"upper":0.24609410762786865},{"hour":5,"risk":0.1529056429862976,"lower":0.07883678376674652,"upper":0.2583058774471283},{"hour":6,"risk":0.14853420853614807,"lower":0.07720368355512619,"upper":0.2581796646118164},{"hour":7,"risk":0.1490159034729004,"lower":0.07494071125984192,"upper":0.2419137954711914},{"hour":8,"risk":0.1489933580160141,"lower":0.07390416413545609,"upper":0.24781838059425354},{"hour":9,"risk":0.15036585927009583,"lower":0.07190320640802383,"upper":0.2458685040473938},{"hour":10,"risk":0.15424562990665436,"lower":0.07793746888637543,"upper":0.2601834833621979},{"hour":11,"risk":0.15043491125106812,"lower":0.07887711375951767,"upper":0.25039762258529663},{"hour":12,"risk":0.15313594043254852,"lower":0.07413019984960556,"upper":0.2539384067058563},{"hour":13,"risk":0.1539718061685562,"lower":0.07631679624319077,"upper":0.2600519359111786},{"hour":14,"risk":0.15020518004894257,"lower":0.07546354830265045,"upper":0.2518813908100128},{"hour":15,"risk":0.1484849601984024,"lower":0.07456568628549576,"upper":0.2511335015296936},{"hour":16,"risk":0.1475428193807602,"lower":0.0749620646238327,"upper":0.23964858055114746},{"hour":17,"risk":0.15011194348335266,"lower":0.07794085144996643,"upper":0.25044700503349304},{"hour":18,"risk":0.1523003876209259,"lower":0.07207576185464859,"upper":0.2619314193725586},{"hour":19,"risk":0.14989879727363586,"lower":0.07539484649896622,"upper":0.2467358112335205},{"hour":20,"risk":0.15038807690143585,"lower":0.07470260560512543,"upper":0.2522570490837097},{"hour":21,"risk":0.15140973031520844,"lower":0.07629755884408951,"upper":0.26030924916267395},{"hour":22,"risk":0.15287679433822632,"lower":0.07376489788293839,"upper":0.2549268305301666},{"hour":23,"risk":0.14829249680042267,"lower":0.07333718240261078,"upper":0.26049599051475525}],"latents":{"stress":0.005714915692806244,"sleep_debt":0.01341034471988678,"hormonal":0.004793573170900345,"environmental":-0.009266756474971771},"has_migraine":false},{"day":7,"date":"2025-10-23T00:00:00","daily_risk":{"mean":0.151457279920578,"lower":0.07550190389156342,"upper":0.252183735370636},"hourly_risks":[{"hour":0,"risk":0.15097461640834808,"lower":0.0756029263138771,"upper":0.25357717275619507},{"hour":1,"risk":0.14851680397987366,"lower":0.07500793039798737,"upper":0.2509196996688843},{"hour":2,"risk":0.15331923961639404,"lower":0.07827790826559067,"upper":0.251017689704895},{"hour":3,"risk":0.15261666476726532,"lower":0.07684023678302765,"upper":0.25171080231666565},{"hour":4,"risk":0.15123477578163147,"lower":0.07626895606517792,"upper":0.2587239742279053},{"hour":5,"risk":0.154523104429245,"lower":0.08111996948719025,"upper":0.2559189796447754},{"hour":6,"risk":0.15049126744270325,"lower":0.07592155784368515,"upper":0.24957440793514252},{"hour":7,"risk":0.15205062925815582,"lower":0.07935113459825516,"upper":0.2524569630622864},{"hour":8,"risk":0.14746816456317902,"lower":0.07380946725606918,"upper":0.24697193503379822},{"hour":9,"risk":0.14849455654621124,"lower":0.07442864775657654,"upper":0.2462206333875656},{"hour":10,"risk":0.15217971801757812,"lower":0.0760498195886612,"upper":0.264758825302124},{"hour":11,"risk":0.15010733902454376,"lower":0.07747984677553177,"upper":0.25072598457336426},{"hour":12,"risk":0.1536654233932495,"lower":0.07653333991765976,"upper":0.26213449239730835},{"hour":13,"risk":0.15039491653442383,"lower":0.07742886990308762,"upper":0.2485613077878952},{"hour":14,"risk":0.1527237743139267,"lower":0.07692386209964752,"upper":0.2586451470851898},{"hour":15,"risk":0.15162774920463562,"lower":0.07678291946649551,"upper":0.24921222031116486},{"hour":16,"risk":0.15375925600528717,"lower":0.07444735616445541,"upper":0.26063039898872375},{"hour":17,"risk":0.15160687267780304,"lower":0.07739812135696411,"upper":0.2503088116645813},{"hour":18,"risk":0.15199217200279236,"lower":0.07569801062345505,"upper":0.2571845054626465},{"hour":19,"risk":0.14990758895874023,"lower":0.07756998389959335,"upper":0.2490939497947693},{"hour":20,"risk":0.15039938688278198,"lower":0.07532999664545059,"upper":0.25407761335372925},{"hour":21,"risk":0.15616220235824585,"lower":0.07812855392694473,"upper":0.26361531019210815},{"hour":22,"risk":0.1496226191520691,"lower":0.07295237481594086,"upper":0.2591339647769928},{"hour":23,"risk":0.151457279920578,"lower":0.07550190389156342,"upper":0.252183735370636}],"latents":{"stress":0.00567617267370224,"sleep_debt":0.013534247875213623,"hormonal":0.004872169345617294,"environmental":-0.007896967232227325},"has_migraine":true},{"day":8,"date":"2025-10-24T00:00:00","daily_risk":{"mean":0.14923161268234253,"lower":0.07529798150062561,"upper":0.2494780719280243},"hourly_risks":[{"hour":0,"risk":0.15241064131259918,"lower":0.07647336274385452,"upper":0.25578388571739197},{"hour":1,"risk":0.15191137790679932,"lower":0.074066162109375,"upper":0.2619436979293823},{"hour":2,"risk":0.1493757963180542,"lower":0.0782506912946701,"upper":0.241795152425766},{"hour":3,"risk":0.15208163857460022,"lower":0.07561865448951721,"upper":0.2576322555541992},{"hour":4,"risk":0.1509917974472046,"lower":0.07529692351818085,"upper":0.25905343890190125},{"hour":5,"risk":0.15033431351184845,"lower":0.07198929041624069,"upper":0.2558032274246216},{"hour":6,"risk":0.15020868182182312,"lower":0.07378571480512619,"upper":0.253084272146225},{"hour":7,"risk":0.14751392602920532,"lower":0.0781066045165062,"upper":0.2462773472070694},{"hour":8,"risk":0.15078260004520416,"lower":0.07504323124885559,"upper":0.26160135865211487},{"hour":9,"risk":0.15060046315193176,"lower":0.07524339109659195,"upper":0.25423628091812134},{"hour":10,"risk":0.1508779674768448,"lower":0.07633133977651596,"upper":0.25084206461906433},{"hour":11,"risk":0.15021401643753052,"lower":0.07419190555810928,"upper":0.24699385464191437},{"hour":12,"risk":0.15000320971012115,"lower":0.07596458494663239,"upper":0.25771400332450867},{"hour":13,"risk":0.15095050632953644,"lower":0.07400647550821304,"upper":0.2575986981391907},{"hour":14,"risk":0.147384911775589,"lower":0.07525838911533356,"upper":0.24703599512577057},{"hour":15,"risk":0.14836274087429047,"lower":0.07509727776050568,"upper":0.24782317876815796},{"hour":16,"risk":0.1517770141363144,"lower":0.07388373464345932,"upper":0.2595020532608032},{"hour":17,"risk":0.15165673196315765,"lower":0.07280859351158142,"upper":0.25311699509620667},{"hour":18,"risk":0.15102526545524597,"lower":0.0744454562664032,"upper":0.2607581317424774},{"hour":19,"risk":0.15007147192955017,"lower":0.07950358837842941,"upper":0.262382447719574},{"hour":20,"risk":0.14841529726982117,"lower":0.07319873571395874,"upper":0.24784201383590698},{"hour":21,"risk":0.15183478593826294,"lower":0.07619316130876541,"upper":0.25995108485221863},{"hour":22,"risk":0.15332500636577606,"lower":0.07918006181716919,"upper":0.25839588046073914},{"hour":23,"risk":0.14923161268234253,"lower":0.07529798150062561,"upper":0.2494780719280243}],"latents":{"stress":0.00571606308221817,"sleep_debt":0.013298749923706055,"hormonal":0.004827287048101425,"environmental":-0.009292267262935638},"has_migraine":false},{"day":9,"date":"2025-10-25T00:00:00","daily_risk":{"mean":0.15185458958148956,"lower":0.07725644111633301,"upper":0.25087350606918335},"hourly_risks":[{"hour":0,"risk":0.15131059288978577,"lower":0.07491464912891388,"upper":0.2493518590927124},{"hour":1,"risk":0.1524520367383957,"lower":0.07670328766107559,"upper":0.25003325939178467},{"hour":2,"risk":0.1535126268863678,"lower":0.07666804641485214,"upper":0.2586615979671478},{"hour":3,"risk":0.15394318103790283,"lower":0.077347032725811,"upper":0.2592158019542694},{"hour":4,"risk":0.14776872098445892,"lower":0.07385202497243881,"upper":0.24782466888427734},{"hour":5,"risk":0.14881470799446106,"lower":0.07254032790660858,"upper":0.2546270191669464},{"hour":6,"risk":0.14978532493114471,"lower":0.07650091499090195,"upper":0.25647544860839844},{"hour":7,"risk":0.15019705891609192,"lower":0.07448265701532364,"upper":0.24597720801830292},{"hour":8,"risk":0.14885443449020386,"lower":0.0709332525730133,"upper":0.2507361173629761},{"hour":9,"risk":0.150887593626976,"lower":0.07684015482664108,"upper":0.2533337473869324},{"hour":10,"risk":0.151015967130661,"lower":0.07442876696586609,"upper":0.25278589129447937},{"hour":11,"risk":0.14867664873600006,"lower":0.07211511582136154,"upper":0.25228849053382874},{"hour":12,"risk":0.15016192197799683,"lower":0.07442419975996017,"upper":0.25457942485809326},{"hour":13,"risk":0.15282370150089264,"lower":0.07705610990524292,"upper":0.24904486536979675},{"hour":14,"risk":0.15052038431167603,"lower":0.07386109977960587,"upper":0.2478308528661728},{"hour":15,"risk":0.14747917652130127,"lower":0.07599823921918869,"upper":0.24398989975452423},{"hour":16,"risk":0.1524646282196045,"lower":0.07518123835325241,"upper":0.25704798102378845},{"hour":17,"risk":0.1478206068277359,"lower":0.07572194933891296,"upper":0.2505128085613251},{"hour":18,"risk":0.15051203966140747,"lower":0.0743068978190422,"upper":0.2565996050834656},{"hour":19,"risk":0.15135611593723297,"lower":0.07756642252206802,"upper":0.25210314989089966},{"hour":20,"risk":0.15008708834648132,"lower":0.07457360625267029,"upper":0.2548621594905853},{"hour":21,"risk":0.15084286034107208,"lower":0.07103902101516724,"upper":0.2611862123012543},{"hour":22,"risk":0.14886890351772308,"lower":0.07017620652914047,"upper":0.254726380109787},{"hour":23,"risk":0.15185458958148956,"lower":0.07725644111633301,"upper":0.25087350606918335}],"latents":{"stress":0.0057564303278923035,"sleep_debt":0.013365417718887329,"hormonal":0.004826735705137253,"environmental":-0.009304933249950409},"has_migraine":false},{"day":10,"date":"2025-10-26T00:00:00","daily_risk":{"mean":0.14737817645072937,"lower":0.07323045283555984,"upper":0.24717117846012115},"hourly_risks":[{"hour":0,"risk":0.14946416020393372,"lower":0.07765801250934601,"upper":0.24868740141391754},{"hour":1,"risk":0.15271863341331482,"lower":0.07534592598676682,"upper":0.252894788980484},{"hour":2,"risk":0.15048769116401672,"lower":0.07566162943840027,"upper":0.25310811400413513},{"hour":3,"risk":0.1492927223443985,"lower":0.07395689189434052,"upper":0.25404685735702515},{"hour":4,"risk":0.15162332355976105,"lower":0.07719842344522476,"upper":0.2580867409706116},{"hour":5,"risk":0.15137405693531036,"lower":0.07401203364133835,"upper":0.24361322820186615},{"hour":6,"risk":0.1517627239227295,"lower":0.07519066333770752,"upper":0.25612249970436096},{"hour":7,"risk":0.15126115083694458,"lower":0.076113261282444,"upper":0.25053533911705017},{"hour":8,"risk":0.15271763503551483,"lower":0.07472097128629684,"upper":0.2589201033115387},{"hour":9,"risk":0.14888980984687805,"lower":0.07496105134487152,"upper":0.24189360439777374},{"hour":10,"risk":0.15021629631519318,"lower":0.07566016912460327,"upper":0.2512628436088562},{"hour":11,"risk":0.1512751430273056,"lower":0.07750259339809418,"upper":0.253658264875412},{"hour":12,"risk":0.15043652057647705,"lower":0.0754581019282341,"upper":0.2527296543121338},{"hour":13,"risk":0.1479421854019165,"lower":0.07409877330064774,"upper":0.24367162585258484},{"hour":14,"risk":0.15313446521759033,"lower":0.07834310829639435,"upper":0.2575273811817169},{"hour":15,"risk":0.14925050735473633,"lower":0.07292143255472183,"upper":0.25083014369010925},{"hour":16,"risk":0.1481962352991104,"lower":0.07723418623209,"upper":0.2489820271730423},{"hour":17,"risk":0.1523241102695465,"lower":0.07482677698135376,"upper":0.2602560818195343},{"hour":18,"risk":0.15048225224018097,"lower":0.07707861810922623,"upper":0.25638458132743835},{"hour":19,"risk":0.1484043449163437,"lower":0.07538481056690216,"upper":0.24477817118167877},{"hour":20,"risk":0.15202708542346954,"lower":0.07801485806703568,"upper":0.251585990190506},{"hour":21,"risk":0.15097899734973907,"lower":0.07285866886377335,"upper":0.2500397861003876},{"hour":22,"risk":0.15316714346408844,"lower":0.07580298185348511,"upper":0.2621910572052002},{"hour":23,"risk":0.14737817645072937,"lower":0.07323045283555984,"upper":0.24717117846012115}],"latents":{"stress":0.005786441266536713,"sleep_debt":0.013321161270141602,"hormonal":0.004848536103963852,"environmental":-0.009369991719722748},"has_migraine":false},{"day":11,"date":"2025-10-27T00:00:00","daily_risk":{"mean":0.1550813615322113,"lower":0.0807715505361557,"upper":0.2592245638370514},"hourly_risks":[{"hour":0,"risk":0.1503618061542511,"lower":0.07210841029882431,"upper":0.2544648051261902},{"hour":1,"risk":0.15437932312488556,"lower":0.0785539299249649,"upper":0.2633305788040161},{"hour":2,"risk":0.14924880862236023,"lower":0.07711012661457062,"upper":0.24588173627853394},{"hour":3,"risk":0.1489868462085724,"lower":0.07568170875310898,"upper":0.24790996313095093},{"hour":4,"risk":0.15114086866378784,"lower":0.07921874523162842,"upper":0.24547086656093597},{"hour":5,"risk":0.1533818393945694,"lower":0.07294860482215881,"upper":0.27296945452690125},{"hour":6,"risk":0.15249407291412354,"lower":0.07658956199884415,"upper":0.24942266941070557},{"hour":7,"risk":0.14917175471782684,"lower":0.0711539089679718,"upper":0.24959906935691833},{"hour":8,"risk":0.14947427809238434,"lower":0.07467595487833023,"upper":0.239688441157341},{"hour":9,"risk":0.1497008204460144,"lower":0.07375595718622208,"upper":0.25031331181526184},{"hour":10,"risk":0.1520625352859497,"lower":0.0772809237241745,"upper":0.25439733266830444},{"hour":11,"risk":0.15013384819030762,"lower":0.07321013510227203,"upper":0.24576237797737122},{"hour":12,"risk":0.15221722424030304,"lower":0.0760052278637886,"upper":0.26148197054862976},{"hour":13,"risk":0.14922654628753662,"lower":0.07212420552968979,"upper":0.25243517756462097},{"hour":14,"risk":0.1503252238035202,"lower":0.07518430799245834,"upper":0.2553223967552185},{"hour":15,"risk":0.14996367692947388,"lower":0.07654853165149689,"upper":0.25253555178642273},{"hour":16,"risk":0.14796742796897888,"lower":0.07558072358369827,"upper":0.2449187934398651},{"hour":17,"risk":0.15284255146980286,"lower":0.076075978577137,"upper":0.24950306117534637},{"hour":18,"risk":0.1531003713607788,"lower":0.07688798010349274,"upper":0.2620357573032379},{"hour":19,"risk":0.14924106001853943,"lower":0.07668071985244751,"upper":0.2516014575958252},{"hour":20,"risk":0.14949563145637512,"lower":0.07629024237394333,"upper":0.24605336785316467},{"hour":21,"risk":0.1501806676387787,"lower":0.073719322681427,"upper":0.25271156430244446},{"hour":22,"risk":0.15150043368339539,"lower":0.07584258913993835,"upper":0.25235438346862793},{"hour":23,"risk":0.1550813615322113,"lower":0.0807715505361557,"upper":0.2592245638370514}],"latents":{"stress":0.005782261490821838,"sleep_debt":0.013261541724205017,"hormonal":0.0048825182020664215,"environmental":-0.00943254679441452},"has_migraine":false},{"day":12,"date":"2025-10-28T00:00:00","daily_risk":{"mean":0.14930063486099243,"lower":0.07791998237371445,"upper":0.24465002119541168},"hourly_risks":[{"hour":0,"risk":0.1514679491519928,"lower":0.07792007923126221,"upper":0.25120431184768677},{"hour":1,"risk":0.15025125443935394,"lower":0.07711749523878098,"upper":0.2511270344257355},{"hour":2,"risk":0.15159231424331665,"lower":0.07557730376720428,"upper":0.25601014494895935},{"hour":3,"risk":0.15129901468753815,"lower":0.07636325806379318,"upper":0.25581902265548706},{"hour":4,"risk":0.15081864595413208,"lower":0.07961947470903397,"upper":0.2548123002052307},{"hour":5,"risk":0.15025638043880463,"lower":0.07467396557331085,"upper":0.25938722491264343},{"hour":6,"risk":0.15229788422584534,"lower":0.0753553956747055,"upper":0.2572147250175476},{"hour":7,"risk":0.15185843408107758,"lower":0.07322362810373306,"upper":0.2660227417945862},{"hour":8,"risk":0.15072613954544067,"lower":0.07650113105773926,"upper":0.24683399498462677},{"hour":9,"risk":0.1495647430419922,"lower":0.07908130437135696,"upper":0.24505949020385742},{"hour":10,"risk":0.1497998982667923,"lower":0.07522986084222794,"upper":0.24866127967834473},{"hour":11,"risk":0.15264980494976044,"lower":0.07077617943286896,"upper":0.2704130709171295},{"hour":12,"risk":0.1509397327899933,"lower":0.07375247776508331,"upper":0.2630154490470886},{"hour":13,"risk":0.15095312893390656,"lower":0.07357471436262131,"upper":0.24975524842739105},{"hour":14,"risk":0.1518048793077469,"lower":0.07373057305812836,"upper":0.2507183253765106},{"hour":15,"risk":0.1528988629579544,"lower":0.07411959767341614,"upper":0.2555696964263916},{"hour":16,"risk":0.14979581534862518,"lower":0.07734674960374832,"upper":0.25420835614204407},{"hour":17,"risk":0.15000998973846436,"lower":0.07419576495885849,"upper":0.25148728489875793},{"hour":18,"risk":0.1521759331226349,"lower":0.07565072178840637,"upper":0.25734636187553406},{"hour":19,"risk":0.15173107385635376,"lower":0.07482054829597473,"upper":0.25711947679519653},{"hour":20,"risk":0.14888563752174377,"lower":0.0738004818558693,"upper":0.25150153040885925},{"hour":21,"risk":0.14884890615940094,"lower":0.0749727413058281,"upper":0.2476842999458313},{"hour":22,"risk":0.14952951669692993,"lower":0.0779055505990982,"upper":0.2542557418346405},{"hour":23,"risk":0.14930063486099243,"lower":0.07791998237371445,"upper":0.24465002119541168}],"latents":{"stress":0.005742423236370087,"sleep_debt":0.013429656624794006,"hormonal":0.004944179207086563,"environmental":-0.008026443421840668},"has_migraine":true},{"day":13,"date":"2025-10-29T00:00:00","daily_risk":{"mean":0.1514163464307785,"lower":0.07761243730783463,"upper":0.25642964243888855},"hourly_risks":[{"hour":0,"risk":0.149640753865242,"lower":0.07267125695943832,"upper":0.2503482699394226},{"hour":1,"risk":0.15174472332000732,"lower":0.07885859906673431,"upper":0.2517867684364319},{"hour":2,"risk":0.15283203125,"lower":0.07789917290210724,"upper":0.2462330311536789},{"hour":3,"risk":0.14840684831142426,"lower":0.0770157054066658,"upper":0.24428953230381012},{"hour":4,"risk":0.15233273804187775,"lower":0.07443781942129135,"upper":0.25965583324432373},{"hour":5,"risk":0.14901578426361084,"lower":0.07683341205120087,"upper":0.25865843892097473},{"hour":6,"risk":0.15270105004310608,"lower":0.07552675902843475,"upper":0.25278240442276},{"hour":7,"risk":0.15004174411296844,"lower":0.07364638149738312,"upper":0.2575991451740265},{"hour":8,"risk":0.1538638025522232,"lower":0.08060573041439056,"upper":0.25291013717651367},{"hour":9,"risk":0.14972637593746185,"lower":0.07691868394613266,"upper":0.24806657433509827},{"hour":10,"risk":0.15188485383987427,"lower":0.07838530093431473,"upper":0.2581532895565033},{"hour":11,"risk":0.1527765840291977,"lower":0.07628161460161209,"upper":0.24980974197387695},{"hour":12,"risk":0.15005618333816528,"lower":0.07709277421236038,"upper":0.24803033471107483},{"hour":13,"risk":0.1528143584728241,"lower":0.07554619759321213,"upper":0.2583315968513489},{"hour":14,"risk":0.1516219824552536,"lower":0.0739591047167778,"upper":0.26589226722717285},{"hour":15,"risk":0.15110449492931366,"lower":0.07536131888628006,"upper":0.2515796720981598},{"hour":16,"risk":0.15308314561843872,"lower":0.07752710580825806,"upper":0.2560657858848572},{"hour":17,"risk":0.14937753975391388,"lower":0.07234244048595428,"upper":0.25055992603302},{"hour":18,"risk":0.14655940234661102,"lower":0.073883555829525,"upper":0.24799354374408722},{"hour":19,"risk":0.15101318061351776,"lower":0.07345158606767654,"upper":0.2554425895214081},{"hour":20,"risk":0.15146249532699585,"lower":0.07792379707098007,"upper":0.25134944915771484},{"hour":21,"risk":0.14922697842121124,"lower":0.07676255702972412,"upper":0.25314271450042725},{"hour":22,"risk":0.14912919700145721,"lower":0.07427126914262772,"upper":0.2455333173274994},{"hour":23,"risk":0.1514163464307785,"lower":0.07761243730783463,"upper":0.25642964243888855}],"latents":{"stress":0.005878068506717682,"sleep_debt":0.013300105929374695,"hormonal":0.00487639382481575,"environmental":-0.009437911212444305},"has_migraine":false},{"day":14,"date":"2025-10-30T00:00:00","daily_risk":{"mean":0.14925236999988556,"lower":0.07601001113653183,"upper":0.2452554851770401},"hourly_risks":[{"hour":0,"risk":0.14981888234615326,"lower":0.07394533604383469,"upper":0.24620239436626434},{"hour":1,"risk":0.152582049369812,"lower":0.07468859851360321,"upper":0.24835503101348877},{"hour":2,"risk":0.15006649494171143,"lower":0.0763574168086052,"upper":0.25357264280319214},{"hour":3,"risk":0.15170691907405853,"lower":0.07539169490337372,"upper":0.25378918647766113},{"hour":4,"risk":0.15198180079460144,"lower":0.07859588414430618,"upper":0.2487276941537857},{"hour":5,"risk":0.1498980075120926,"lower":0.07549548149108887,"upper":0.2511051893234253},{"hour":6,"risk":0.1519821435213089,"lower":0.07703986763954163,"upper":0.25610631704330444},{"hour":7,"risk":0.15267370641231537,"lower":0.07962556928396225,"upper":0.26128458976745605},{"hour":8,"risk":0.1519782692193985,"lower":0.07418186962604523,"upper":0.25272154808044434},{"hour":9,"risk":0.15221329033374786,"lower":0.07698040455579758,"upper":0.2622956931591034},{"hour":10,"risk":0.1522485315799713,"lower":0.07768626511096954,"upper":0.26023629307746887},{"hour":11,"risk":0.1522401124238968,"lower":0.0772833526134491,"upper":0.2609943449497223},{"hour":12,"risk":0.15109965205192566,"lower":0.07272686064243317,"upper":0.2592889964580536},{"hour":13,"risk":0.1492077112197876,"lower":0.07391516864299774,"upper":0.2505671977996826},{"hour":14,"risk":0.15138986706733704,"lower":0.07757934182882309,"upper":0.253702849149704},{"hour":15,"risk":0.14935439825057983,"lower":0.0732208713889122,"upper":0.25048398971557617},{"hour":16,"risk":0.14935700595378876,"lower":0.07607047259807587,"upper":0.25004133582115173},{"hour":17,"risk":0.15216775238513947,"lower":0.07627805322408676,"upper":0.2500930428504944},{"hour":18,"risk":0.14890781044960022,"lower":0.07560448348522186,"upper":0.24944040179252625},{"hour":19,"risk":0.15134194493293762,"lower":0.07546176016330719,"upper":0.25573912262916565},{"hour":20,"risk":0.15049737691879272,"lower":0.07670654356479645,"upper":0.24989014863967896},{"hour":21,"risk":0.15570715069770813,"lower":0.07886005192995071,"upper":0.2586507499217987},{"hour":22,"risk":0.1510428637266159,"lower":0.07807567715644836,"upper":0.252757728099823},{"hour":23,"risk":0.14925236999988556,"lower":0.07601001113653183,"upper":0.2452554851770401}],"latents":{"stress":0.005879692733287811,"sleep_debt":0.013260692358016968,"hormonal":0.004901614040136337,"environmental":-0.00948428362607956},"has_migraine":false},{"day":15,"date":"2025-10-31T00:00:00","daily_risk":{"mean":0.15239186584949493,"lower":0.07601980119943619,"upper":0.2588680684566498},"hourly_risks":[{"hour":0,"risk":0.14610758423805237,"lower":0.07388763874769211,"upper":0.24201099574565887},{"hour":1,"risk":0.1484059989452362,"lower":0.07338471710681915,"upper":0.24976417422294617},{"hour":2,"risk":0.1534041166305542,"lower":0.07561219483613968,"upper":0.25574517250061035},{"hour":3,"risk":0.15032897889614105,"lower":0.07333926111459732,"upper":0.2528438866138458},{"hour":4,"risk":0.1533631980419159,"lower":0.07752606272697449,"upper":0.254038006067276},{"hour":5,"risk":0.15527892112731934,"lower":0.07644861191511154,"upper":0.2680343985557556},{"hour":6,"risk":0.14807242155075073,"lower":0.07197578996419907,"upper":0.24985389411449432},{"hour":7,"risk":0.15321047604084015,"lower":0.07734709978103638,"upper":0.2590803802013397},{"hour":8,"risk":0.15249328315258026,"lower":0.07739276438951492,"upper":0.254988431930542},{"hour":9,"risk":0.15027068555355072,"lower":0.0763683021068573,"upper":0.2546599507331848},{"hour":10,"risk":0.15079006552696228,"lower":0.07508736103773117,"upper":0.25036391615867615},{"hour":11,"risk":0.15049588680267334,"lower":0.07705336809158325,"upper":0.2576780319213867},{"hour":12,"risk":0.1512748748064041,"lower":0.07923215627670288,"upper":0.24834349751472473},{"hour":13,"risk":0.15265733003616333,"lower":0.07352320849895477,"upper":0.2574924826622009},{"hour":14,"risk":0.15267491340637207,"lower":0.07685673981904984,"upper":0.2577887773513794},{"hour":15,"risk":0.14950869977474213,"lower":0.07370411604642868,"upper":0.24905526638031006},{"hour":16,"risk":0.14978128671646118,"lower":0.07615450769662857,"upper":0.24640560150146484},{"hour":17,"risk":0.1516404002904892,"lower":0.0756087601184845,"upper":0.2581106126308441},{"hour":18,"risk":0.14914914965629578,"lower":0.07653552293777466,"upper":0.2511085867881775},{"hour":19,"risk":0.15141525864601135,"lower":0.07977514714002609,"upper":0.2581331133842468},{"hour":20,"risk":0.1546376347541809,"lower":0.07514257729053497,"upper":0.260993629693985},{"hour":21,"risk":0.15170489251613617,"lower":0.07338999956846237,"upper":0.2569313645362854},{"hour":22,"risk":0.14896894991397858,"lower":0.07265909016132355,"upper":0.25347235798835754},{"hour":23,"risk":0.15239186584949493,"lower":0.07601980119943619,"upper":0.2588680684566498}],"latents":{"stress":0.005816161632537842,"sleep_debt":0.013415738940238953,"hormonal":0.004968177527189255,"environmental":-0.00811033695936203},"has_migraine":true},{"day":16,"date":"2025-11-01T00:00:00","daily_risk":{"mean":0.1478346586227417,"lower":0.07461822777986526,"upper":0.251272976398468},"hourly_risks":[{"hour":0,"risk":0.1511690318584442,"lower":0.0746942013502121,"upper":0.25158584117889404},{"hour":1,"risk":0.14902520179748535,"lower":0.07336108386516571,"upper":0.24517105519771576},{"hour":2,"risk":0.15237799286842346,"lower":0.07639516144990921,"upper":0.264583557844162},{"hour":3,"risk":0.15179888904094696,"lower":0.074397511780262,"upper":0.25464677810668945},{"hour":4,"risk":0.15186458826065063,"lower":0.07577154785394669,"upper":0.26413989067077637},{"hour":5,"risk":0.15179528295993805,"lower":0.07656466960906982,"upper":0.2516483962535858},{"hour":6,"risk":0.15155629813671112,"lower":0.07665947079658508,"upper":0.2580358684062958},{"hour":7,"risk":0.1528884619474411,"lower":0.07338504493236542,"upper":0.26319262385368347},{"hour":8,"risk":0.15054257214069366,"lower":0.07690118998289108,"upper":0.2507467269897461},{"hour":9,"risk":0.1478404551744461,"lower":0.07549925893545151,"upper":0.2507885694503784},{"hour":10,"risk":0.15071752667427063,"lower":0.07612627744674683,"upper":0.24412967264652252},{"hour":11,"risk":0.14949005842208862,"lower":0.07644378393888474,"upper":0.24095003306865692},{"hour":12,"risk":0.15216760337352753,"lower":0.07869283109903336,"upper":0.250375360250473},{"hour":13,"risk":0.15234258770942688,"lower":0.0761888399720192,"upper":0.25329041481018066},{"hour":14,"risk":0.15071682631969452,"lower":0.0764303058385849,"upper":0.2541404366493225},{"hour":15,"risk":0.15419110655784607,"lower":0.0785643681883812,"upper":0.26030364632606506},{"hour":16,"risk":0.15394099056720734,"lower":0.0774116963148117,"upper":0.2713964581489563},{"hour":17,"risk":0.15195532143115997,"lower":0.07835397124290466,"upper":0.2515166401863098},{"hour":18,"risk":0.1539478451013565,"lower":0.07831280678510666,"upper":0.25472748279571533},{"hour":19,"risk":0.15171091258525848,"lower":0.07611919194459915,"upper":0.2540948987007141},{"hour":20,"risk":0.1534804105758667,"lower":0.07988278567790985,"upper":0.26004907488822937},{"hour":21,"risk":0.15199851989746094,"lower":0.07663868367671967,"upper":0.25102484226226807},{"hour":22,"risk":0.14953121542930603,"lower":0.07568512111902237,"upper":0.25345897674560547},{"hour":23,"risk":0.1478346586227417,"lower":0.07461822777986526,"upper":0.251272976398468}],"latents":{"stress":0.00591866672039032,"sleep_debt":0.013257771730422974,"hormonal":0.004912439733743668,"environmental":-0.009503446519374847},"has_migraine":false},{"day":17,"date":"2025-11-02T00:00:00","daily_risk":{"mean":0.14860551059246063,"lower":0.07922133058309555,"upper":0.24641358852386475},"hourly_risks":[{"hour":0,"risk":0.15421050786972046,"lower":0.07134391367435455,"upper":0.2615868151187897},{"hour":1,"risk":0.1510285586118698,"lower":0.07335279136896133,"upper":0.2500777244567871},{"hour":2,"risk":0.15316525101661682,"lower":0.07528430968523026,"upper":0.26159048080444336},{"hour":3,"risk":0.1517774909734726,"lower":0.07083653658628464,"upper":0.2538447976112366},{"hour":4,"risk":0.15036660432815552,"lower":0.0751722902059555,"upper":0.2494594156742096},{"hour":5,"risk":0.14950431883335114,"lower":0.0755133107304573,"upper":0.24454185366630554},{"hour":6,"risk":0.1518617868423462,"lower":0.07520201057195663,"upper":0.2561732232570648},{"hour":7,"risk":0.15063387155532837,"lower":0.07453083246946335,"upper":0.25490397214889526},{"hour":8,"risk":0.15107861161231995,"lower":0.0750044584274292,"upper":0.2522132098674774},{"hour":9,"risk":0.1499142050743103,"lower":0.0754651427268982,"upper":0.2514570653438568},{"hour":10,"risk":0.1510622799396515,"lower":0.07769905775785446,"upper":0.2576630413532257},{"hour":11,"risk":0.15051379799842834,"lower":0.07397909462451935,"upper":0.2545464336872101},{"hour":12,"risk":0.1480392962694168,"lower":0.07610408216714859,"upper":0.2509221136569977},{"hour":13,"risk":0.15041455626487732,"lower":0.07558602094650269,"upper":0.2522256374359131},{"hour":14,"risk":0.15100856125354767,"lower":0.0770135447382927,"upper":0.2589276134967804},{"hour":15,"risk":0.15031105279922485,"lower":0.07157186418771744,"upper":0.25426968932151794},{"hour":16,"risk":0.15180623531341553,"lower":0.07472769916057587,"upper":0.2540298402309418},{"hour":17,"risk":0.15039342641830444,"lower":0.0728006362915039,"upper":0.2509640157222748},{"hour":18,"risk":0.14887921512126923,"lower":0.07629001140594482,"upper":0.2520448565483093},{"hour":19,"risk":0.14839322865009308,"lower":0.0763130635023117,"upper":0.2522459626197815},{"hour":20,"risk":0.15040233731269836,"lower":0.07704196125268936,"upper":0.24959097802639008},{"hour":21,"risk":0.15176905691623688,"lower":0.07528568059206009,"upper":0.25297296047210693},{"hour":22,"risk":0.14745314419269562,"lower":0.0742824375629425,"upper":0.252411812543869},{"hour":23,"risk":0.14860551059246063,"lower":0.07922133058309555,"upper":0.24641358852386475}],"latents":{"stress":0.005925454199314117,"sleep_debt":0.013278931379318237,"hormonal":0.004922140389680862,"environmental":-0.009520299732685089},"has_migraine":false},{"day":18,"date":"2025-11-03T00:00:00","daily_risk":{"mean":0.15093831717967987,"lower":0.07740006595849991,"upper":0.2526242733001709},"hourly_risks":[{"hour":0,"risk":0.1495126634836197,"lower":0.07627496123313904,"upper":0.2500784397125244},{"hour":1,"risk":0.14859981834888458,"lower":0.07540637999773026,"upper":0.25395500659942627},{"hour":2,"risk":0.15068908035755157,"lower":0.07441706210374832,"upper":0.2520122528076172},{"hour":3,"risk":0.1516464501619339,"lower":0.07703067362308502,"upper":0.24232256412506104},{"hour":4,"risk":0.1533871740102768,"lower":0.07391876727342606,"upper":0.25740310549736023},{"hour":5,"risk":0.15035173296928406,"lower":0.07699529826641083,"upper":0.26454848051071167},{"hour":6,"risk":0.14987534284591675,"lower":0.07184208929538727,"upper":0.2512790560722351},{"hour":7,"risk":0.14876429736614227,"lower":0.07789818942546844,"upper":0.24685168266296387},{"hour":8,"risk":0.15072119235992432,"lower":0.0770425871014595,"upper":0.2513367831707001},{"hour":9,"risk":0.1488383412361145,"lower":0.07351259142160416,"upper":0.24064016342163086},{"hour":10,"risk":0.14941656589508057,"lower":0.07691273838281631,"upper":0.24402588605880737},{"hour":11,"risk":0.1478976309299469,"lower":0.07606847584247589,"upper":0.2543814182281494},{"hour":12,"risk":0.1503065824508667,"lower":0.07612509280443192,"upper":0.2564496099948883},{"hour":13,"risk":0.1540955752134323,"lower":0.07699830830097198,"upper":0.2584362030029297},{"hour":14,"risk":0.15013858675956726,"lower":0.0738445520401001,"upper":0.24691998958587646},{"hour":15,"risk":0.1512792408466339,"lower":0.07417603582143784,"upper":0.2556622624397278},{"hour":16,"risk":0.150129035115242,"lower":0.07390975207090378,"upper":0.25396889448165894},{"hour":17,"risk":0.15202511847019196,"lower":0.07264713197946548,"upper":0.25925567746162415},{"hour":18,"risk":0.15184107422828674,"lower":0.07643182575702667,"upper":0.2589660882949829},{"hour":19,"risk":0.15187323093414307,"lower":0.07621107250452042,"upper":0.26322242617607117},{"hour":20,"risk":0.15049315989017487,"lower":0.07638698816299438,"upper":0.24900223314762115},{"hour":21,"risk":0.15203160047531128,"lower":0.07892297208309174,"upper":0.25629159808158875},{"hour":22,"risk":0.150165855884552,"lower":0.07545003294944763,"upper":0.2532830238342285},{"hour":23,"risk":0.15093831717967987,"lower":0.07740006595849991,"upper":0.2526242733001709}],"latents":{"stress":0.005958355963230133,"sleep_debt":0.013266831636428833,"hormonal":0.004932086914777756,"environmental":-0.009565718472003937},"has_migraine":false},{"day":19,"date":"2025-11-04T00:00:00","daily_risk":{"mean":0.15052950382232666,"lower":0.07536516338586807,"upper":0.24578551948070526},"hourly_risks":[{"hour":0,"risk":0.150751531124115,"lower":0.07713668793439865,"upper":0.2597106695175171},{"hour":1,"risk":0.15137018263339996,"lower":0.07767133414745331,"upper":0.25391900539398193},{"hour":2,"risk":0.15105687081813812,"lower":0.07336235046386719,"upper":0.24579113721847534},{"hour":3,"risk":0.14797206223011017,"lower":0.07141974568367004,"upper":0.25499430298805237},{"hour":4,"risk":0.1531379520893097,"lower":0.07674968242645264,"upper":0.2523353695869446},{"hour":5,"risk":0.15253527462482452,"lower":0.07372775673866272,"upper":0.2549589276313782},{"hour":6,"risk":0.15012402832508087,"lower":0.07621680200099945,"upper":0.2478252351284027},{"hour":7,"risk":0.15133410692214966,"lower":0.07625320553779602,"upper":0.25898775458335876},{"hour":8,"risk":0.15078166127204895,"lower":0.07322809100151062,"upper":0.2538791298866272},{"hour":9,"risk":0.15210002660751343,"lower":0.07674659043550491,"upper":0.25234663486480713},{"hour":10,"risk":0.15075181424617767,"lower":0.07600556313991547,"upper":0.250102698802948},{"hour":11,"risk":0.1529598981142044,"lower":0.07547212392091751,"upper":0.2566627860069275},{"hour":12,"risk":0.1534038931131363,"lower":0.07616790384054184,"upper":0.2721903622150421},{"hour":13,"risk":0.14957940578460693,"lower":0.07608001679182053,"upper":0.24762269854545593},{"hour":14,"risk":0.15140922367572784,"lower":0.0777241438627243,"upper":0.26215991377830505},{"hour":15,"risk":0.15020596981048584,"lower":0.07879532873630524,"upper":0.24610407650470734},{"hour":16,"risk":0.15070639550685883,"lower":0.0748395323753357,"upper":0.25933897495269775},{"hour":17,"risk":0.1497613787651062,"lower":0.07622146606445312,"upper":0.24911412596702576},{"hour":18,"risk":0.15176072716712952,"lower":0.07700097560882568,"upper":0.2596382796764374},{"hour":19,"risk":0.15193644165992737,"lower":0.07508914172649384,"upper":0.2546800971031189},{"hour":20,"risk":0.15429431200027466,"lower":0.07956864684820175,"upper":0.2542188763618469},{"hour":21,"risk":0.1536465436220169,"lower":0.07762839645147324,"upper":0.2646552324295044},{"hour":22,"risk":0.15223999321460724,"lower":0.0741010382771492,"upper":0.2529849708080292},{"hour":23,"risk":0.15052950382232666,"lower":0.07536516338586807,"upper":0.24578551948070526}],"latents":{"stress":0.006002150475978851,"sleep_debt":0.013175234198570251,"hormonal":0.004973527044057846,"environmental":-0.009643740952014923},"has_migraine":false},{"day":20,"date":"2025-11-05T00:00:00","daily_risk":{"mean":0.15166255831718445,"lower":0.077769935131073,"upper":0.24876317381858826},"hourly_risks":[{"hour":0,"risk":0.1527094691991806,"lower":0.07486260682344437,"upper":0.2583484947681427},{"hour":1,"risk":0.15272623300552368,"lower":0.0746399536728859,"upper":0.268612802028656},{"hour":2,"risk":0.14871393144130707,"lower":0.07596716284751892,"upper":0.24590131640434265},{"hour":3,"risk":0.15053074061870575,"lower":0.07503237575292587,"upper":0.25977370142936707},{"hour":4,"risk":0.1508016139268875,"lower":0.07755588740110397,"upper":0.2569778263568878},{"hour":5,"risk":0.15116919577121735,"lower":0.07567539811134338,"upper":0.24635346233844757},{"hour":6,"risk":0.15428274869918823,"lower":0.07677379250526428,"upper":0.25702857971191406},{"hour":7,"risk":0.1509501338005066,"lower":0.07627987116575241,"upper":0.2601417005062103},{"hour":8,"risk":0.15062256157398224,"lower":0.07367468625307083,"upper":0.262952983379364},{"hour":9,"risk":0.15055541694164276,"lower":0.07814648747444153,"upper":0.24536550045013428},{"hour":10,"risk":0.1510496586561203,"lower":0.07624570280313492,"upper":0.25486236810684204},{"hour":11,"risk":0.1546632945537567,"lower":0.07386887818574905,"upper":0.26934748888015747},{"hour":12,"risk":0.1471860259771347,"lower":0.07199371606111526,"upper":0.24970802664756775},{"hour":13,"risk":0.1488817185163498,"lower":0.07615116238594055,"upper":0.24556317925453186},{"hour":14,"risk":0.14916403591632843,"lower":0.07588081061840057,"upper":0.25102540850639343},{"hour":15,"risk":0.15162500739097595,"lower":0.07613109052181244,"upper":0.2522343695163727},{"hour":16,"risk":0.1534782350063324,"lower":0.07669351994991302,"upper":0.26081082224845886},{"hour":17,"risk":0.1518843173980713,"lower":0.07714322209358215,"upper":0.2509932518005371},{"hour":18,"risk":0.15007354319095612,"lower":0.07406557351350784,"upper":0.25034523010253906},{"hour":19,"risk":0.1497640758752823,"lower":0.07606173306703568,"upper":0.2491803914308548},{"hour":20,"risk":0.15181073546409607,"lower":0.07537728548049927,"upper":0.26463961601257324},{"hour":21,"risk":0.1517600417137146,"lower":0.07724057137966156,"upper":0.2555404007434845},{"hour":22,"risk":0.15007825195789337,"lower":0.07550863176584244,"upper":0.2516379952430725},{"hour":23,"risk":0.15166255831718445,"lower":0.077769935131073,"upper":0.24876317381858826}],"latents":{"stress":0.006022058427333832,"sleep_debt":0.013179823756217957,"hormonal":0.004985075443983078,"environmental":-0.009669862687587738},"has_migraine":false},{"day":21,"date":"2025-11-06T00:00:00","daily_risk":{"mean":0.15140993893146515,"lower":0.07285154610872269,"upper":0.25205883383750916},"hourly_risks":[{"hour":0,"risk":0.15347109735012054,"lower":0.07593939453363419,"upper":0.26004189252853394},{"hour":1,"risk":0.15176860988140106,"lower":0.07354886829853058,"upper":0.25781160593032837},{"hour":2,"risk":0.15263941884040833,"lower":0.07497600466012955,"upper":0.2561713457107544},{"hour":3,"risk":0.15139751136302948,"lower":0.0757819414138794,"upper":0.2602383494377136},{"hour":4,"risk":0.1532345712184906,"lower":0.07467634975910187,"upper":0.2595515251159668},{"hour":5,"risk":0.15309181809425354,"lower":0.07898733764886856,"upper":0.26211607456207275},{"hour":6,"risk":0.15327607095241547,"lower":0.0763324424624443,"upper":0.25507375597953796},{"hour":7,"risk":0.14936263859272003,"lower":0.07612240314483643,"upper":0.24844935536384583},{"hour":8,"risk":0.14768756926059723,"lower":0.07750753313302994,"upper":0.2447749823331833},{"hour":9,"risk":0.15245740115642548,"lower":0.07708267867565155,"upper":0.2586059868335724},{"hour":10,"risk":0.15125837922096252,"lower":0.0764964297413826,"upper":0.24927286803722382},{"hour":11,"risk":0.1516823172569275,"lower":0.07493282109498978,"upper":0.2557018995285034},{"hour":12,"risk":0.14963141083717346,"lower":0.07264561951160431,"upper":0.2552054524421692},{"hour":13,"risk":0.1502201110124588,"lower":0.07452952861785889,"upper":0.2498030811548233},{"hour":14,"risk":0.14940756559371948,"lower":0.07539470493793488,"upper":0.24833181500434875},{"hour":15,"risk":0.1543031632900238,"lower":0.07764802128076553,"upper":0.2666678726673126},{"hour":16,"risk":0.15275780856609344,"lower":0.07786612212657928,"upper":0.26511430740356445},{"hour":17,"risk":0.15026138722896576,"lower":0.0714292898774147,"upper":0.24903474748134613},{"hour":18,"risk":0.15076066553592682,"lower":0.07563933730125427,"upper":0.2500409185886383},{"hour":19,"risk":0.148779034614563,"lower":0.07339776307344437,"upper":0.25278589129447937},{"hour":20,"risk":0.1527913212776184,"lower":0.07499437034130096,"upper":0.25710973143577576},{"hour":21,"risk":0.15037354826927185,"lower":0.07839063555002213,"upper":0.24410448968410492},{"hour":22,"risk":0.1514832079410553,"lower":0.07706382125616074,"upper":0.2517765164375305},{"hour":23,"risk":0.15140993893146515,"lower":0.07285154610872269,"upper":0.25205883383750916}],"latents":{"stress":0.0059688761830329895,"sleep_debt":0.013296812772750854,"hormonal":0.005056280642747879,"environmental":-0.00830533355474472},"has_migraine":true},{"day":22,"date":"2025-11-07T00:00:00","daily_risk":{"mean":0.14882861077785492,"lower":0.07595719397068024,"upper":0.25389334559440613},"hourly_risks":[{"hour":0,"risk":0.1525561809539795,"lower":0.07883398979902267,"upper":0.2500026822090149},{"hour":1,"risk":0.14854812622070312,"lower":0.07331506907939911,"upper":0.25367259979248047},{"hour":2,"risk":0.1531490832567215,"lower":0.07821590453386307,"upper":0.2596358060836792},{"hour":3,"risk":0.15002182126045227,"lower":0.07615596055984497,"upper":0.24801994860172272},{"hour":4,"risk":0.1502479463815689,"lower":0.07473459094762802,"upper":0.25813940167427063},{"hour":5,"risk":0.14719022810459137,"lower":0.07390022277832031,"upper":0.2524852752685547},{"hour":6,"risk":0.14943164587020874,"lower":0.07360215485095978,"upper":0.24686545133590698},{"hour":7,"risk":0.15028898417949677,"lower":0.07773693650960922,"upper":0.2460860311985016},{"hour":8,"risk":0.1483118236064911,"lower":0.07670722901821136,"upper":0.24467197060585022},{"hour":9,"risk":0.15060961246490479,"lower":0.07660052925348282,"upper":0.2535935640335083},{"hour":10,"risk":0.15202510356903076,"lower":0.07676461338996887,"upper":0.2530636787414551},{"hour":11,"risk":0.1474694311618805,"lower":0.07600031048059464,"upper":0.2472354918718338},{"hour":12,"risk":0.14992018043994904,"lower":0.07445821911096573,"upper":0.25327128171920776},{"hour":13,"risk":0.1486729234457016,"lower":0.07536139339208603,"upper":0.2485884428024292},{"hour":14,"risk":0.14939755201339722,"lower":0.07644704729318619,"upper":0.25996047258377075},{"hour":15,"risk":0.1527460515499115,"lower":0.07825768738985062,"upper":0.2619278132915497},{"hour":16,"risk":0.15076886117458344,"lower":0.07378514111042023,"upper":0.2571922838687897},{"hour":17,"risk":0.1497618407011032,"lower":0.076878622174263,"upper":0.25059226155281067},{"hour":18,"risk":0.15034358203411102,"lower":0.07878202944993973,"upper":0.253216028213501},{"hour":19,"risk":0.14940118789672852,"lower":0.07298018038272858,"upper":0.26006218791007996},{"hour":20,"risk":0.14900395274162292,"lower":0.07601261138916016,"upper":0.2501462399959564},{"hour":21,"risk":0.14971961081027985,"lower":0.07135487347841263,"upper":0.2559562921524048},{"hour":22,"risk":0.15112586319446564,"lower":0.07699334621429443,"upper":0.24639487266540527},{"hour":23,"risk":0.14882861077785492,"lower":0.07595719397068024,"upper":0.25389334559440613}],"latents":{"stress":0.006079144775867462,"sleep_debt":0.013087958097457886,"hormonal":0.005030747503042221,"environmental":-0.009752310812473297},"has_migraine":false},{"day":23,"date":"2025-11-08T00:00:00","daily_risk":{"mean":0.15090206265449524,"lower":0.07600267231464386,"upper":0.25653353333473206},"hourly_risks":[{"hour":0,"risk":0.1498432159423828,"lower":0.0750163272023201,"upper":0.25615575909614563},{"hour":1,"risk":0.15340165793895721,"lower":0.07522537559270859,"upper":0.26293885707855225},{"hour":2,"risk":0.1508355289697647,"lower":0.07695510238409042,"upper":0.2570439577102661},{"hour":3,"risk":0.14897847175598145,"lower":0.07648827135562897,"upper":0.2511208951473236},{"hour":4,"risk":0.15011194348335266,"lower":0.07467881590127945,"upper":0.247417151927948},{"hour":5,"risk":0.15140223503112793,"lower":0.07398094236850739,"upper":0.25690051913261414},{"hour":6,"risk":0.15080371499061584,"lower":0.07796633243560791,"upper":0.2591145634651184},{"hour":7,"risk":0.1520405262708664,"lower":0.07720407843589783,"upper":0.25766873359680176},{"hour":8,"risk":0.14896202087402344,"lower":0.07732531428337097,"upper":0.2493094801902771},{"hour":9,"risk":0.15221606194972992,"lower":0.07465478032827377,"upper":0.2600302994251251},{"hour":10,"risk":0.14780551195144653,"lower":0.07411786913871765,"upper":0.24458736181259155},{"hour":11,"risk":0.15540805459022522,"lower":0.07510466873645782,"upper":0.26266369223594666},{"hour":12,"risk":0.15028756856918335,"lower":0.07565642148256302,"upper":0.24475827813148499},{"hour":13,"risk":0.15226419270038605,"lower":0.07819750905036926,"upper":0.2573925256729126},{"hour":14,"risk":0.1504373401403427,"lower":0.07370784878730774,"upper":0.2502131760120392},{"hour":15,"risk":0.1520182192325592,"lower":0.07515745609998703,"upper":0.254643976688385},{"hour":16,"risk":0.14924240112304688,"lower":0.07652022689580917,"upper":0.25715523958206177},{"hour":17,"risk":0.15295200049877167,"lower":0.07852186262607574,"upper":0.26150089502334595},{"hour":18,"risk":0.14760470390319824,"lower":0.07482826709747314,"upper":0.23908956348896027},{"hour":19,"risk":0.1497885137796402,"lower":0.07620789855718613,"upper":0.25022855401039124},{"hour":20,"risk":0.14966876804828644,"lower":0.07322335243225098,"upper":0.2492980659008026},{"hour":21,"risk":0.15027004480361938,"lower":0.07133853435516357,"upper":0.2523747682571411},{"hour":22,"risk":0.15067581832408905,"lower":0.07713738083839417,"upper":0.25110623240470886},{"hour":23,"risk":0.15090206265449524,"lower":0.07600267231464386,"upper":0.25653353333473206}],"latents":{"stress":0.006084315478801727,"sleep_debt":0.013124018907546997,"hormonal":0.005026277154684067,"environmental":-0.009721048176288605},"has_migraine":false},{"day":24,"date":"2025-11-09T00:00:00","daily_risk":{"mean":0.1508096605539322,"lower":0.07643560320138931,"upper":0.2559085190296173},"hourly_risks":[{"hour":0,"risk":0.15003131330013275,"lower":0.07404432445764542,"upper":0.25328966975212097},{"hour":1,"risk":0.15002231299877167,"lower":0.07544206082820892,"upper":0.25231319665908813},{"hour":2,"risk":0.14976179599761963,"lower":0.07603176683187485,"upper":0.2540072798728943},{"hour":3,"risk":0.15333200991153717,"lower":0.07789307087659836,"upper":0.2597731053829193},{"hour":4,"risk":0.14973703026771545,"lower":0.07253755629062653,"upper":0.2513314485549927},{"hour":5,"risk":0.1504022181034088,"lower":0.07695471495389938,"upper":0.25546324253082275},{"hour":6,"risk":0.1530163288116455,"lower":0.07411641627550125,"upper":0.26038965582847595},{"hour":7,"risk":0.1550748497247696,"lower":0.07759826630353928,"upper":0.26064473390579224},{"hour":8,"risk":0.1477012038230896,"lower":0.07379502803087234,"upper":0.2506432831287384},{"hour":9,"risk":0.1510351002216339,"lower":0.07431479543447495,"upper":0.2541965842247009},{"hour":10,"risk":0.1499709188938141,"lower":0.07927808910608292,"upper":0.24872982501983643},{"hour":11,"risk":0.15186411142349243,"lower":0.07581920921802521,"upper":0.25348129868507385},{"hour":12,"risk":0.1501319259405136,"lower":0.07310333102941513,"upper":0.2575647234916687},{"hour":13,"risk":0.1500680297613144,"lower":0.07190365344285965,"upper":0.25248855352401733},{"hour":14,"risk":0.15055322647094727,"lower":0.07569099217653275,"upper":0.2559452950954437},{"hour":15,"risk":0.15196627378463745,"lower":0.07539252936840057,"upper":0.25996339321136475},{"hour":16,"risk":0.15279415249824524,"lower":0.07792365550994873,"upper":0.26633602380752563},{"hour":17,"risk":0.15136472880840302,"lower":0.07883314043283463,"upper":0.24691589176654816},{"hour":18,"risk":0.15286420285701752,"lower":0.07763611525297165,"upper":0.25301510095596313},{"hour":19,"risk":0.15090475976467133,"lower":0.07584819197654724,"upper":0.2582317292690277},{"hour":20,"risk":0.14916568994522095,"lower":0.07724834233522415,"upper":0.2500988841056824},{"hour":21,"risk":0.1499413102865219,"lower":0.07571616768836975,"upper":0.25838175415992737},{"hour":22,"risk":0.15319596230983734,"lower":0.07896780967712402,"upper":0.25268471240997314},{"hour":23,"risk":0.1508096605539322,"lower":0.07643560320138931,"upper":0.2559085190296173}],"latents":{"stress":0.0061036571860313416,"sleep_debt":0.01308603584766388,"hormonal":0.0050517357885837555,"environmental":-0.009776405990123749},"has_migraine":false},{"day":25,"date":"2025-11-10T00:00:00","daily_risk":{"mean":0.15029609203338623,"lower":0.07497190684080124,"upper":0.2604480981826782},"hourly_risks":[{"hour":0,"risk":0.149666428565979,"lower":0.07304941117763519,"upper":0.2480616420507431},{"hour":1,"risk":0.15084539353847504,"lower":0.07440556585788727,"upper":0.25794199109077454},{"hour":2,"risk":0.1514972299337387,"lower":0.0749545693397522,"upper":0.2520997226238251},{"hour":3,"risk":0.14568720757961273,"lower":0.07359176129102707,"upper":0.24344183504581451},{"hour":4,"risk":0.14825983345508575,"lower":0.08100970834493637,"upper":0.24268288910388947},{"hour":5,"risk":0.1497952789068222,"lower":0.07537135481834412,"upper":0.24782253801822662},{"hour":6,"risk":0.15109112858772278,"lower":0.0764601081609726,"upper":0.25144270062446594},{"hour":7,"risk":0.15172502398490906,"lower":0.07516118139028549,"upper":0.2555241882801056},{"hour":8,"risk":0.15170279145240784,"lower":0.07253812253475189,"upper":0.2657943665981293},{"hour":9,"risk":0.1521787792444229,"lower":0.07634792476892471,"upper":0.26357725262641907},{"hour":10,"risk":0.14972271025180817,"lower":0.0743301510810852,"upper":0.259915292263031},{"hour":11,"risk":0.15077364444732666,"lower":0.07335745543241501,"upper":0.25561097264289856},{"hour":12,"risk":0.15020927786827087,"lower":0.07753326743841171,"upper":0.2491353154182434},{"hour":13,"risk":0.154925137758255,"lower":0.07852406054735184,"upper":0.2604878544807434},{"hour":14,"risk":0.15008626878261566,"lower":0.07719741761684418,"upper":0.24950681626796722},{"hour":15,"risk":0.1519738733768463,"lower":0.07665949314832687,"upper":0.24887125194072723},{"hour":16,"risk":0.1505841761827469,"lower":0.07569105178117752,"upper":0.24857470393180847},{"hour":17,"risk":0.15115521848201752,"lower":0.07456504553556442,"upper":0.2559839189052582},{"hour":18,"risk":0.14640338718891144,"lower":0.07544715702533722,"upper":0.24822600185871124},{"hour":19,"risk":0.15609857439994812,"lower":0.07874592393636703,"upper":0.27575385570526123},{"hour":20,"risk":0.15224173665046692,"lower":0.07755260169506073,"upper":0.24932467937469482},{"hour":21,"risk":0.15065036714076996,"lower":0.0783325731754303,"upper":0.25385573506355286},{"hour":22,"risk":0.15217995643615723,"lower":0.07550564408302307,"upper":0.25153371691703796},{"hour":23,"risk":0.15029609203338623,"lower":0.07497190684080124,"upper":0.2604480981826782}],"latents":{"stress":0.006139248609542847,"sleep_debt":0.013032287359237671,"hormonal":0.005091462284326553,"environmental":-0.009853772819042206},"has_migraine":false},{"day":26,"date":"2025-11-11T00:00:00","daily_risk":{"mean":0.1516803652048111,"lower":0.07581188529729843,"upper":0.2594090402126312},"hourly_risks":[{"hour":0,"risk":0.14776267111301422,"lower":0.07218325883150101,"upper":0.24442507326602936},{"hour":1,"risk":0.1523311883211136,"lower":0.07390234619379044,"upper":0.25523245334625244},{"hour":2,"risk":0.1517351120710373,"lower":0.07963736355304718,"upper":0.2477531135082245},{"hour":3,"risk":0.1486559510231018,"lower":0.07390835136175156,"upper":0.24708659946918488},{"hour":4,"risk":0.1535559743642807,"lower":0.07520223408937454,"upper":0.26734471321105957},{"hour":5,"risk":0.15033157169818878,"lower":0.07259930670261383,"upper":0.25002026557922363},{"hour":6,"risk":0.15555182099342346,"lower":0.07616811245679855,"upper":0.2692788243293762},{"hour":7,"risk":0.1492595225572586,"lower":0.07634495943784714,"upper":0.2474711835384369},{"hour":8,"risk":0.14928412437438965,"lower":0.0759904533624649,"upper":0.24546800553798676},{"hour":9,"risk":0.1479668915271759,"lower":0.07625088095664978,"upper":0.2521401345729828},{"hour":10,"risk":0.1489064246416092,"lower":0.0760020762681961,"upper":0.24540403485298157},{"hour":11,"risk":0.15496058762073517,"lower":0.07787759602069855,"upper":0.2544354796409607},{"hour":12,"risk":0.15120647847652435,"lower":0.07723993062973022,"upper":0.25565600395202637},{"hour":13,"risk":0.14956985414028168,"lower":0.07490851730108261,"upper":0.24807524681091309},{"hour":14,"risk":0.15316568315029144,"lower":0.07541562616825104,"upper":0.25272369384765625},{"hour":15,"risk":0.15077972412109375,"lower":0.07290339469909668,"upper":0.2540301978588104},{"hour":16,"risk":0.15152111649513245,"lower":0.07464022934436798,"upper":0.25278404355049133},{"hour":17,"risk":0.15101352334022522,"lower":0.07913640141487122,"upper":0.24579066038131714},{"hour":18,"risk":0.15098163485527039,"lower":0.0780012458562851,"upper":0.25620007514953613},{"hour":19,"risk":0.15066613256931305,"lower":0.07764014601707458,"upper":0.2500200867652893},{"hour":20,"risk":0.15152862668037415,"lower":0.07623904198408127,"upper":0.25374606251716614},{"hour":21,"risk":0.150392547249794,"lower":0.0729847252368927,"upper":0.2525877356529236},{"hour":22,"risk":0.14979183673858643,"lower":0.07633551210165024,"upper":0.2509128153324127},{"hour":23,"risk":0.1516803652048111,"lower":0.07581188529729843,"upper":0.2594090402126312}],"latents":{"stress":0.006165958940982819,"sleep_debt":0.013036251068115234,"hormonal":0.005088638514280319,"environmental":-0.009843729436397552},"has_migraine":false},{"day":27,"date":"2025-11-12T00:00:00","daily_risk":{"mean":0.15166328847408295,"lower":0.07731980085372925,"upper":0.25424858927726746},"hourly_risks":[{"hour":0,"risk":0.15052731335163116,"lower":0.07779111713171005,"upper":0.2540666460990906},{"hour":1,"risk":0.15033721923828125,"lower":0.07333526760339737,"upper":0.2528514266014099},{"hour":2,"risk":0.15176962316036224,"lower":0.07453113794326782,"upper":0.24892526865005493},{"hour":3,"risk":0.1494288146495819,"lower":0.07614978402853012,"upper":0.24749228358268738},{"hour":4,"risk":0.15224258601665497,"lower":0.08016104251146317,"upper":0.2522052228450775},{"hour":5,"risk":0.15145379304885864,"lower":0.07351028174161911,"upper":0.25527918338775635},{"hour":6,"risk":0.1511094570159912,"lower":0.07469254732131958,"upper":0.2545584738254547},{"hour":7,"risk":0.15088188648223877,"lower":0.07592584937810898,"upper":0.2560828626155853},{"hour":8,"risk":0.15133364498615265,"lower":0.07693110406398773,"upper":0.2529989778995514},{"hour":9,"risk":0.15120923519134521,"lower":0.07509484142065048,"upper":0.2567266821861267},{"hour":10,"risk":0.15171581506729126,"lower":0.07786437124013901,"upper":0.2588544487953186},{"hour":11,"risk":0.15040679275989532,"lower":0.07521525770425797,"upper":0.2525857388973236},{"hour":12,"risk":0.1529930830001831,"lower":0.07862507551908493,"upper":0.25171583890914917},{"hour":13,"risk":0.15048053860664368,"lower":0.07626017183065414,"upper":0.24503609538078308},{"hour":14,"risk":0.15147851407527924,"lower":0.07501236349344254,"upper":0.2599177658557892},{"hour":15,"risk":0.1500110775232315,"lower":0.07461854070425034,"upper":0.2507683336734772},{"hour":16,"risk":0.15086233615875244,"lower":0.07531645148992538,"upper":0.2503562867641449},{"hour":17,"risk":0.15081003308296204,"lower":0.0757773146033287,"upper":0.24837929010391235},{"hour":18,"risk":0.15338300168514252,"lower":0.07724629342556,"upper":0.25484851002693176},{"hour":19,"risk":0.15290367603302002,"lower":0.07878607511520386,"upper":0.2522638440132141},{"hour":20,"risk":0.151433527469635,"lower":0.07642076164484024,"upper":0.2541319727897644},{"hour":21,"risk":0.14964696764945984,"lower":0.07584559172391891,"upper":0.25237464904785156},{"hour":22,"risk":0.1509810984134674,"lower":0.07528458535671234,"upper":0.2514433264732361},{"hour":23,"risk":0.15166328847408295,"lower":0.07731980085372925,"upper":0.25424858927726746}],"latents":{"stress":0.006119526922702789,"sleep_debt":0.013189896941184998,"hormonal":0.005164746195077896,"environmental":-0.008477263152599335},"has_migraine":true},{"day":28,"date":"2025-11-13T00:00:00","daily_risk":{"mean":0.14908698201179504,"lower":0.07695839554071426,"upper":0.2530599534511566},"hourly_risks":[{"hour":0,"risk":0.15028946101665497,"lower":0.0772537812590599,"upper":0.2507486939430237},{"hour":1,"risk":0.15257428586483002,"lower":0.07906526327133179,"upper":0.25543975830078125},{"hour":2,"risk":0.15120644867420197,"lower":0.07692404836416245,"upper":0.2559537887573242},{"hour":3,"risk":0.14974817633628845,"lower":0.07376311719417572,"upper":0.25489699840545654},{"hour":4,"risk":0.1520935297012329,"lower":0.07558970153331757,"upper":0.2584094703197479},{"hour":5,"risk":0.14988872408866882,"lower":0.07463754713535309,"upper":0.2496165633201599},{"hour":6,"risk":0.15205331146717072,"lower":0.07392057776451111,"upper":0.25510403513908386},{"hour":7,"risk":0.1503559947013855,"lower":0.07663188129663467,"upper":0.2549528479576111},{"hour":8,"risk":0.1520048975944519,"lower":0.07638365030288696,"upper":0.25164085626602173},{"hour":9,"risk":0.1519222855567932,"lower":0.07393791526556015,"upper":0.25832098722457886},{"hour":10,"risk":0.15204837918281555,"lower":0.0760752409696579,"upper":0.25708818435668945},{"hour":11,"risk":0.15236200392246246,"lower":0.07212108373641968,"upper":0.2549801766872406},{"hour":12,"risk":0.14946261048316956,"lower":0.07669326663017273,"upper":0.2439652681350708},{"hour":13,"risk":0.1518486738204956,"lower":0.07196755707263947,"upper":0.2621693015098572},{"hour":14,"risk":0.14872607588768005,"lower":0.07894434779882431,"upper":0.2409895956516266},{"hour":15,"risk":0.153213769197464,"lower":0.07624546438455582,"upper":0.2520157992839813},{"hour":16,"risk":0.1499962955713272,"lower":0.0749841183423996,"upper":0.2577598989009857},{"hour":17,"risk":0.15088289976119995,"lower":0.07525365799665451,"upper":0.2519108057022095},{"hour":18,"risk":0.14831890165805817,"lower":0.07678578048944473,"upper":0.2522968053817749},{"hour":19,"risk":0.1494380235671997,"lower":0.07639576494693756,"upper":0.252838134765625},{"hour":20,"risk":0.15367627143859863,"lower":0.07502610981464386,"upper":0.26982903480529785},{"hour":21,"risk":0.15030282735824585,"lower":0.07587219029664993,"upper":0.24952244758605957},{"hour":22,"risk":0.15026383101940155,"lower":0.07470925152301788,"upper":0.2494865506887436},{"hour":23,"risk":0.14908698201179504,"lower":0.07695839554071426,"upper":0.2530599534511566}],"latents":{"stress":0.005567185580730438,"sleep_debt":0.013559237122535706,"hormonal":0.00468006357550621,"environmental":-0.00905030220746994},"has_migraine":false},{"day":29,"date":"2025-11-14T00:00:00","daily_risk":{"mean":0.15100879967212677,"lower":0.07335846871137619,"upper":0.2628306746482849},"hourly_risks":[{"hour":0,"risk":0.15140452980995178,"lower":0.07808611541986465,"upper":0.2530471384525299},{"hour":1,"risk":0.1522371470928192,"lower":0.07652752846479416,"upper":0.25344279408454895},{"hour":2,"risk":0.15233150124549866,"lower":0.07528916001319885,"upper":0.2524571120738983},{"hour":3,"risk":0.15086263418197632,"lower":0.07704084366559982,"upper":0.2525220215320587},{"hour":4,"risk":0.14929217100143433,"lower":0.07662229239940643,"upper":0.24360547959804535},{"hour":5,"risk":0.1518530249595642,"lower":0.07785599678754807,"upper":0.2513325810432434},{"hour":6,"risk":0.15271660685539246,"lower":0.07585663348436356,"upper":0.26084238290786743},{"hour":7,"risk":0.15103738009929657,"lower":0.07397867739200592,"upper":0.2572646737098694},{"hour":8,"risk":0.15163172781467438,"lower":0.07641813158988953,"upper":0.2605636715888977},{"hour":9,"risk":0.14912140369415283,"lower":0.07757667452096939,"upper":0.23720207810401917},{"hour":10,"risk":0.15129663050174713,"lower":0.07783123850822449,"upper":0.26147282123565674},{"hour":11,"risk":0.14858026802539825,"lower":0.07386878877878189,"upper":0.25351184606552124},{"hour":12,"risk":0.15135110914707184,"lower":0.07899113744497299,"upper":0.25806909799575806},{"hour":13,"risk":0.15223629772663116,"lower":0.07340545952320099,"upper":0.2539111375808716},{"hour":14,"risk":0.15062890946865082,"lower":0.07710777223110199,"upper":0.25171560049057007},{"hour":15,"risk":0.1498771756887436,"lower":0.07416229695081711,"upper":0.24771946668624878},{"hour":16,"risk":0.1517914980649948,"lower":0.07559460401535034,"upper":0.25590458512306213},{"hour":17,"risk":0.15195633471012115,"lower":0.07567807286977768,"upper":0.2564009726047516},{"hour":18,"risk":0.14894528687000275,"lower":0.07323446124792099,"upper":0.24690964818000793},{"hour":19,"risk":0.15156899392604828,"lower":0.07844839990139008,"upper":0.25894588232040405},{"hour":20,"risk":0.14919975399971008,"lower":0.0746024027466774,"upper":0.25389134883880615},{"hour":21,"risk":0.14670589566230774,"lower":0.07279142737388611,"upper":0.24442751705646515},{"hour":22,"risk":0.15056997537612915,"lower":0.0783030316233635,"upper":0.24030280113220215},{"hour":23,"risk":0.15100879967212677,"lower":0.07335846871137619,"upper":0.2628306746482849}],"latents":{"stress":0.005594007670879364,"sleep_debt":0.013564050197601318,"hormonal":0.004684831947088242,"environmental":-0.009059898555278778},"has_migraine":false}]'),up=[{id:"1",label:"<6h sleep",strength:78,explanation:"Sleep duration below 6 hours correlated with 78% of migraine occurrences."},{id:"2",label:"Low HRV (<45ms)",strength:72,explanation:"Heart rate variability below baseline preceded 72% of migraines."},{id:"3",label:"High caffeine (>250mg)",strength:65,explanation:"Consuming over 250mg caffeine correlated with elevated risk."},{id:"4",label:"Monday mornings",strength:60,explanation:"Weekend schedule changes may contribute to Monday vulnerability."}],hp=[{day:1,date:"2025-10-16T00:00:00",risk:"low",hasAttack:!1,riskPercentage:14},{day:2,date:"2025-10-17T00:00:00",risk:"low",hasAttack:!1,riskPercentage:15},{day:3,date:"2025-10-18T00:00:00",risk:"low",hasAttack:!1,riskPercentage:15},{day:4,date:"2025-10-19T00:00:00",risk:"low",hasAttack:!0,riskPercentage:15},{day:5,date:"2025-10-20T00:00:00",risk:"low",hasAttack:!1,riskPercentage:15},{day:6,date:"2025-10-21T00:00:00",risk:"low",hasAttack:!1,riskPercentage:15},{day:7,date:"2025-10-22T00:00:00",risk:"low",hasAttack:!1,riskPercentage:14},{day:8,date:"2025-10-23T00:00:00",risk:"low",hasAttack:!0,riskPercentage:15},{day:9,date:"2025-10-24T00:00:00",risk:"low",hasAttack:!1,riskPercentage:14},{day:10,date:"2025-10-25T00:00:00",risk:"low",hasAttack:!1,riskPercentage:15},{day:11,date:"2025-10-26T00:00:00",risk:"low",hasAttack:!1,riskPercentage:14},{day:12,date:"2025-10-27T00:00:00",risk:"low",hasAttack:!1,riskPercentage:15},{day:13,date:"2025-10-28T00:00:00",risk:"low",hasAttack:!0,riskPercentage:14},{day:14,date:"2025-10-29T00:00:00",risk:"low",hasAttack:!1,riskPercentage:15},{day:15,date:"2025-10-30T00:00:00",risk:"low",hasAttack:!1,riskPercentage:14},{day:16,date:"2025-10-31T00:00:00",risk:"low",hasAttack:!0,riskPercentage:15},{day:17,date:"2025-11-01T00:00:00",risk:"low",hasAttack:!1,riskPercentage:14},{day:18,date:"2025-11-02T00:00:00",risk:"low",hasAttack:!1,riskPercentage:14},{day:19,date:"2025-11-03T00:00:00",risk:"low",hasAttack:!1,riskPercentage:15},{day:20,date:"2025-11-04T00:00:00",risk:"low",hasAttack:!1,riskPercentage:15},{day:21,date:"2025-11-05T00:00:00",risk:"low",hasAttack:!1,riskPercentage:15},{day:22,date:"2025-11-06T00:00:00",risk:"low",hasAttack:!0,riskPercentage:15},{day:23,date:"2025-11-07T00:00:00",risk:"low",hasAttack:!1,riskPercentage:14},{day:24,date:"2025-11-08T00:00:00",risk:"low",hasAttack:!1,riskPercentage:15},{day:25,date:"2025-11-09T00:00:00",risk:"low",hasAttack:!1,riskPercentage:15},{day:26,date:"2025-11-10T00:00:00",risk:"low",hasAttack:!1,riskPercentage:15},{day:27,date:"2025-11-11T00:00:00",risk:"low",hasAttack:!1,riskPercentage:15},{day:28,date:"2025-11-12T00:00:00",risk:"low",hasAttack:!0,riskPercentage:15},{day:29,date:"2025-11-13T00:00:00",risk:"low",hasAttack:!1,riskPercentage:14},{day:30,date:"2025-11-14T00:00:00",risk:"low",hasAttack:!1,riskPercentage:15}],pp="2025-11-15T09:25:52.862710",mp="ALINE-v1.0",fp={user:cp,predictions:dp,correlations:up,calendar:hp,generated_at:pp,model_version:mp};class gp{constructor(){Ze(this,"data");this.data=fp,Se.init().catch(r=>{console.error("Failed to initialize database:",r)})}getPredictionByDate(r){const s=r.split("T")[0];return this.data.predictions.find(n=>n.date.startsWith(s))||null}getCurrentRisk(){const r=this.data.predictions[this.data.predictions.length-1];return{risk:r.daily_risk.mean,lower:r.daily_risk.lower,upper:r.daily_risk.upper}}getHourlyRisk(r){return this.getPredictionByDate(r)?.hourly_risks||[]}getCalendarMonth(r,s){return this.data.calendar.filter(n=>{const i=new Date(n.date);return i.getFullYear()===r&&i.getMonth()===s})}getCorrelations(){return this.data.correlations}async addTimelineEntry(r,s,n){await Se.addTimelineEntry(r,s,n)}async getTimelineEntries(r){return await Se.getTimelineEntries(r)}getAllPredictions(){return this.data.predictions}getUser(){return this.data.user}async resetDemo(){await Se.resetDatabase()}}const ar=new gp;function xp(t){let r=0;const s=t.caffeine?.level;if(s==="lot"?r+=.05:s==="none"&&(r-=.02),t.water?.amount==="none"||t.water?.amount==="low"?r+=.03:t.water?.amount==="high"&&(r-=.02),t.food?.level!==void 0&&t.food.level<4&&(r+=.04),t.sleep){const n=bp(t.sleep.hours);r+=n}return Math.max(-.15,Math.min(.15,r))}function bp(t){return t<6?.08:t<7?.03:t>9?.02:0}function wp(t,r=20){const n=[],i=t.sleep?t.sleep.hours/10:.7,a=t.sleep?t.sleep.quality/10:.65,d=.6,h=.6,c=.85,l=.55,p=yp(t.caffeine.level),f=vp(t.water.amount),b=t.food.level/10,w=.3,x=.55,g=.45,v=.8,N=.5,j=.55,_=.5,I=.5,M=.16,C=0,P=.12;for(let E=0;E<24;E++){const L=[i,a,d,h,c,l,p,f,b,w,x,g,v,N,j,_,I,M,C,P];n.push(L.slice(0,r))}return n}function yp(t){switch(t){case"none":return 0;case"some":return .5;case"normal":return .5;case"lot":return 1;default:return .5}}function vp(t){switch(t){case"none":return 0;case"low":return .33;case"medium":return .66;case"high":return 1;default:return .5}}const Sn={REACT_APP_API_URL:"https://aline-service-hhteadf5zq-uc.a.run.app",REACT_APP_ENVIRONMENT:"production"};function kp(){return typeof window<"u"&&window.ENV?{REACT_APP_API_URL:window.ENV.REACT_APP_API_URL||Sn.REACT_APP_API_URL,REACT_APP_ENVIRONMENT:window.ENV.REACT_APP_ENVIRONMENT||Sn.REACT_APP_ENVIRONMENT}:Sn}const Np=kp(),Mi=(t="")=>{const r=Np.REACT_APP_API_URL.replace(/\/$/,""),s=t.replace(/^\//,"");return s?`${r}/${s}`:r};class jp{constructor(){Ze(this,"baseUrl");this.baseUrl=Mi()}async makeRequest(r,s={}){try{const n=Mi(r),i=await fetch(n,{headers:{"Content-Type":"application/json",...s.headers},...s}),a=await i.json();return i.ok?{data:a,status:i.status}:{error:a.message||`HTTP ${i.status}: ${i.statusText}`,status:i.status}}catch(n){return{error:n instanceof Error?n.message:"Network error",status:0}}}async get(r){return this.makeRequest(r,{method:"GET"})}async post(r,s){return this.makeRequest(r,{method:"POST",body:s?JSON.stringify(s):void 0})}async put(r,s){return this.makeRequest(r,{method:"PUT",body:s?JSON.stringify(s):void 0})}async delete(r){return this.makeRequest(r,{method:"DELETE"})}}const Mt=new jp;class Sp{async getDailyRisk(r,s){try{const n={user_id:r,features:s},i=await Mt.post("/risk/daily",n);return i.error?(console.error("Error fetching daily risk:",i.error),null):i.data||null}catch(n){return console.error("Exception in getDailyRisk:",n),null}}generateMockFeatures(r=20){const n=[];for(let i=0;i<24;i++){const a=[];for(let d=0;d<r;d++)a.push(Math.random()*2-1);n.push(a)}return n}async checkHealth(){try{const r=await Mt.get("/health");return r.data?.status==="healthy"||r.data?.status==="ok"}catch(r){return console.error("Backend health check failed:",r),!1}}}const _n=new Sp;class _p{async getHourlyPosterior(r,s){try{const n={user_id:r,features:s},i=await Mt.post("/posterior/hourly",n);return i.error?(console.error("Error fetching hourly posterior:",i.error),null):i.data||null}catch(n){return console.error("Exception in getHourlyPosterior:",n),null}}calculateHourlyRisks(r){return r.map(s=>{const n=s.std.reduce((c,l)=>c+l,0)/s.std.length,i=Math.sqrt(s.mean.reduce((c,l)=>c+l*l,0)),a=Math.min(1,n/2),d=Math.min(1,i/10),h=.7*a+.3*d;return Math.max(0,Math.min(1,h))})}getHighRiskHours(r,s=3){const i=this.calculateHourlyRisks(r).map((a,d)=>({hour:d,risk:a}));return i.sort((a,d)=>d.risk-a.risk),i.slice(0,s).map(a=>a.hour)}}const Ii=new _p;function Dl(){const[t,r]=k.useState(!0),[s,n]=k.useState(0),[i,a]=k.useState({lower:0,upper:0}),[d,h]=k.useState(!1),[c,l]=k.useState(!0);return k.useEffect(()=>{(async()=>{if(r(!0),await _n.checkHealth()&&c){const v="demo-user",N=_n.generateMockFeatures(20),j=await _n.getDailyRisk(v,N);if(j){n(j.mean_probability),a({lower:j.lower_bound,upper:j.upper_bound}),h(!0),r(!1);return}}console.log("Using demo data (backend unavailable or disabled)"),h(!1);const{risk:w,lower:x,upper:g}=ar.getCurrentRisk();n(w),a({lower:x,upper:g}),r(!1)})()},[c]),{loading:t,risk:s,bounds:i,isBackendConnected:d,updateRiskWithQuickCheck:async f=>{const b=xp(f),w=Math.max(0,Math.min(1,s+b));if(n(w),ar.addTimelineEntry(new Date().toISOString(),"quick_check",f),d)try{const x=wp(f,20),v=await Ii.getHourlyPosterior("demo-user",x);if(v){console.log(" Fetched hourly posterior from Quick Check data"),console.log(`   Found ${v.hourly_posteriors.length} hourly predictions`);const N=Ii.getHighRiskHours(v.hourly_posteriors,3);console.log(`   High risk hours: ${N.join(", ")}`),ar.addTimelineEntry(new Date().toISOString(),"hourly_posterior",{posteriors:v.hourly_posteriors,highRiskHours:N})}}catch(x){console.error("Failed to fetch hourly posterior:",x)}}}}function Cp(t,r){const[s,n]=k.useState(!0),[i,a]=k.useState([]);return k.useEffect(()=>{n(!0);const d=setTimeout(()=>{const h=ar.getCalendarMonth(t,r);a(h),n(!1)},200);return()=>clearTimeout(d)},[t,r]),{loading:s,calendarDays:i}}function Ep(){const[t,r]=k.useState(!0),[s,n]=k.useState([]);return k.useEffect(()=>{const i=setTimeout(()=>{const a=ar.getCorrelations();n(a),r(!1)},300);return()=>clearTimeout(i)},[]),{loading:t,correlations:s}}function Tp(){const[t,r]=k.useState({sleep:"0h 0m",hrv:0,screenTime:"0h 0m"});return k.useEffect(()=>{const s=new Date().toISOString().split("T")[0],n=ar.getPredictionByDate(s);if(n){const i=7.2-n.latents.sleep_debt*2,a=Math.floor(Math.max(0,i)),d=Math.round(i%1*60),h=Math.round(55+n.latents.stress*-20),c=4+n.latents.environmental*2,l=Math.floor(Math.max(0,c)),p=Math.round(c%1*60);r({sleep:`${a}h ${d}m`,hrv:Math.max(30,Math.min(100,h)),screenTime:`${l}h ${p}m`})}},[]),t}function Rp(){const[t,r]=k.useState(null),[s,n]=k.useState(!0),[i,a]=k.useState(null);return k.useEffect(()=>{async function d(){try{n(!0);const h=await Se.getPersonalMigraineProfile();r(h),a(null)}catch(h){console.error("Failed to load personal migraine profile:",h),a(h instanceof Error?h:new Error("Unknown error"))}finally{n(!1)}}d()},[]),{profile:t,loading:s,error:i}}function Ap(t){if(!t)return[];const r=[],s=Math.min(20,5+t.migraineHistoryYears/50*15);r.push({name:"Migraine History",percentage:Math.round(s),category:"personal",value:t.migraineHistoryYears.toString(),unit:"yrs"});let n=1;return(t.age<25||t.age>50)&&(n=2),r.push({name:"Age",percentage:n,category:"personal",value:t.age.toString(),unit:"years"}),t.weightKg&&r.push({name:"Body Weight",percentage:1,category:"personal",value:t.weightKg.toString(),unit:"kg"}),t.bmi&&r.push({name:"BMI",percentage:1,category:"personal",value:t.bmi.toFixed(1),unit:""}),r}function Li({onQuickCheckClick:t,onInsightsClick:r,onSootheModeClick:s,lowStimulationMode:n=!1}){const{loading:i,risk:a,bounds:d}=Dl(),h=Tp(),{profile:c,loading:l}=Rp(),[p,f]=k.useState(7);k.useEffect(()=>{Se.getSetting("streak_count").then(M=>{M&&f(parseInt(M,10))})},[]);const b=Math.round(a*100),w=b<30?"low":b<60?"moderate":"high",x=d.upper-d.lower,g=Math.round(Math.max(0,Math.min(100,100-x*100))),v={icon:tt,label:w==="low"?"Keep up the good habits!":w==="moderate"?"Consider a breathing break":"Take it easy today"};if(i||l)return e.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:e.jsxs("div",{className:"text-center space-y-4",children:[e.jsx("div",{className:"w-48 h-48 rounded-full bg-muted animate-pulse mx-auto"}),e.jsx("p",{className:"text-label text-muted-foreground",children:"Loading your risk..."})]})});const N={sleepDuration:h.sleep,hrvTrend:"up",hrvChange:"+8%",screenTime:h.screenTime},j=[{label:"Good sleep",percentage:40,icon:xt},{label:"Normal HRV",percentage:35,icon:tt},{label:"Low stress",percentage:25,icon:Pn}],_=["Stay active","Maintain routine","Monitor triggers"],I=[{name:"Barometric Pressure Change",percentage:28,category:"environmental",value:"-6",unit:"hPa"},{name:"Weather Changes",percentage:14,category:"environmental",value:"Unstable",unit:""},{name:"Humidity",percentage:11,category:"environmental",value:"75",unit:"%"},{name:"Temperature",percentage:9,category:"environmental",value:"22",unit:"C"},{name:"Air Quality Index",percentage:6,category:"environmental",value:"85",unit:"AQI"},{name:"Base Pressure",percentage:5,category:"environmental",value:"1013",unit:"hPa"},{name:"Altitude",percentage:3,category:"environmental",value:"850",unit:"m"},{name:"Sleep Quality",percentage:22,category:"biometric",value:"4.5",unit:"/10"},{name:"Sleep Duration",percentage:15,category:"biometric",value:"6.5",unit:"hrs"},{name:"HRV",percentage:12,category:"biometric",value:"47",unit:"ms"},{name:"Resting Heart Rate",percentage:10,category:"biometric",value:"72",unit:"bpm"},{name:"Body temperature change",percentage:8,category:"biometric",value:"+0.4",unit:"C"},{name:"Activity Level",percentage:7,category:"biometric",value:"3200",unit:"steps"},{name:"Prodrome Symptoms",percentage:20,category:"lifestyle",value:"Present",unit:""},{name:"Stress Level",percentage:18,category:"lifestyle",value:"8.5",unit:"/10"},{name:"Screen Time",percentage:8,category:"lifestyle",value:"9",unit:"hrs"},{name:"Meal Regularity",percentage:7,category:"lifestyle",value:"Irregular",unit:""},{name:"Caffeine Intake change",percentage:6,category:"lifestyle",value:"+150",unit:"mg"},{name:"Alcohol Intake",percentage:5,category:"lifestyle",value:"1",unit:"drink"},{name:"Water Intake",percentage:4,category:"lifestyle",value:"1.8",unit:"L"},...Ap(c)];return e.jsx(lp,{userName:"Sarah",riskLevel:w,riskPercentage:b,confidence:g,contextualAction:v,streakCount:p,todayData:N,riskContributors:j,riskVariables:I,whatHelps:_,onQuickCheckClick:t,onInsightsClick:r,onSootheModeClick:s,lowStimulationMode:n})}function Ur({activeTab:t="home",onNavigate:r}){const s=[{icon:nd,label:"Home",id:"home"},{icon:P0,label:"Diary",id:"diary"},{icon:_d,label:"Profile",id:"profile"}];return e.jsx("div",{className:"fixed bottom-0 left-0 right-0 w-full bg-card border-t border-border z-40",children:e.jsx("div",{className:"flex items-center justify-around px-4 py-2",children:s.map(n=>{const i=n.icon,a=n.id===t;return e.jsxs("button",{onClick:()=>r?.(n.id),className:`
                flex flex-col items-center gap-1 py-2 px-6 transition-colors duration-200
                ${a?"text-primary":"text-muted-foreground"}
              `,children:[e.jsx(i,{className:"w-6 h-6"}),e.jsx("span",{className:"text-label",children:n.label})]},n.id)})})})}function Pp({options:t,value:r,defaultValue:s,onChange:n}){const i=typeof t[0]=="string"?t[0]:t[0]?.id,[a,d]=k.useState(s||i||""),h=r??a,c=p=>{d(p),n?.(p)},l=t.map(p=>typeof p=="string"?{id:p,label:p}:p);return e.jsx("div",{className:"inline-flex p-1 bg-secondary rounded-lg w-full",children:l.map(p=>e.jsx("button",{onClick:()=>c(p.id),className:`
            flex-1 px-4 py-1.5 rounded-md text-label transition-all duration-200
            ${h===p.id?"bg-card shadow-sm text-foreground":"text-muted-foreground hover:text-foreground"}
          `,children:p.label},p.id))})}function Mp({onComplete:t,onBack:r,streakCount:s=5}){const[n,i]=k.useState(1),[a,d]=k.useState({caffeine:{level:null},water:{amount:null},food:{level:5}}),h=k.useRef(null);k.useEffect(()=>{requestAnimationFrame(()=>{h.current&&(h.current.scrollTop=0)})},[n]);const c=()=>{n===1?i(2):n===2?i(3):n===3&&i("success")},l=()=>{n===1?r?.():n===2?i(1):n===3?i(2):n==="success"&&i(3)},p=()=>{c()},f=()=>{t?.(a)},b=()=>n===1?33:n===2?67:n===3||n==="success"?100:0,w=()=>n===1?"1/3":n===2?"2/3":n===3?"3/3":"";return e.jsxs("div",{className:"min-h-screen bg-background flex flex-col",children:[n!=="success"&&e.jsx("div",{className:"flex-shrink-0 border-b border-border bg-card",children:e.jsxs("div",{className:"px-6 pt-6 pb-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("button",{onClick:l,className:"flex items-center justify-center w-11 h-11 rounded-lg hover:bg-muted transition-colors","aria-label":"Go back",children:e.jsx(Fr,{className:"w-6 h-6"})}),e.jsx("h1",{className:"text-h2 absolute left-1/2 -translate-x-1/2",children:"Quick Check"}),e.jsxs("div",{className:"flex items-center gap-1.5 px-3 py-1.5 rounded-full bg-primary/10 text-primary",children:[e.jsx(Jn,{className:"w-4 h-4"}),e.jsxs("span",{className:"text-label",children:["Streak ",s]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsx("span",{className:"text-label text-muted-foreground",children:w()})}),e.jsx("div",{className:"h-1 bg-muted rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full bg-primary transition-all duration-300 ease-out",style:{width:`${b()}%`}})})]})]})}),e.jsxs("div",{ref:h,className:"flex-1 overflow-y-auto",children:[n===1&&e.jsx(Ip,{value:a.caffeine,onChange:x=>d({...a,caffeine:x}),onContinue:c,onSkip:p}),n===2&&e.jsx(Lp,{value:a.water,onChange:x=>d({...a,water:x}),onContinue:c,onSkip:p}),n===3&&e.jsx(Op,{value:a.food,onChange:x=>d({...a,food:x}),onContinue:c,onSkip:p}),n==="success"&&e.jsx(Dp,{onComplete:f,data:a,streakCount:s})]})]})}function Ip({value:t,onChange:r,onContinue:s,onSkip:n}){const[i,a]=k.useState(!1),[d,h]=k.useState(t.types||[]),[c,l]=k.useState(t.lastIntake||""),p=[{id:"none",label:"None (0 mg)",icon:e.jsxs("div",{className:"relative",children:[e.jsx(Ir,{className:"w-10 h-10"}),e.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:e.jsx("div",{className:"w-12 h-0.5 bg-current rotate-45"})})]})},{id:"some",label:"Some (~50150 mg)",icon:e.jsx(Ir,{className:"w-10 h-10"})},{id:"lot",label:"A lot (200+ mg)",icon:e.jsxs("div",{className:"flex gap-1",children:[e.jsx(Ir,{className:"w-10 h-10"}),e.jsx(Ir,{className:"w-10 h-10"})]})}],f=["Coffee","Espresso","Tea","Energy drink"],b=["Now","<2h","26h",">6h"],w=g=>{h(v=>v.includes(g)?v.filter(N=>N!==g):[...v,g])},x=()=>{r({...t,types:d,lastIntake:c}),a(!1)};return e.jsxs("div",{className:"px-6 py-8 space-y-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("h2",{className:"text-h2",children:"How much caffeine have you consumed today?"}),e.jsx("p",{className:"text-label text-muted-foreground",children:"Refines today's prediction"})]}),e.jsx("div",{className:"space-y-3",children:p.map(g=>e.jsxs("button",{onClick:()=>r({...t,level:g.id}),className:`
              w-full p-6 rounded-xl border-2 transition-all duration-200
              flex items-center gap-4 text-left
              ${t.level===g.id?"border-primary bg-primary/5 ring-2 ring-primary ring-offset-2 ring-offset-background":"border-border bg-card hover:border-muted-foreground/20"}
            `,style:{borderRadius:"12px",minHeight:"88px"},children:[e.jsx("div",{className:`
                flex-shrink-0 w-16 h-16 rounded-lg flex items-center justify-center
                ${t.level===g.id?"text-primary":"text-muted-foreground"}
              `,style:{borderRadius:"8px"},children:g.icon}),e.jsx("span",{className:"text-body flex-1",children:g.label})]},g.id))}),e.jsxs(Is,{open:i,onOpenChange:a,children:[e.jsx(Ls,{asChild:!0,children:e.jsx("button",{className:"text-label text-primary hover:underline",children:"Add details (type & time)"})}),e.jsxs(Os,{side:"bottom",className:"h-auto max-h-[70vh]",children:[e.jsxs(Ds,{className:"mb-6",children:[e.jsx(Fs,{children:"Caffeine details"}),e.jsx($s,{children:"Optional  helps refine your prediction"})]}),e.jsxs("div",{className:"space-y-6 pb-6",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsx("h3",{className:"text-body",children:"Type"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:f.map(g=>e.jsx("button",{onClick:()=>w(g),className:"transition-transform active:scale-95",children:e.jsx("div",{className:`
                        inline-flex items-center gap-1.5 px-3 py-2 rounded-full text-label
                        transition-colors duration-200 border
                        ${d.includes(g)?"bg-primary/10 text-primary border-primary/20":"bg-secondary text-secondary-foreground border-border"}
                      `,children:g})},g))})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("h3",{className:"text-body",children:"Last intake"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:b.map(g=>e.jsx("button",{onClick:()=>l(g),className:"transition-transform active:scale-95",children:e.jsx("div",{className:`
                        inline-flex items-center gap-1.5 px-3 py-2 rounded-full text-label
                        transition-colors duration-200 border
                        ${c===g?"bg-primary/10 text-primary border-primary/20":"bg-secondary text-secondary-foreground border-border"}
                      `,children:g})},g))})]}),e.jsx(fe,{onClick:x,className:"w-full h-12 rounded-lg",style:{borderRadius:"8px"},children:"Save details"})]})]})]}),e.jsxs("div",{className:"pt-4 space-y-3",children:[e.jsx(fe,{onClick:s,disabled:!t.level,className:"w-full h-12 rounded-lg",style:{borderRadius:"8px"},children:"Continue"}),e.jsx("button",{onClick:n,className:"w-full text-label text-muted-foreground hover:text-foreground transition-colors",children:"Skip for now"})]})]})}function Lp({value:t,onChange:r,onContinue:s,onSkip:n}){const i=[{id:"none",label:"None"},{id:"low",label:"~250500 ml"},{id:"medium",label:"~5001000 ml"},{id:"high",label:">1 L"}],a=()=>{(t.amount==="none"||!t.amount)&&r({amount:"low"}),alert("Logged 250 ml")};return e.jsxs("div",{className:"px-6 py-8 space-y-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("h2",{className:"text-h2",children:"How much water have you had so far?"}),e.jsx("p",{className:"text-label text-muted-foreground",children:"Refines today's prediction"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx(Pp,{options:i,value:t.amount??"none",onChange:d=>r({amount:d})}),e.jsxs("div",{className:"flex items-start justify-between gap-3 p-4 rounded-lg bg-muted/50",children:[e.jsx("p",{className:"text-label text-muted-foreground flex-1",children:"Tip: regular hydration may reduce risk for some people."}),e.jsx("button",{onClick:a,className:"text-label text-primary hover:underline whitespace-nowrap",children:"Log 250 ml"})]})]}),e.jsxs("div",{className:"pt-4 space-y-3",children:[e.jsx(fe,{onClick:s,className:"w-full h-12 rounded-lg",style:{borderRadius:"8px"},children:"Continue"}),e.jsx("button",{onClick:n,className:"w-full text-label text-muted-foreground hover:text-foreground transition-colors",children:"Skip for now"})]})]})}function Op({value:t,onChange:r,onContinue:s,onSkip:n}){const[i,a]=k.useState(!1),[d,h]=k.useState(t.note||""),c=p=>p<=3?"Less than usual":p<=6?"About normal":"More than usual",l=()=>{r({...t,note:d}),a(!1)};return e.jsxs("div",{className:"px-6 py-8 space-y-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("h2",{className:"text-h2",children:"Have you eaten more or less than normal?"}),e.jsx("p",{className:"text-label text-muted-foreground",children:"Refines today's prediction"})]}),e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-label text-muted-foreground",children:"Much less"}),e.jsx("span",{className:"text-h3 text-primary",children:t.level}),e.jsx("span",{className:"text-label text-muted-foreground",children:"Much more"})]}),e.jsx(Dn,{value:[t.level],onValueChange:([p])=>r({...t,level:p}),min:0,max:10,step:1,className:"w-full"}),e.jsx("div",{className:"text-center",children:e.jsx("p",{className:"text-body text-muted-foreground",children:c(t.level)})})]})}),e.jsxs(Is,{open:i,onOpenChange:a,children:[e.jsx(Ls,{asChild:!0,children:e.jsx("button",{className:"text-label text-primary hover:underline",children:"Add meal note (time/type)"})}),e.jsxs(Os,{side:"bottom",className:"h-auto max-h-[50vh]",children:[e.jsxs(Ds,{className:"mb-6",children:[e.jsx(Fs,{children:"Meal note"}),e.jsx($s,{children:"Optional details about your meals today"})]}),e.jsxs("div",{className:"space-y-4 pb-6",children:[e.jsx("textarea",{value:d,onChange:p=>h(p.target.value),placeholder:"e.g., Skipped breakfast, light lunch at 1pm",className:"w-full h-24 p-3 rounded-lg border border-border bg-card text-body resize-none focus:outline-none focus:ring-2 focus:ring-primary",style:{borderRadius:"8px"}}),e.jsx(fe,{onClick:l,className:"w-full h-12 rounded-lg",style:{borderRadius:"8px"},children:"Save note"})]})]})]}),e.jsxs("div",{className:"pt-4 space-y-3",children:[e.jsx(fe,{onClick:s,className:"w-full h-12 rounded-lg",style:{borderRadius:"8px"},children:"Continue"}),e.jsx("button",{onClick:n,className:"w-full text-label text-muted-foreground hover:text-foreground transition-colors",children:"Skip for now"})]})]})}function Dp({onComplete:t,data:r,streakCount:s=6}){const[n,i]=k.useState(!1),a=Array.from({length:10},(w,x)=>({id:x,x:Math.random()*100,y:Math.random()*40,size:Math.random()*6+4,color:["#FF7B66","#FFB366","#F5C94D","#FFB3C6","#E3DCFF"][Math.floor(Math.random()*5)],opacity:Math.random()*.2+.2})),d=[r.caffeine.level!==null,r.water.amount!==null,r.food.level!==5].filter(Boolean).length,h=d===3?8:d===2?6:4,c="6h",l=d===3?"3h":d===2?"4h":"5h",f=r.water.amount==="none"||r.water.amount==="low"?{label:"Hydrate 250 ml",icon:ea}:r.food.level<=3?{label:"Have a light snack",icon:Ir}:r.caffeine.level==="lot"?{label:"Take a 5-min break",icon:dr}:null,b=()=>{const w=[];return r.caffeine.level==="lot"?w.push("High caffeine intake can sometimes trigger migraines."):r.caffeine.level==="none"&&w.push("No caffeine today  caffeine withdrawal can be a trigger."),r.water.amount==="none"||r.water.amount==="low"?w.push("Low hydration is a common migraine trigger."):r.water.amount==="high"&&w.push("Good hydration helps maintain normal migraine risk."),r.food.level<=3?w.push("Eating less than usual can increase migraine risk."):r.food.level>=7&&w.push("Eating more than usual noted  may affect prediction."),w.length>0?w:["Your inputs are within normal ranges."]};return e.jsxs("div",{className:"min-h-screen flex flex-col px-6 py-12 relative overflow-hidden bg-background",children:[e.jsx("div",{className:"absolute inset-0 pointer-events-none overflow-hidden",children:a.map(w=>e.jsx("div",{className:"absolute rounded-full",style:{left:`${w.x}%`,top:`${w.y}%`,width:`${w.size}px`,height:`${w.size}px`,backgroundColor:w.color,opacity:w.opacity}},w.id))}),e.jsxs("div",{className:"relative z-10 w-full max-w-md mx-auto space-y-6",children:[e.jsxs("div",{className:"text-center space-y-4 pt-8",children:[e.jsx("div",{className:"flex justify-center mb-4",children:e.jsx("div",{className:"relative w-32 h-32 rounded-3xl bg-gradient-to-br from-success/20 to-primary/10 flex items-center justify-center",children:e.jsx("div",{className:"absolute inset-2 rounded-2xl bg-success/10 flex items-center justify-center",style:{borderRadius:"16px"},children:e.jsx(ks,{className:"w-12 h-12 text-success"})})})}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("h1",{className:"text-h1",children:"Estimate updated"}),e.jsx("p",{className:"text-body text-muted-foreground",children:"Nice work keeping your streak! Your inputs refined today's prediction."})]})]}),e.jsx("div",{className:"rounded-full bg-primary/10 border border-primary/20 px-4 py-3 flex items-center gap-3",style:{borderRadius:"24px"},children:e.jsxs("div",{className:"flex items-center gap-2 flex-1",children:[e.jsx(Jn,{className:"w-5 h-5 text-primary"}),e.jsxs("div",{className:"flex flex-col",children:[e.jsxs("span",{className:"text-label text-primary",children:["Streak kept +1  Day ",s]}),e.jsx("span",{className:"text-label text-muted-foreground",children:"Consistent check-ins improve accuracy over time."})]})]})}),e.jsxs("div",{className:"rounded-xl border border-border bg-card p-4 space-y-4",style:{borderRadius:"12px"},children:[e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-8 h-8 rounded-lg bg-success/10 flex items-center justify-center",children:e.jsx(ks,{className:"w-4 h-4 text-success"})}),e.jsx("span",{className:"text-body",children:"Prediction confidence"})]}),e.jsxs("span",{className:"text-body text-success",children:["+",h,"%"]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-8 h-8 rounded-lg bg-primary/10 flex items-center justify-center",children:e.jsx(dr,{className:"w-4 h-4 text-primary"})}),e.jsx("span",{className:"text-body",children:"Risk window narrowed"})]}),e.jsxs("span",{className:"text-body text-muted-foreground",children:[c,"  ",l]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-8 h-8 rounded-lg bg-muted flex items-center justify-center",children:e.jsx(tt,{className:"w-4 h-4 text-muted-foreground"})}),e.jsx("span",{className:"text-body",children:"Signals used today"})]}),e.jsxs("span",{className:"text-body",children:[d,"/3"]})]})]}),e.jsx("p",{className:"text-label text-muted-foreground pt-2 border-t border-border",children:"Estimates are indicative, not medical advice."})]}),f&&e.jsx("div",{className:"rounded-xl border border-border bg-card p-4",style:{borderRadius:"12px"},children:e.jsxs("div",{className:"flex items-center justify-between gap-3",children:[e.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[e.jsx("div",{className:"w-10 h-10 rounded-lg bg-primary/10 flex items-center justify-center flex-shrink-0",children:e.jsx(f.icon,{className:"w-5 h-5 text-primary"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-label text-muted-foreground",children:"Suggested next"}),e.jsx("p",{className:"text-body",children:f.label})]})]}),e.jsx("button",{className:"text-label text-primary hover:underline whitespace-nowrap",onClick:()=>alert(`Action: ${f.label}`),children:"Do it now"})]})}),e.jsxs("div",{className:"space-y-3 pt-4",children:[e.jsx(fe,{onClick:t,className:"w-full h-12 rounded-lg",style:{borderRadius:"8px"},children:"Back to Home"}),e.jsxs(Is,{open:n,onOpenChange:i,children:[e.jsx(Ls,{asChild:!0,children:e.jsx("button",{className:"w-full text-label text-primary hover:underline",children:"See why"})}),e.jsxs(Os,{side:"bottom",className:"h-auto max-h-[70vh]",children:[e.jsxs(Ds,{className:"mb-6",children:[e.jsx(Fs,{children:"How your inputs affected the update"}),e.jsx($s,{children:"These factors were considered in refining your prediction"})]}),e.jsx("div",{className:"space-y-3 pb-6",children:b().map((w,x)=>e.jsx("div",{className:"p-4 rounded-lg bg-muted border border-border",style:{borderRadius:"8px"},children:e.jsx("p",{className:"text-label text-muted-foreground",children:w})},x))})]})]})]})]})]})}function Cn({label:t,onRemove:r,variant:s="default"}){const n={default:"bg-secondary text-secondary-foreground",primary:"bg-primary/10 text-primary dark:bg-primary/20",success:"bg-success/10 text-success dark:bg-success/20",warning:"bg-warning/10 text-warning dark:bg-warning/20",critical:"bg-critical/10 text-critical dark:bg-critical/20"};return e.jsxs("div",{className:`
        inline-flex items-center gap-1.5 px-3 py-1 rounded-full text-label
        transition-colors duration-200
        ${n[s]}
      `,children:[e.jsx("span",{children:t}),r&&e.jsx("button",{onClick:r,className:"hover:opacity-70 transition-opacity",children:e.jsx(lt,{className:"w-3 h-3"})})]})}function Fp({data:t,width:r=120,height:s=40,color:n="#6A67D8"}){const i=Math.max(...t),a=Math.min(...t),d=i-a||1,h=t.map((c,l)=>{const p=l/(t.length-1)*r,f=s-(c-a)/d*s;return`${p},${f}`}).join(" ");return e.jsx("svg",{width:r,height:s,className:"overflow-visible",children:e.jsx("polyline",{points:h,fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"transition-all duration-200"})})}function $p({date:t,dayNumber:r,onBack:s,onExportPDF:n}){const[i,a]=k.useState(!1),d=[25,28,32,35,40,45,52,58,62,68,72,75,78,76,74,70,65,58,52,48,42,38,32,28],h=[{title:"Sleep",icon:xt,value:"6h 15m",subtitle:"78% efficiency",trend:"down",trendValue:"-1.5h vs avg",quality:"warning",details:[{label:"Deep sleep",value:"1h 24m"},{label:"REM sleep",value:"1h 12m"},{label:"Light sleep",value:"3h 39m"},{label:"Awake",value:"32m"}]},{title:"HRV",icon:tt,value:"42ms",subtitle:"Below baseline",trend:"down",trendValue:"-18ms vs baseline",quality:"critical",details:[{label:"Your baseline",value:"60ms"},{label:"Morning avg",value:"38ms"},{label:"Evening avg",value:"46ms"}]},{title:"Screen time",icon:ra,value:"7h 42m",subtitle:"Above average",trend:"up",trendValue:"+3h vs avg",quality:"warning",details:[{label:"Social media",value:"2h 18m"},{label:"Work apps",value:"4h 12m"},{label:"Other",value:"1h 12m"}]},{title:"Calendar load",icon:$e,value:"6 meetings",subtitle:"3 back-to-back",trend:"up",trendValue:"High stress day",quality:"critical",details:[{label:"Total meeting time",value:"4h 30m"},{label:"Breaks between",value:"3  15m"},{label:"Longest stretch",value:"2h 30m"}]},{title:"Weather",icon:W0,value:"Pressure drop",subtitle:"-12 hPa in 6h",trend:"down",trendValue:"Significant change",quality:"warning",details:[{label:"Start pressure",value:"1013 hPa"},{label:"End pressure",value:"1001 hPa"},{label:"Temperature",value:"18C  14C"}]}],c=[{label:"Low HRV  Higher risk",significance:"p<0.05"},{label:"Poor sleep  Higher risk",significance:"p<0.01"},{label:"Pressure drop  Attacks",significance:"p<0.05"},{label:"Long screen time  Triggers",significance:"p<0.1"}],l=()=>t.toLocaleDateString("en-US",{weekday:"long",month:"long",day:"numeric",year:"numeric"}),p=w=>{switch(w){case"up":return e.jsx(Ms,{className:"w-4 h-4"});case"down":return e.jsx(sa,{className:"w-4 h-4"});default:return e.jsx(ud,{className:"w-4 h-4"})}},f=w=>{switch(w){case"good":return"text-success";case"warning":return"text-warning";case"critical":return"text-critical";default:return"text-muted-foreground"}},b=w=>{switch(w){case"good":return"bg-success/10";case"warning":return"bg-warning/10";case"critical":return"bg-critical/10";default:return"bg-muted"}};return e.jsxs("div",{className:"min-h-screen bg-background",children:[e.jsx("div",{className:"border-b border-border bg-card sticky top-0 z-10",children:e.jsxs("div",{className:"px-6 pt-6 pb-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("button",{onClick:s,className:"flex items-center justify-center w-11 h-11 rounded-lg hover:bg-muted transition-colors","aria-label":"Go back",style:{borderRadius:"8px"},children:e.jsx(Fr,{className:"w-6 h-6"})}),n&&e.jsxs(fe,{onClick:n,variant:"outline",size:"sm",className:"gap-2",style:{borderRadius:"8px"},children:[e.jsx(ri,{className:"w-4 h-4"}),"Export PDF"]})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("h1",{className:"text-h1 mb-1",children:l()}),e.jsx("p",{className:"text-label text-muted-foreground",children:"Day details & insights"})]})]})}),e.jsxs("div",{className:"px-6 py-6 pb-24 space-y-6",children:[e.jsxs("div",{className:"rounded-xl border border-border bg-card p-6",style:{borderRadius:"12px"},children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("h2",{className:"text-h2 mb-1",children:"Prediction over 24h"}),e.jsx("p",{className:"text-label text-muted-foreground",children:"Migraine risk throughout the day"})]}),e.jsxs("div",{className:"relative",children:[e.jsxs("div",{className:"flex items-center gap-4 mb-3",children:[e.jsxs("div",{className:"flex flex-col items-end text-label text-muted-foreground w-12 space-y-4",children:[e.jsx("span",{children:"100%"}),e.jsx("span",{children:"50%"}),e.jsx("span",{children:"0%"})]}),e.jsx("div",{className:"flex-1 overflow-hidden max-w-full",style:{aspectRatio:"280/120"},children:e.jsx(Fp,{data:d,width:280,height:120,color:"#EF4444"})})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-12"})," ",e.jsxs("div",{className:"flex-1 flex justify-between text-label text-muted-foreground",children:[e.jsx("span",{children:"12am"}),e.jsx("span",{children:"6am"}),e.jsx("span",{children:"12pm"}),e.jsx("span",{children:"6pm"}),e.jsx("span",{children:"12am"})]})]})]}),e.jsxs("div",{className:"mt-4 p-3 rounded-lg bg-critical/10 flex items-start gap-3",style:{borderRadius:"8px"},children:[e.jsx(rt,{className:"w-5 h-5 text-critical flex-shrink-0 mt-0.5"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-body text-critical",children:"Peak risk at 12:00 PM (78%)"}),e.jsx("p",{className:"text-label text-muted-foreground",children:"Consider taking preventive measures during this window"})]})]})]}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-h2 mb-4",children:"Health metrics"}),e.jsx("div",{className:"space-y-3",children:h.map((w,x)=>e.jsxs("div",{className:"rounded-xl border border-border bg-card p-5",style:{borderRadius:"12px"},children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:`w-10 h-10 rounded-lg ${b(w.quality)} flex items-center justify-center`,style:{borderRadius:"8px"},children:e.jsx(w.icon,{className:`w-5 h-5 ${f(w.quality)}`})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-body",children:w.title}),e.jsx("p",{className:"text-label text-muted-foreground",children:w.subtitle})]})]}),e.jsx("div",{className:"text-right",children:e.jsx("p",{className:`text-h2 ${f(w.quality)}`,children:w.value})})]}),w.trend&&w.trendValue&&e.jsxs("div",{className:`flex items-center gap-2 mb-4 px-3 py-2 rounded-lg ${b(w.quality)}`,style:{borderRadius:"8px"},children:[p(w.trend),e.jsx("span",{className:`text-label ${f(w.quality)}`,children:w.trendValue})]}),w.details&&w.details.length>0&&e.jsx("div",{className:"space-y-2 pt-4 border-t border-border",children:w.details.map((g,v)=>e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-label text-muted-foreground",children:g.label}),e.jsx("span",{className:"text-body",children:g.value})]},v))})]},x))})]}),e.jsxs("div",{className:"rounded-xl border border-border bg-card p-6",style:{borderRadius:"12px"},children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("h2",{className:"text-h2 mb-1",children:"Correlations"}),e.jsx("p",{className:"text-label text-muted-foreground",children:"Statistical relationships in your data"})]}),e.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:c.map((w,x)=>e.jsxs("div",{className:"px-4 py-2 rounded-full bg-primary/10 border border-primary/20 flex items-center gap-2",style:{borderRadius:"24px"},children:[e.jsx("span",{className:"text-label text-primary",children:w.label}),e.jsxs("span",{className:"text-label text-primary/60",children:["(",w.significance,")"]})]},x))}),e.jsxs(fe,{variant:"outline",className:"w-full h-11 rounded-lg",style:{borderRadius:"8px"},onClick:()=>a(!i),children:[e.jsx(rt,{className:"w-4 h-4 mr-2"}),i?"Hide methodology":"See methodology"]}),i&&e.jsxs("div",{className:"mt-4 p-4 rounded-lg bg-muted space-y-3 animate-in fade-in slide-in-from-top-2 duration-200",style:{borderRadius:"8px"},children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-body mb-1",children:"Statistical significance"}),e.jsx("p",{className:"text-label text-muted-foreground",children:"p-values indicate the probability that the correlation occurred by chance. Lower values mean stronger evidence."})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-body mb-1",children:"Interpretation"}),e.jsxs("ul",{className:"text-label text-muted-foreground space-y-1 list-disc list-inside",children:[e.jsx("li",{children:"p < 0.01: Very strong evidence"}),e.jsx("li",{children:"p < 0.05: Strong evidence"}),e.jsx("li",{children:"p < 0.1: Moderate evidence"})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-body mb-1",children:"Data source"}),e.jsx("p",{className:"text-label text-muted-foreground",children:"Correlations are calculated from your last 90 days of tracked data using Pearson correlation coefficients."})]})]})]}),e.jsxs(fe,{className:"w-full h-14 rounded-lg",style:{borderRadius:"8px"},onClick:()=>alert("Add note functionality"),children:[e.jsx(ri,{className:"w-5 h-5 mr-2"}),"Add note"]})]})]})}const Fl="https://corsproxy.io/?";function Bp(t,r){const s=[],n=t.split(/\r?\n/);let i=null;const a=new Date(r);a.setHours(0,0,0,0);const d=new Date(r);d.setHours(23,59,59,999),console.log("[parseIcsData] Looking for events on:",r.toDateString()),console.log("[parseIcsData] Date range (local):",a.toString(),"to",d.toString());for(let h=0;h<n.length;h++){let c=n[h].trim();for(;h+1<n.length&&n[h+1].startsWith(" ");)h++,c+=n[h].trim();if(c==="BEGIN:VEVENT")i={id:"",title:"",start:"",end:""};else if(c==="END:VEVENT"&&i){if(i.start&&i.end){const l=new Date(i.start),p=new Date(i.end);console.log("[parseIcsData] Event:",i.title),console.log("[parseIcsData]   Start:",l.toString()),console.log("[parseIcsData]   End:",p.toString()),console.log("[parseIcsData]   Target range:",a.toString(),"to",d.toString()),l<=d&&p>=a?(console.log("[parseIcsData]  Event matches target date"),s.push(i)):console.log("[parseIcsData]  Event does not match target date")}i=null}else if(i){const[l,...p]=c.split(":"),f=p.join(":");l.startsWith("DTSTART")?(i.start=Oi(f),i.id=i.id||f):l.startsWith("DTEND")?i.end=Oi(f):l==="SUMMARY"?i.title=f.replace(/\\n/g," ").replace(/\\,/g,","):l==="LOCATION"?i.location=f.replace(/\\n/g," ").replace(/\\,/g,","):l==="DESCRIPTION"?i.description=f.replace(/\\n/g,`
`).replace(/\\,/g,","):l==="UID"&&(i.id=f)}}return s}function Oi(t){const r=t.replace(/[^0-9TZ]/g,"");if(r.length===8)return`${r.slice(0,4)}-${r.slice(4,6)}-${r.slice(6,8)}T00:00:00`;if(r.includes("T")){const[s,n]=r.split("T"),i=n.endsWith("Z"),a=n.replace("Z","");return`${s.slice(0,4)}-${s.slice(4,6)}-${s.slice(6,8)}T${a.slice(0,2)}:${a.slice(2,4)}:${a.slice(4,6)}${i?"Z":""}`}return t}async function Hp(t){const r=t.replace(/^webcal:\/\//,"https://");try{const s=new URL(r);if(!r.endsWith(".ics"))return{valid:!1,error:"URL must end with .ics"}}catch{return{valid:!1,error:"Invalid URL format"}}try{const s=Fl+encodeURIComponent(r),n=await fetch(s,{method:"HEAD",headers:{Accept:"text/calendar"}});return n.ok?{valid:!0}:{valid:!1,error:`Calendar URL returned ${n.status}`}}catch{return{valid:!1,error:"Cannot access calendar URL. Please check the URL is public and accessible."}}}class zp{async saveCalendarConnection(r,s){const n=await Hp(s);if(!n.valid)throw new Error(n.error||"Invalid calendar URL");const i=s.replace(/^webcal:\/\//,"https://"),a=await Mt.post("/user/calendar",{userId:r,calendarUrl:i});if(a.error){if(a.status===0||a.status>=500)return console.warn("Backend not available, using local storage"),localStorage.setItem(`calendar_${r}`,i),localStorage.setItem(`calendar_${r}_verified`,new Date().toISOString()),{status:"success",userId:r,lastVerifiedAt:new Date().toISOString(),message:"Calendar connected (local mode)"};throw new Error(a.error)}return a.data}async getCalendarStatus(r){const s=await Mt.get(`/user/calendar/${r}`);if(s.error){const n=localStorage.getItem(`calendar_${r}`),i=localStorage.getItem(`calendar_${r}_verified`);return n?{connected:!0,userId:r,lastVerifiedAt:i||void 0}:{connected:!1,userId:r}}return s.data}async deleteCalendarConnection(r){const s=await Mt.delete(`/user/calendar/${r}`);if(s.error)throw new Error(s.error)}async generateContext(r,s){const n=await Mt.post("/aline/generate-context",{userId:r,priors:s});if(n.error)throw new Error(n.error);return n.data}async getCalendarEvents(r,s){try{console.log("[CalendarService] Getting events for userId:",r,"date:",s);let n=localStorage.getItem(`calendar_${r}`);if(console.log("[CalendarService] Calendar URL from localStorage:",n),!n){const c=await Mt.get(`/user/calendar/${r}/url`);c.data?.calendarUrl&&(n=c.data.calendarUrl,console.log("[CalendarService] Calendar URL from backend:",n))}if(!n)return console.log("[CalendarService] No calendar URL found, using mock data"),this.generateMockEvents(s);console.log("[CalendarService] Fetching ICS from:",n);const i=Fl+encodeURIComponent(n),a=await fetch(i);if(!a.ok)return console.error("[CalendarService] Failed to fetch calendar:",a.status),this.generateMockEvents(s);const d=await a.text();console.log("[CalendarService] ICS data length:",d.length,"chars"),console.log("[CalendarService] ICS preview:",d.substring(0,200));const h=Bp(d,s);return console.log(`[CalendarService] Parsed ${h.length} real events for ${s.toDateString()}`),h.length>0&&console.log("[CalendarService] First event:",h[0]),h}catch(n){return console.error("[CalendarService] Error fetching calendar events:",n),this.generateMockEvents(s)}}generateMockEvents(r){const s=r.toISOString().split("T")[0],n=r.getDay();if(n===0||n===6)return[{id:`${s}-1`,title:"Morning Yoga",start:`${s}T08:00:00`,end:`${s}T09:00:00`,location:"Home"},{id:`${s}-2`,title:"Family Brunch",start:`${s}T11:00:00`,end:`${s}T13:00:00`,location:"Cafe Downtown",attendees:4}];const i=[{id:`${s}-1`,title:"Team Standup",start:`${s}T09:00:00`,end:`${s}T09:30:00`,location:"Zoom",attendees:8},{id:`${s}-2`,title:"Project Planning",start:`${s}T10:00:00`,end:`${s}T11:30:00`,location:"Conference Room B",attendees:5}];return(n===1||n===3||n===5)&&i.push({id:`${s}-3`,title:"Client Meeting",start:`${s}T14:00:00`,end:`${s}T15:00:00`,location:"Zoom",attendees:3}),(n===2||n===4)&&i.push({id:`${s}-4`,title:"Gym Workout",start:`${s}T18:00:00`,end:`${s}T19:00:00`,location:"Fitness Center"}),i}getProviderInstructions(r){const s={google:{title:"Google Calendar",steps:["Open Google Calendar on your computer","Click Settings (gear icon)  Settings","Select the calendar you want to connect",'Scroll to "Integrate calendar"','Copy the "Secret address in iCal format"',"Paste it below"]},outlook:{title:"Outlook / Office 365",steps:["Open Outlook Calendar on the web","Click Settings  View all Outlook settings","Go to Calendar  Shared calendars",'Under "Publish a calendar", select your calendar','Click "Publish"',"Copy the ICS link","Paste it below"]},apple:{title:"Apple iCloud Calendar",steps:["Open the Calendar app on your Mac","Right-click the calendar you want to share",'Select "Share Calendar"','Check "Public Calendar"',"Copy the link provided","Paste it below"]},other:{title:"Other Calendar (Manual)",steps:["Find your calendar's sharing or export settings",'Look for "ICS", "iCal", or "WebCal" URL',"The URL should end with .ics or start with webcal://","Copy the URL","Paste it below"]}};return s[r]||s.other}}const nr=new zp;function qp({userId:t,date:r=new Date,compact:s=!1,onNavigateToProfile:n}){const[i,a]=k.useState([]),[d,h]=k.useState(!0),[c,l]=k.useState(null),[p,f]=k.useState(!1);k.useEffect(()=>{console.log("[CalendarEventsDisplay] Checking localStorage for userId:",t),console.log("[CalendarEventsDisplay] calendar_demo-user:",localStorage.getItem("calendar_demo-user")),console.log("[CalendarEventsDisplay] All localStorage keys:",Object.keys(localStorage))},[]),k.useEffect(()=>{b()},[t,r]);const b=async()=>{h(!0),l(null);try{const g=await nr.getCalendarStatus(t);if(console.log("Calendar status:",g),f(g.connected),!g.connected){h(!1);return}console.log("Fetching events for date:",r);const v=await nr.getCalendarEvents(t,r);console.log("Received events:",v),a(v),h(!1)}catch(g){console.error("Calendar events error:",g),l(g instanceof Error?g.message:"Failed to load calendar events"),h(!1)}},w=g=>new Date(g).toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0}),x=(g,v)=>{const N=new Date(g),_=new Date(v).getTime()-N.getTime(),I=Math.floor(_/(1e3*60*60)),M=Math.floor(_%(1e3*60*60)/(1e3*60));return I>0?`${I}h ${M}m`:`${M}m`};return d?e.jsx("div",{className:"flex items-center justify-center p-8",children:e.jsx(Mn,{className:"w-6 h-6 animate-spin text-primary"})}):p?c?e.jsx("div",{className:"p-4 bg-destructive/10 rounded-lg border border-destructive/20",children:e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Ps,{className:"w-5 h-5 text-destructive mt-0.5"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-destructive font-medium",children:"Failed to load events"}),e.jsx("p",{className:"text-xs text-destructive/80 mt-1",children:c})]})]})}):i.length===0?e.jsxs("div",{className:"p-6 text-center bg-muted/30 rounded-lg border border-border",children:[e.jsx($e,{className:"w-8 h-8 text-muted-foreground mx-auto mb-2"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"No events scheduled for this day"})]}):s?e.jsx("div",{className:"space-y-2",children:i.map(g=>e.jsx("div",{className:"p-2.5 md:p-3 bg-card rounded-lg border border-border hover:bg-muted/50 transition-colors",children:e.jsx("div",{className:"flex items-start justify-between gap-2",children:e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-xs md:text-sm font-medium text-foreground truncate mb-1",children:g.title}),e.jsxs("div",{className:"flex items-center gap-2 md:gap-3 text-xs text-muted-foreground flex-wrap",children:[e.jsxs("span",{className:"flex items-center gap-1 flex-shrink-0",children:[e.jsx(dr,{className:"w-3 h-3"}),w(g.start)]}),g.location&&e.jsxs("span",{className:"flex items-center gap-1 truncate",children:[e.jsx(ys,{className:"w-3 h-3 flex-shrink-0"}),e.jsx("span",{className:"truncate",children:g.location})]})]})]})})},g.id))}):e.jsxs("div",{className:"space-y-2 md:space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between mb-1 md:mb-2",children:[e.jsxs("h3",{className:"text-sm md:text-label font-medium text-foreground flex items-center gap-2",children:[e.jsx($e,{className:"w-3.5 h-3.5 md:w-4 md:h-4"}),"Calendar Events"]}),e.jsxs("span",{className:"text-xs text-muted-foreground",children:[i.length," ",i.length===1?"event":"events"]})]}),e.jsx("div",{className:"space-y-2 md:space-y-3",children:i.map(g=>e.jsx("div",{className:"p-3 md:p-4 bg-card rounded-lg border border-border hover:shadow-sm transition-shadow",children:e.jsxs("div",{className:"flex items-start gap-2.5 md:gap-3",children:[e.jsx("div",{className:"flex-shrink-0 w-8 h-8 md:w-10 md:h-10 bg-primary/10 rounded-lg flex items-center justify-center",children:e.jsx($e,{className:"w-4 h-4 md:w-5 md:h-5 text-primary"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h4",{className:"text-sm md:text-base font-medium text-foreground mb-1.5 md:mb-2",children:g.title}),e.jsxs("div",{className:"space-y-1 md:space-y-1.5",children:[e.jsxs("div",{className:"flex items-center gap-2 text-xs md:text-sm text-muted-foreground",children:[e.jsx(dr,{className:"w-3.5 h-3.5 md:w-4 md:h-4 flex-shrink-0"}),e.jsxs("span",{children:[w(g.start)," - ",w(g.end)]}),e.jsxs("span",{className:"text-xs hidden md:inline",children:["(",x(g.start,g.end),")"]})]}),g.location&&e.jsxs("div",{className:"flex items-center gap-2 text-xs md:text-sm text-muted-foreground",children:[e.jsx(ys,{className:"w-3.5 h-3.5 md:w-4 md:h-4 flex-shrink-0"}),e.jsx("span",{className:"truncate",children:g.location})]}),g.attendees&&g.attendees>1&&e.jsxs("div",{className:"flex items-center gap-2 text-xs md:text-sm text-muted-foreground",children:[e.jsx(Ed,{className:"w-3.5 h-3.5 md:w-4 md:h-4 flex-shrink-0"}),e.jsxs("span",{children:[g.attendees," attendees"]})]})]})]})]})},g.id))})]}):e.jsx("div",{className:"p-6 bg-muted/50 rounded-lg border border-border",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx($e,{className:"w-5 h-5 text-muted-foreground mt-0.5"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-label font-medium text-foreground mb-1",children:"No Calendar Connected"}),e.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:"Connect your calendar to see upcoming events and get better predictions."}),e.jsxs("button",{onClick:n,className:"text-sm text-primary font-medium hover:underline flex items-center gap-1",children:["Connect Calendar",e.jsx(ta,{className:"w-3 h-3"})]})]})]})})}function Up({onBack:t,onNavigate:r,onExportPDF:s}){const[n,i]=k.useState(new Date(2025,9)),[a,d]=k.useState(16),[h,c]=k.useState(["predictions","attacks","triggers"]),[l,p]=k.useState(!1),[f,b]=k.useState(!1),{loading:w,calendarDays:x}=Cp(n.getFullYear(),n.getMonth()),g={};w||x.forEach(R=>{g[R.day]={day:R.day,risk:R.risk,hasAttack:R.hasAttack,triggers:R.hasAttack?["Based on patterns"]:[],sleep:7,hrv:55,screenTime:4.5,entries:R.hasAttack?[{time:"09:00",type:"attack",title:"Migraine attack",details:"Predicted event"}]:[]}});const v=g,N=a?v[a]:null,j=N!=null,_=new Date(n.getFullYear(),n.getMonth()+1,0).getDate(),I=new Date(n.getFullYear(),n.getMonth(),1).getDay(),M=n.toLocaleDateString("en-US",{month:"long",year:"numeric"}),C=R=>{c(U=>U.includes(R)?U.filter(H=>H!==R):[...U,R])},P=R=>{switch(R){case"low":return"#10B981";case"medium":return"#F59E0B";case"high":return"#EF4444";default:return"transparent"}},E=R=>{if(!R)return!0;const U=h;if(U.length===0)return!0;let H=!1;return U.includes("predictions")&&R.risk&&(H=!0),U.includes("attacks")&&R.hasAttack&&(H=!0),U.includes("triggers")&&R.triggers&&R.triggers.length>0&&(H=!0),H},L=R=>{const U=new Date(n);U.setMonth(U.getMonth()+R),i(U),d(null)};if(w)return e.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:e.jsxs("div",{className:"text-center space-y-4",children:[e.jsx("div",{className:"w-16 h-16 border-4 border-primary border-t-transparent rounded-full animate-spin mx-auto"}),e.jsx("p",{className:"text-label text-muted-foreground",children:"Loading calendar..."})]})});const $=Array.from({length:42},(R,U)=>{const H=U-I+1;return H>0&&H<=_?H:null});return l&&a?e.jsx($p,{date:new Date(n.getFullYear(),n.getMonth(),a),dayNumber:a,onBack:()=>p(!1),onExportPDF:s}):e.jsxs("div",{className:"min-h-screen bg-background pb-24",children:[e.jsx("div",{className:"border-b border-border bg-card sticky top-0 z-10",children:e.jsx("div",{className:"px-4 md:px-6 pt-4 md:pt-6 pb-3 md:pb-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("button",{onClick:t,className:"flex items-center justify-center w-10 h-10 md:w-11 md:h-11 rounded-lg hover:bg-muted transition-colors","aria-label":"Go back",style:{borderRadius:"8px"},children:e.jsx(Fr,{className:"w-5 h-5 md:w-6 md:h-6"})}),e.jsx("h1",{className:"text-h2 absolute left-1/2 -translate-x-1/2",children:"Diary"}),e.jsx("div",{className:"w-10 md:w-11"})," "]})})}),e.jsx("div",{className:"px-4 md:px-6 py-3 md:py-4 border-b border-border bg-card",children:e.jsxs("div",{className:"flex items-center gap-2 overflow-x-auto pb-1",children:[e.jsx(Cn,{label:"Predictions",selected:h.includes("predictions"),onToggle:()=>C("predictions")}),e.jsx(Cn,{label:"Attacks",selected:h.includes("attacks"),onToggle:()=>C("attacks")}),e.jsx(Cn,{label:"Triggers",selected:h.includes("triggers"),onToggle:()=>C("triggers")})]})}),e.jsxs("div",{className:"lg:grid lg:grid-cols-2 lg:gap-6 lg:px-6 lg:py-6",children:[e.jsxs("div",{className:"px-4 md:px-6 lg:px-0 py-4 md:py-6 lg:py-0",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4 md:mb-6",children:[e.jsx("button",{onClick:()=>L(-1),className:"flex items-center justify-center w-9 h-9 md:w-10 md:h-10 rounded-lg hover:bg-muted transition-colors","aria-label":"Previous month",style:{borderRadius:"8px"},children:e.jsx(Fr,{className:"w-4 h-4 md:w-5 md:h-5"})}),e.jsx("h2",{className:"text-lg md:text-h2 font-semibold",children:M}),e.jsx("button",{onClick:()=>L(1),className:"flex items-center justify-center w-9 h-9 md:w-10 md:h-10 rounded-lg hover:bg-muted transition-colors","aria-label":"Next month",style:{borderRadius:"8px"},children:e.jsx(et,{className:"w-4 h-4 md:w-5 md:h-5"})})]}),e.jsxs("div",{className:"grid grid-cols-7 gap-1.5 md:gap-2 lg:gap-3",style:{display:"grid",gridTemplateColumns:"repeat(7, minmax(0, 1fr))",gap:"0.375rem"},children:[["S","M","T","W","T","F","S"].map((R,U)=>e.jsx("div",{className:"text-center text-xs md:text-label text-muted-foreground py-1 md:py-2",children:R},U)),$.map((R,U)=>{const H=R?v[R]:void 0,q=E(H),G=R===a,W=R===14,Q=H&&(H.hasAttack||H.entries?.length||H.sleep||H.hrv);return e.jsx("button",{onClick:()=>R&&d(R),disabled:!R,className:`
                    relative aspect-square flex flex-col items-center justify-center rounded-lg
                    transition-all duration-200 min-h-[48px] md:min-h-[56px] lg:min-h-[64px]
                    text-sm md:text-base
                    ${R?"":"invisible"}
                    ${G?"bg-primary text-primary-foreground ring-2 ring-primary ring-offset-2 ring-offset-background":""}
                    ${!G&&Q?"bg-primary/10 hover:bg-primary/20":""}
                    ${!G&&!Q&&R?"hover:bg-muted active:scale-95":""}
                    ${!q&&R?"opacity-30":""}
                    ${W&&!G?"ring-2 ring-primary/30":""}
                  `,style:{borderRadius:"8px"},"aria-label":R?`Day ${R}`:void 0,children:R&&e.jsxs(e.Fragment,{children:[H?.hasAttack&&e.jsx("div",{className:"absolute top-1 left-1 w-2 h-2 md:w-2.5 md:h-2.5 bg-critical rounded-full"}),e.jsx("span",{className:"font-medium",children:R}),e.jsxs("div",{className:"absolute bottom-1 md:bottom-1.5 left-1/2 -translate-x-1/2 flex items-center gap-0.5 md:gap-1",children:[H?.risk&&h.includes("predictions")&&e.jsx("div",{className:"w-1.5 h-1.5 md:w-2 md:h-2 rounded-full",style:{backgroundColor:P(H.risk)},"aria-label":`${H.risk} risk`}),H?.hasAttack&&h.includes("attacks")&&e.jsx("div",{className:`w-3 h-1.5 md:w-4 md:h-2 rounded-full ${G?"bg-primary-foreground/60":"bg-critical"}`,"aria-label":"Attack logged"})]})]})},U)})]})]}),a&&e.jsx("div",{className:"px-4 md:px-6 lg:px-0 pb-6 lg:pb-0",children:e.jsx("div",{className:"rounded-xl border border-border bg-card p-4 md:p-6 lg:sticky lg:top-24",style:{borderRadius:"12px"},children:j?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex items-start md:items-center justify-between mb-4 md:mb-6 gap-2",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("h3",{className:"text-lg md:text-h2 font-semibold truncate",children:[n.toLocaleDateString("en-US",{month:"long"})," ",a]}),e.jsx("p",{className:"text-sm md:text-label text-muted-foreground",children:new Date(n.getFullYear(),n.getMonth(),a).toLocaleDateString("en-US",{weekday:"long"})})]}),N?.risk&&e.jsxs("div",{className:"flex items-center gap-1.5 md:gap-2 flex-shrink-0",children:[e.jsx(ei,{className:`w-2.5 h-2.5 md:w-3 md:h-3 fill-current ${N.risk==="low"?"text-success":N.risk==="medium"?"text-warning":"text-critical"}`}),e.jsxs("span",{className:"text-xs md:text-label capitalize",children:[N.risk," risk"]})]})]}),(N?.sleep||N?.hrv||N?.screenTime)&&e.jsxs("div",{className:"mb-4 md:mb-6 pb-4 md:pb-6 border-b border-border",children:[e.jsx("h4",{className:"text-sm md:text-label text-muted-foreground mb-3 md:mb-4",children:"Health metrics"}),e.jsxs("div",{className:"grid grid-cols-3 gap-2 md:gap-4",children:[N?.sleep&&e.jsxs("div",{className:"space-y-1.5 md:space-y-2",children:[e.jsxs("div",{className:"flex flex-col md:flex-row items-start md:items-center gap-1.5 md:gap-2",children:[e.jsx("div",{className:"w-7 h-7 md:w-8 md:h-8 rounded-lg bg-primary/10 flex items-center justify-center flex-shrink-0",children:e.jsx(xt,{className:"w-3.5 h-3.5 md:w-4 md:h-4 text-primary"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-xs md:text-label text-muted-foreground",children:"Sleep"}),e.jsxs("p",{className:"text-sm md:text-body font-medium",children:[N.sleep,"h"]})]})]}),e.jsx("div",{className:"h-1 bg-muted rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full bg-primary rounded-full",style:{width:`${Math.min(N.sleep/10*100,100)}%`}})})]}),N?.hrv&&e.jsxs("div",{className:"space-y-1.5 md:space-y-2",children:[e.jsxs("div",{className:"flex flex-col md:flex-row items-start md:items-center gap-1.5 md:gap-2",children:[e.jsx("div",{className:"w-7 h-7 md:w-8 md:h-8 rounded-lg bg-success/10 flex items-center justify-center flex-shrink-0",children:e.jsx(tt,{className:"w-3.5 h-3.5 md:w-4 md:h-4 text-success"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-xs md:text-label text-muted-foreground",children:"HRV"}),e.jsxs("p",{className:"text-sm md:text-body font-medium",children:[N.hrv,"ms"]})]})]}),e.jsx("div",{className:"h-1 bg-muted rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full bg-success rounded-full",style:{width:`${Math.min(N.hrv/100*100,100)}%`}})})]}),N?.screenTime&&e.jsxs("div",{className:"space-y-1.5 md:space-y-2",children:[e.jsxs("div",{className:"flex flex-col md:flex-row items-start md:items-center gap-1.5 md:gap-2",children:[e.jsx("div",{className:"w-7 h-7 md:w-8 md:h-8 rounded-lg bg-warning/10 flex items-center justify-center flex-shrink-0",children:e.jsx(ra,{className:"w-3.5 h-3.5 md:w-4 md:h-4 text-warning"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-xs md:text-label text-muted-foreground",children:"Screen"}),e.jsxs("p",{className:"text-sm md:text-body font-medium",children:[N.screenTime,"h"]})]})]}),e.jsx("div",{className:"h-1 bg-muted rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full bg-warning rounded-full",style:{width:`${Math.min(N.screenTime/12*100,100)}%`}})})]})]})]}),N?.entries&&N.entries.length>0&&e.jsxs("div",{className:"mb-4 md:mb-6 pb-4 md:pb-6 border-b border-border",children:[e.jsx("h4",{className:"text-sm md:text-label text-muted-foreground mb-3 md:mb-4",children:"Timeline"}),e.jsx("div",{className:"space-y-2.5 md:space-y-3",children:N.entries.map((R,U)=>e.jsxs("div",{className:"flex items-start gap-2.5 md:gap-3",children:[e.jsx("div",{className:"flex-shrink-0 w-7 h-7 md:w-8 md:h-8 rounded-full bg-muted flex items-center justify-center",children:R.type==="attack"?e.jsx(ks,{className:"w-3.5 h-3.5 md:w-4 md:h-4 text-critical"}):R.type==="medication"?e.jsx(md,{className:"w-3.5 h-3.5 md:w-4 md:h-4 text-primary"}):R.type==="trigger"?e.jsx(rt,{className:"w-3.5 h-3.5 md:w-4 md:h-4 text-warning"}):e.jsx(ei,{className:"w-3.5 h-3.5 md:w-4 md:h-4"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex flex-col md:flex-row md:items-baseline gap-0.5 md:gap-2 mb-1",children:[e.jsx("span",{className:"text-xs md:text-label text-muted-foreground",children:R.time}),e.jsx("span",{className:"text-sm md:text-body font-medium",children:R.title})]}),R.details&&e.jsx("p",{className:"text-xs md:text-label text-muted-foreground",children:R.details})]})]},U))})]}),e.jsx("div",{className:"mb-4 md:mb-6",children:e.jsx(qp,{userId:"demo-user",date:new Date(n.getFullYear(),n.getMonth(),a),compact:!0,onNavigateToProfile:()=>r?.("profile")})}),e.jsxs("div",{className:"flex gap-2 md:gap-3",children:[e.jsxs(fe,{className:"flex-1 h-10 md:h-12 rounded-lg text-sm md:text-base",style:{borderRadius:"8px"},onClick:()=>p(!0),children:[e.jsx("span",{className:"hidden md:inline",children:"View details"}),e.jsx("span",{className:"md:hidden",children:"Details"}),e.jsx(T0,{className:"w-3.5 h-3.5 md:w-4 md:h-4 ml-1.5 md:ml-2"})]}),e.jsx(fe,{variant:"outline",className:"h-10 md:h-12 rounded-lg px-3 md:px-4",style:{borderRadius:"8px"},onClick:()=>alert("Export PDF functionality"),children:e.jsx(Zi,{className:"w-3.5 h-3.5 md:w-4 md:h-4"})})]})]}):e.jsxs("div",{className:"text-center py-6 md:py-8",children:[e.jsx("div",{className:"w-12 h-12 md:w-16 md:h-16 rounded-full bg-muted mx-auto mb-3 md:mb-4 flex items-center justify-center",children:e.jsx($e,{className:"w-6 h-6 md:w-8 md:h-8 text-muted-foreground"})}),e.jsx("h3",{className:"text-lg md:text-h2 font-semibold mb-2",children:"No data for this day"}),e.jsx("p",{className:"text-sm md:text-body text-muted-foreground mb-4 md:mb-6 px-4",children:"Start tracking by logging an attack, symptom, or trigger"}),e.jsx(fe,{className:"h-10 md:h-12 rounded-lg text-sm md:text-base",style:{borderRadius:"8px"},onClick:()=>b(!0),children:"Add entry"})]})})}),!a&&e.jsx("div",{className:"px-4 md:px-6 lg:px-0 pb-6 lg:pb-0",children:e.jsxs("div",{className:"rounded-xl border border-border bg-card p-8 md:p-12 text-center lg:sticky lg:top-24",style:{borderRadius:"12px"},children:[e.jsx("div",{className:"w-12 h-12 md:w-16 md:h-16 rounded-full bg-muted mx-auto mb-3 md:mb-4 flex items-center justify-center",children:e.jsx($e,{className:"w-6 h-6 md:w-8 md:h-8 text-muted-foreground"})}),e.jsx("h3",{className:"text-lg md:text-h2 font-semibold mb-2",children:"Select a day"}),e.jsx("p",{className:"text-sm md:text-body text-muted-foreground px-4",children:"Tap a day on the calendar to view details"})]})})]}),e.jsx(Ur,{activeTab:"diary",onNavigate:r||(R=>R==="home"&&t?.())}),e.jsx(Al,{open:f,onOpenChange:b,initialDate:a?new Date(n.getFullYear(),n.getMonth(),a):void 0})]})}function Vp(t,r=[]){let s=[];function n(a,d){const h=k.createContext(d);h.displayName=a+"Context";const c=s.length;s=[...s,d];const l=f=>{const{scope:b,children:w,...x}=f,g=b?.[t]?.[c]||h,v=k.useMemo(()=>x,Object.values(x));return e.jsx(g.Provider,{value:v,children:w})};l.displayName=a+"Provider";function p(f,b){const w=b?.[t]?.[c]||h,x=k.useContext(w);if(x)return x;if(d!==void 0)return d;throw new Error(`\`${f}\` must be used within \`${a}\``)}return[l,p]}const i=()=>{const a=s.map(d=>k.createContext(d));return function(h){const c=h?.[t]||a;return k.useMemo(()=>({[`__scope${t}`]:{...h,[t]:c}}),[h,c])}};return i.scopeName=t,[n,Wp(i,...r)]}function Wp(...t){const r=t[0];if(t.length===1)return r;const s=()=>{const n=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(a){const d=n.reduce((h,{useScope:c,scopeName:l})=>{const f=c(a)[`__scope${l}`];return{...h,...f}},{});return k.useMemo(()=>({[`__scope${r.scopeName}`]:d}),[d])}};return s.scopeName=r.scopeName,s}var Gp=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],vo=Gp.reduce((t,r)=>{const s=f0(`Primitive.${r}`),n=k.forwardRef((i,a)=>{const{asChild:d,...h}=i,c=d?s:r;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),e.jsx(c,{...h,ref:a})});return n.displayName=`Primitive.${r}`,{...t,[r]:n}},{}),En={exports:{}},Tn={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Di;function Xp(){if(Di)return Tn;Di=1;var t=w0();function r(f,b){return f===b&&(f!==0||1/f===1/b)||f!==f&&b!==b}var s=typeof Object.is=="function"?Object.is:r,n=t.useState,i=t.useEffect,a=t.useLayoutEffect,d=t.useDebugValue;function h(f,b){var w=b(),x=n({inst:{value:w,getSnapshot:b}}),g=x[0].inst,v=x[1];return a(function(){g.value=w,g.getSnapshot=b,c(g)&&v({inst:g})},[f,w,b]),i(function(){return c(g)&&v({inst:g}),f(function(){c(g)&&v({inst:g})})},[f]),d(w),w}function c(f){var b=f.getSnapshot;f=f.value;try{var w=b();return!s(f,w)}catch{return!0}}function l(f,b){return b()}var p=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?l:h;return Tn.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:p,Tn}var Fi;function Yp(){return Fi||(Fi=1,En.exports=Xp()),En.exports}var Qp=Yp();function Kp(){return Qp.useSyncExternalStore(Jp,()=>!0,()=>!1)}function Jp(){return()=>{}}var ko="Avatar",[Zp]=Vp(ko),[em,$l]=Zp(ko),Bl=k.forwardRef((t,r)=>{const{__scopeAvatar:s,...n}=t,[i,a]=k.useState("idle");return e.jsx(em,{scope:s,imageLoadingStatus:i,onImageLoadingStatusChange:a,children:e.jsx(vo.span,{...n,ref:r})})});Bl.displayName=ko;var Hl="AvatarImage",zl=k.forwardRef((t,r)=>{const{__scopeAvatar:s,src:n,onLoadingStatusChange:i=()=>{},...a}=t,d=$l(Hl,s),h=tm(n,a),c=Kn(l=>{i(l),d.onImageLoadingStatusChange(l)});return Ve(()=>{h!=="idle"&&c(h)},[h,c]),h==="loaded"?e.jsx(vo.img,{...a,ref:r,src:n}):null});zl.displayName=Hl;var ql="AvatarFallback",Ul=k.forwardRef((t,r)=>{const{__scopeAvatar:s,delayMs:n,...i}=t,a=$l(ql,s),[d,h]=k.useState(n===void 0);return k.useEffect(()=>{if(n!==void 0){const c=window.setTimeout(()=>h(!0),n);return()=>window.clearTimeout(c)}},[n]),d&&a.imageLoadingStatus!=="loaded"?e.jsx(vo.span,{...i,ref:r}):null});Ul.displayName=ql;function $i(t,r){return t?r?(t.src!==r&&(t.src=r),t.complete&&t.naturalWidth>0?"loaded":"loading"):"error":"idle"}function tm(t,{referrerPolicy:r,crossOrigin:s}){const n=Kp(),i=k.useRef(null),a=n?(i.current||(i.current=new window.Image),i.current):null,[d,h]=k.useState(()=>$i(a,t));return Ve(()=>{h($i(a,t))},[a,t]),Ve(()=>{const c=f=>()=>{h(f)};if(!a)return;const l=c("loaded"),p=c("error");return a.addEventListener("load",l),a.addEventListener("error",p),r&&(a.referrerPolicy=r),typeof s=="string"&&(a.crossOrigin=s),()=>{a.removeEventListener("load",l),a.removeEventListener("error",p)}},[a,s,r]),d}var rm=Bl,sm=zl,nm=Ul;function om({className:t,...r}){return e.jsx(rm,{"data-slot":"avatar",className:ke("relative flex size-10 shrink-0 overflow-hidden rounded-full",t),...r})}function im({className:t,...r}){return e.jsx(sm,{"data-slot":"avatar-image",className:ke("aspect-square size-full",t),...r})}function am({className:t,...r}){return e.jsx(nm,{"data-slot":"avatar-fallback",className:ke("bg-muted flex size-full items-center justify-center rounded-full",t),...r})}const lm=ia("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function cm({className:t,variant:r,asChild:s=!1,...n}){const i=s?zi:"span";return e.jsx(i,{"data-slot":"badge",className:ke(lm({variant:r}),t),...n})}var dm=Object.defineProperty,As=Object.getOwnPropertySymbols,Vl=Object.prototype.hasOwnProperty,Wl=Object.prototype.propertyIsEnumerable,Bi=(t,r,s)=>r in t?dm(t,r,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[r]=s,Xn=(t,r)=>{for(var s in r||(r={}))Vl.call(r,s)&&Bi(t,s,r[s]);if(As)for(var s of As(r))Wl.call(r,s)&&Bi(t,s,r[s]);return t},Yn=(t,r)=>{var s={};for(var n in t)Vl.call(t,n)&&r.indexOf(n)<0&&(s[n]=t[n]);if(t!=null&&As)for(var n of As(t))r.indexOf(n)<0&&Wl.call(t,n)&&(s[n]=t[n]);return s};/**
 * @license QR Code generator library (TypeScript)
 * Copyright (c) Project Nayuki.
 * SPDX-License-Identifier: MIT
 */var Yt;(t=>{const r=class xe{constructor(c,l,p,f){if(this.version=c,this.errorCorrectionLevel=l,this.modules=[],this.isFunction=[],c<xe.MIN_VERSION||c>xe.MAX_VERSION)throw new RangeError("Version value out of range");if(f<-1||f>7)throw new RangeError("Mask value out of range");this.size=c*4+17;let b=[];for(let x=0;x<this.size;x++)b.push(!1);for(let x=0;x<this.size;x++)this.modules.push(b.slice()),this.isFunction.push(b.slice());this.drawFunctionPatterns();const w=this.addEccAndInterleave(p);if(this.drawCodewords(w),f==-1){let x=1e9;for(let g=0;g<8;g++){this.applyMask(g),this.drawFormatBits(g);const v=this.getPenaltyScore();v<x&&(f=g,x=v),this.applyMask(g)}}i(0<=f&&f<=7),this.mask=f,this.applyMask(f),this.drawFormatBits(f),this.isFunction=[]}static encodeText(c,l){const p=t.QrSegment.makeSegments(c);return xe.encodeSegments(p,l)}static encodeBinary(c,l){const p=t.QrSegment.makeBytes(c);return xe.encodeSegments([p],l)}static encodeSegments(c,l,p=1,f=40,b=-1,w=!0){if(!(xe.MIN_VERSION<=p&&p<=f&&f<=xe.MAX_VERSION)||b<-1||b>7)throw new RangeError("Invalid value");let x,g;for(x=p;;x++){const _=xe.getNumDataCodewords(x,l)*8,I=d.getTotalBits(c,x);if(I<=_){g=I;break}if(x>=f)throw new RangeError("Data too long")}for(const _ of[xe.Ecc.MEDIUM,xe.Ecc.QUARTILE,xe.Ecc.HIGH])w&&g<=xe.getNumDataCodewords(x,_)*8&&(l=_);let v=[];for(const _ of c){s(_.mode.modeBits,4,v),s(_.numChars,_.mode.numCharCountBits(x),v);for(const I of _.getData())v.push(I)}i(v.length==g);const N=xe.getNumDataCodewords(x,l)*8;i(v.length<=N),s(0,Math.min(4,N-v.length),v),s(0,(8-v.length%8)%8,v),i(v.length%8==0);for(let _=236;v.length<N;_^=253)s(_,8,v);let j=[];for(;j.length*8<v.length;)j.push(0);return v.forEach((_,I)=>j[I>>>3]|=_<<7-(I&7)),new xe(x,l,j,b)}getModule(c,l){return 0<=c&&c<this.size&&0<=l&&l<this.size&&this.modules[l][c]}getModules(){return this.modules}drawFunctionPatterns(){for(let p=0;p<this.size;p++)this.setFunctionModule(6,p,p%2==0),this.setFunctionModule(p,6,p%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);const c=this.getAlignmentPatternPositions(),l=c.length;for(let p=0;p<l;p++)for(let f=0;f<l;f++)p==0&&f==0||p==0&&f==l-1||p==l-1&&f==0||this.drawAlignmentPattern(c[p],c[f]);this.drawFormatBits(0),this.drawVersion()}drawFormatBits(c){const l=this.errorCorrectionLevel.formatBits<<3|c;let p=l;for(let b=0;b<10;b++)p=p<<1^(p>>>9)*1335;const f=(l<<10|p)^21522;i(f>>>15==0);for(let b=0;b<=5;b++)this.setFunctionModule(8,b,n(f,b));this.setFunctionModule(8,7,n(f,6)),this.setFunctionModule(8,8,n(f,7)),this.setFunctionModule(7,8,n(f,8));for(let b=9;b<15;b++)this.setFunctionModule(14-b,8,n(f,b));for(let b=0;b<8;b++)this.setFunctionModule(this.size-1-b,8,n(f,b));for(let b=8;b<15;b++)this.setFunctionModule(8,this.size-15+b,n(f,b));this.setFunctionModule(8,this.size-8,!0)}drawVersion(){if(this.version<7)return;let c=this.version;for(let p=0;p<12;p++)c=c<<1^(c>>>11)*7973;const l=this.version<<12|c;i(l>>>18==0);for(let p=0;p<18;p++){const f=n(l,p),b=this.size-11+p%3,w=Math.floor(p/3);this.setFunctionModule(b,w,f),this.setFunctionModule(w,b,f)}}drawFinderPattern(c,l){for(let p=-4;p<=4;p++)for(let f=-4;f<=4;f++){const b=Math.max(Math.abs(f),Math.abs(p)),w=c+f,x=l+p;0<=w&&w<this.size&&0<=x&&x<this.size&&this.setFunctionModule(w,x,b!=2&&b!=4)}}drawAlignmentPattern(c,l){for(let p=-2;p<=2;p++)for(let f=-2;f<=2;f++)this.setFunctionModule(c+f,l+p,Math.max(Math.abs(f),Math.abs(p))!=1)}setFunctionModule(c,l,p){this.modules[l][c]=p,this.isFunction[l][c]=!0}addEccAndInterleave(c){const l=this.version,p=this.errorCorrectionLevel;if(c.length!=xe.getNumDataCodewords(l,p))throw new RangeError("Invalid argument");const f=xe.NUM_ERROR_CORRECTION_BLOCKS[p.ordinal][l],b=xe.ECC_CODEWORDS_PER_BLOCK[p.ordinal][l],w=Math.floor(xe.getNumRawDataModules(l)/8),x=f-w%f,g=Math.floor(w/f);let v=[];const N=xe.reedSolomonComputeDivisor(b);for(let _=0,I=0;_<f;_++){let M=c.slice(I,I+g-b+(_<x?0:1));I+=M.length;const C=xe.reedSolomonComputeRemainder(M,N);_<x&&M.push(0),v.push(M.concat(C))}let j=[];for(let _=0;_<v[0].length;_++)v.forEach((I,M)=>{(_!=g-b||M>=x)&&j.push(I[_])});return i(j.length==w),j}drawCodewords(c){if(c.length!=Math.floor(xe.getNumRawDataModules(this.version)/8))throw new RangeError("Invalid argument");let l=0;for(let p=this.size-1;p>=1;p-=2){p==6&&(p=5);for(let f=0;f<this.size;f++)for(let b=0;b<2;b++){const w=p-b,g=(p+1&2)==0?this.size-1-f:f;!this.isFunction[g][w]&&l<c.length*8&&(this.modules[g][w]=n(c[l>>>3],7-(l&7)),l++)}}i(l==c.length*8)}applyMask(c){if(c<0||c>7)throw new RangeError("Mask value out of range");for(let l=0;l<this.size;l++)for(let p=0;p<this.size;p++){let f;switch(c){case 0:f=(p+l)%2==0;break;case 1:f=l%2==0;break;case 2:f=p%3==0;break;case 3:f=(p+l)%3==0;break;case 4:f=(Math.floor(p/3)+Math.floor(l/2))%2==0;break;case 5:f=p*l%2+p*l%3==0;break;case 6:f=(p*l%2+p*l%3)%2==0;break;case 7:f=((p+l)%2+p*l%3)%2==0;break;default:throw new Error("Unreachable")}!this.isFunction[l][p]&&f&&(this.modules[l][p]=!this.modules[l][p])}}getPenaltyScore(){let c=0;for(let b=0;b<this.size;b++){let w=!1,x=0,g=[0,0,0,0,0,0,0];for(let v=0;v<this.size;v++)this.modules[b][v]==w?(x++,x==5?c+=xe.PENALTY_N1:x>5&&c++):(this.finderPenaltyAddHistory(x,g),w||(c+=this.finderPenaltyCountPatterns(g)*xe.PENALTY_N3),w=this.modules[b][v],x=1);c+=this.finderPenaltyTerminateAndCount(w,x,g)*xe.PENALTY_N3}for(let b=0;b<this.size;b++){let w=!1,x=0,g=[0,0,0,0,0,0,0];for(let v=0;v<this.size;v++)this.modules[v][b]==w?(x++,x==5?c+=xe.PENALTY_N1:x>5&&c++):(this.finderPenaltyAddHistory(x,g),w||(c+=this.finderPenaltyCountPatterns(g)*xe.PENALTY_N3),w=this.modules[v][b],x=1);c+=this.finderPenaltyTerminateAndCount(w,x,g)*xe.PENALTY_N3}for(let b=0;b<this.size-1;b++)for(let w=0;w<this.size-1;w++){const x=this.modules[b][w];x==this.modules[b][w+1]&&x==this.modules[b+1][w]&&x==this.modules[b+1][w+1]&&(c+=xe.PENALTY_N2)}let l=0;for(const b of this.modules)l=b.reduce((w,x)=>w+(x?1:0),l);const p=this.size*this.size,f=Math.ceil(Math.abs(l*20-p*10)/p)-1;return i(0<=f&&f<=9),c+=f*xe.PENALTY_N4,i(0<=c&&c<=2568888),c}getAlignmentPatternPositions(){if(this.version==1)return[];{const c=Math.floor(this.version/7)+2,l=this.version==32?26:Math.ceil((this.version*4+4)/(c*2-2))*2;let p=[6];for(let f=this.size-7;p.length<c;f-=l)p.splice(1,0,f);return p}}static getNumRawDataModules(c){if(c<xe.MIN_VERSION||c>xe.MAX_VERSION)throw new RangeError("Version number out of range");let l=(16*c+128)*c+64;if(c>=2){const p=Math.floor(c/7)+2;l-=(25*p-10)*p-55,c>=7&&(l-=36)}return i(208<=l&&l<=29648),l}static getNumDataCodewords(c,l){return Math.floor(xe.getNumRawDataModules(c)/8)-xe.ECC_CODEWORDS_PER_BLOCK[l.ordinal][c]*xe.NUM_ERROR_CORRECTION_BLOCKS[l.ordinal][c]}static reedSolomonComputeDivisor(c){if(c<1||c>255)throw new RangeError("Degree out of range");let l=[];for(let f=0;f<c-1;f++)l.push(0);l.push(1);let p=1;for(let f=0;f<c;f++){for(let b=0;b<l.length;b++)l[b]=xe.reedSolomonMultiply(l[b],p),b+1<l.length&&(l[b]^=l[b+1]);p=xe.reedSolomonMultiply(p,2)}return l}static reedSolomonComputeRemainder(c,l){let p=l.map(f=>0);for(const f of c){const b=f^p.shift();p.push(0),l.forEach((w,x)=>p[x]^=xe.reedSolomonMultiply(w,b))}return p}static reedSolomonMultiply(c,l){if(c>>>8||l>>>8)throw new RangeError("Byte out of range");let p=0;for(let f=7;f>=0;f--)p=p<<1^(p>>>7)*285,p^=(l>>>f&1)*c;return i(p>>>8==0),p}finderPenaltyCountPatterns(c){const l=c[1];i(l<=this.size*3);const p=l>0&&c[2]==l&&c[3]==l*3&&c[4]==l&&c[5]==l;return(p&&c[0]>=l*4&&c[6]>=l?1:0)+(p&&c[6]>=l*4&&c[0]>=l?1:0)}finderPenaltyTerminateAndCount(c,l,p){return c&&(this.finderPenaltyAddHistory(l,p),l=0),l+=this.size,this.finderPenaltyAddHistory(l,p),this.finderPenaltyCountPatterns(p)}finderPenaltyAddHistory(c,l){l[0]==0&&(c+=this.size),l.pop(),l.unshift(c)}};r.MIN_VERSION=1,r.MAX_VERSION=40,r.PENALTY_N1=3,r.PENALTY_N2=3,r.PENALTY_N3=40,r.PENALTY_N4=10,r.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],r.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]],t.QrCode=r;function s(h,c,l){if(c<0||c>31||h>>>c)throw new RangeError("Value out of range");for(let p=c-1;p>=0;p--)l.push(h>>>p&1)}function n(h,c){return(h>>>c&1)!=0}function i(h){if(!h)throw new Error("Assertion error")}const a=class Me{constructor(c,l,p){if(this.mode=c,this.numChars=l,this.bitData=p,l<0)throw new RangeError("Invalid argument");this.bitData=p.slice()}static makeBytes(c){let l=[];for(const p of c)s(p,8,l);return new Me(Me.Mode.BYTE,c.length,l)}static makeNumeric(c){if(!Me.isNumeric(c))throw new RangeError("String contains non-numeric characters");let l=[];for(let p=0;p<c.length;){const f=Math.min(c.length-p,3);s(parseInt(c.substring(p,p+f),10),f*3+1,l),p+=f}return new Me(Me.Mode.NUMERIC,c.length,l)}static makeAlphanumeric(c){if(!Me.isAlphanumeric(c))throw new RangeError("String contains unencodable characters in alphanumeric mode");let l=[],p;for(p=0;p+2<=c.length;p+=2){let f=Me.ALPHANUMERIC_CHARSET.indexOf(c.charAt(p))*45;f+=Me.ALPHANUMERIC_CHARSET.indexOf(c.charAt(p+1)),s(f,11,l)}return p<c.length&&s(Me.ALPHANUMERIC_CHARSET.indexOf(c.charAt(p)),6,l),new Me(Me.Mode.ALPHANUMERIC,c.length,l)}static makeSegments(c){return c==""?[]:Me.isNumeric(c)?[Me.makeNumeric(c)]:Me.isAlphanumeric(c)?[Me.makeAlphanumeric(c)]:[Me.makeBytes(Me.toUtf8ByteArray(c))]}static makeEci(c){let l=[];if(c<0)throw new RangeError("ECI assignment value out of range");if(c<128)s(c,8,l);else if(c<16384)s(2,2,l),s(c,14,l);else if(c<1e6)s(6,3,l),s(c,21,l);else throw new RangeError("ECI assignment value out of range");return new Me(Me.Mode.ECI,0,l)}static isNumeric(c){return Me.NUMERIC_REGEX.test(c)}static isAlphanumeric(c){return Me.ALPHANUMERIC_REGEX.test(c)}getData(){return this.bitData.slice()}static getTotalBits(c,l){let p=0;for(const f of c){const b=f.mode.numCharCountBits(l);if(f.numChars>=1<<b)return 1/0;p+=4+b+f.bitData.length}return p}static toUtf8ByteArray(c){c=encodeURI(c);let l=[];for(let p=0;p<c.length;p++)c.charAt(p)!="%"?l.push(c.charCodeAt(p)):(l.push(parseInt(c.substring(p+1,p+3),16)),p+=2);return l}};a.NUMERIC_REGEX=/^[0-9]*$/,a.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+.\/:-]*$/,a.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:";let d=a;t.QrSegment=a})(Yt||(Yt={}));(t=>{(r=>{const s=class{constructor(i,a){this.ordinal=i,this.formatBits=a}};s.LOW=new s(0,1),s.MEDIUM=new s(1,0),s.QUARTILE=new s(2,3),s.HIGH=new s(3,2),r.Ecc=s})(t.QrCode||(t.QrCode={}))})(Yt||(Yt={}));(t=>{(r=>{const s=class{constructor(i,a){this.modeBits=i,this.numBitsCharCount=a}numCharCountBits(i){return this.numBitsCharCount[Math.floor((i+7)/17)]}};s.NUMERIC=new s(1,[10,12,14]),s.ALPHANUMERIC=new s(2,[9,11,13]),s.BYTE=new s(4,[8,16,16]),s.KANJI=new s(8,[8,10,12]),s.ECI=new s(7,[0,0,0]),r.Mode=s})(t.QrSegment||(t.QrSegment={}))})(Yt||(Yt={}));var or=Yt;/**
 * @license qrcode.react
 * Copyright (c) Paul O'Shannessy
 * SPDX-License-Identifier: ISC
 */var um={L:or.QrCode.Ecc.LOW,M:or.QrCode.Ecc.MEDIUM,Q:or.QrCode.Ecc.QUARTILE,H:or.QrCode.Ecc.HIGH},Gl=128,Xl="L",Yl="#FFFFFF",Ql="#000000",Kl=!1,Jl=1,hm=4,pm=0,mm=.1;function Zl(t,r=0){const s=[];return t.forEach(function(n,i){let a=null;n.forEach(function(d,h){if(!d&&a!==null){s.push(`M${a+r} ${i+r}h${h-a}v1H${a+r}z`),a=null;return}if(h===n.length-1){if(!d)return;a===null?s.push(`M${h+r},${i+r} h1v1H${h+r}z`):s.push(`M${a+r},${i+r} h${h+1-a}v1H${a+r}z`);return}d&&a===null&&(a=h)})}),s.join("")}function ec(t,r){return t.slice().map((s,n)=>n<r.y||n>=r.y+r.h?s:s.map((i,a)=>a<r.x||a>=r.x+r.w?i:!1))}function fm(t,r,s,n){if(n==null)return null;const i=t.length+s*2,a=Math.floor(r*mm),d=i/r,h=(n.width||a)*d,c=(n.height||a)*d,l=n.x==null?t.length/2-h/2:n.x*d,p=n.y==null?t.length/2-c/2:n.y*d,f=n.opacity==null?1:n.opacity;let b=null;if(n.excavate){let x=Math.floor(l),g=Math.floor(p),v=Math.ceil(h+l-x),N=Math.ceil(c+p-g);b={x,y:g,w:v,h:N}}const w=n.crossOrigin;return{x:l,y:p,h:c,w:h,excavation:b,opacity:f,crossOrigin:w}}function gm(t,r){return r!=null?Math.max(Math.floor(r),0):t?hm:pm}function tc({value:t,level:r,minVersion:s,includeMargin:n,marginSize:i,imageSettings:a,size:d,boostLevel:h}){let c=ce.useMemo(()=>{const x=(Array.isArray(t)?t:[t]).reduce((g,v)=>(g.push(...or.QrSegment.makeSegments(v)),g),[]);return or.QrCode.encodeSegments(x,um[r],s,void 0,void 0,h)},[t,r,s,h]);const{cells:l,margin:p,numCells:f,calculatedImageSettings:b}=ce.useMemo(()=>{let w=c.getModules();const x=gm(n,i),g=w.length+x*2,v=fm(w,d,x,a);return{cells:w,margin:x,numCells:g,calculatedImageSettings:v}},[c,d,a,n,i]);return{qrcode:c,margin:p,cells:l,numCells:f,calculatedImageSettings:b}}var xm=(function(){try{new Path2D().addPath(new Path2D)}catch{return!1}return!0})(),bm=ce.forwardRef(function(r,s){const n=r,{value:i,size:a=Gl,level:d=Xl,bgColor:h=Yl,fgColor:c=Ql,includeMargin:l=Kl,minVersion:p=Jl,boostLevel:f,marginSize:b,imageSettings:w}=n,g=Yn(n,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","marginSize","imageSettings"]),{style:v}=g,N=Yn(g,["style"]),j=w?.src,_=ce.useRef(null),I=ce.useRef(null),M=ce.useCallback(q=>{_.current=q,typeof s=="function"?s(q):s&&(s.current=q)},[s]),[C,P]=ce.useState(!1),{margin:E,cells:L,numCells:$,calculatedImageSettings:R}=tc({value:i,level:d,minVersion:p,boostLevel:f,includeMargin:l,marginSize:b,imageSettings:w,size:a});ce.useEffect(()=>{if(_.current!=null){const q=_.current,G=q.getContext("2d");if(!G)return;let W=L;const Q=I.current,F=R!=null&&Q!==null&&Q.complete&&Q.naturalHeight!==0&&Q.naturalWidth!==0;F&&R.excavation!=null&&(W=ec(L,R.excavation));const ne=window.devicePixelRatio||1;q.height=q.width=a*ne;const be=a/$*ne;G.scale(be,be),G.fillStyle=h,G.fillRect(0,0,$,$),G.fillStyle=c,xm?G.fill(new Path2D(Zl(W,E))):L.forEach(function(ye,_e){ye.forEach(function(we,pe){we&&G.fillRect(pe+E,_e+E,1,1)})}),R&&(G.globalAlpha=R.opacity),F&&G.drawImage(Q,R.x+E,R.y+E,R.w,R.h)}}),ce.useEffect(()=>{P(!1)},[j]);const U=Xn({height:a,width:a},v);let H=null;return j!=null&&(H=ce.createElement("img",{src:j,key:j,style:{display:"none"},onLoad:()=>{P(!0)},ref:I,crossOrigin:R?.crossOrigin})),ce.createElement(ce.Fragment,null,ce.createElement("canvas",Xn({style:U,height:a,width:a,ref:M,role:"img"},N)),H)});bm.displayName="QRCodeCanvas";var rc=ce.forwardRef(function(r,s){const n=r,{value:i,size:a=Gl,level:d=Xl,bgColor:h=Yl,fgColor:c=Ql,includeMargin:l=Kl,minVersion:p=Jl,boostLevel:f,title:b,marginSize:w,imageSettings:x}=n,g=Yn(n,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","title","marginSize","imageSettings"]),{margin:v,cells:N,numCells:j,calculatedImageSettings:_}=tc({value:i,level:d,minVersion:p,boostLevel:f,includeMargin:l,marginSize:w,imageSettings:x,size:a});let I=N,M=null;x!=null&&_!=null&&(_.excavation!=null&&(I=ec(N,_.excavation)),M=ce.createElement("image",{href:x.src,height:_.h,width:_.w,x:_.x+v,y:_.y+v,preserveAspectRatio:"none",opacity:_.opacity,crossOrigin:_.crossOrigin}));const C=Zl(I,v);return ce.createElement("svg",Xn({height:a,width:a,viewBox:`0 0 ${j} ${j}`,ref:s,role:"img"},g),!!b&&ce.createElement("title",null,b),ce.createElement("path",{fill:h,d:`M0,0 h${j}v${j}H0z`,shapeRendering:"crispEdges"}),ce.createElement("path",{fill:c,d:C,shapeRendering:"crispEdges"}),M)});rc.displayName="QRCodeSVG";var Ks="Checkbox",[wm]=Vr(Ks),[ym,No]=wm(Ks);function vm(t){const{__scopeCheckbox:r,checked:s,children:n,defaultChecked:i,disabled:a,form:d,name:h,onCheckedChange:c,required:l,value:p="on",internal_do_not_use_render:f}=t,[b,w]=lr({prop:s,defaultProp:i??!1,onChange:c,caller:Ks}),[x,g]=k.useState(null),[v,N]=k.useState(null),j=k.useRef(!1),_=x?!!d||!!x.closest("form"):!0,I={checked:b,disabled:a,setChecked:w,control:x,setControl:g,name:h,form:d,value:p,hasConsumerStoppedPropagationRef:j,required:l,defaultChecked:It(i)?!1:i,isFormControl:_,bubbleInput:v,setBubbleInput:N};return e.jsx(ym,{scope:r,...I,children:km(f)?f(I):n})}var sc="CheckboxTrigger",nc=k.forwardRef(({__scopeCheckbox:t,onKeyDown:r,onClick:s,...n},i)=>{const{control:a,value:d,disabled:h,checked:c,required:l,setControl:p,setChecked:f,hasConsumerStoppedPropagationRef:b,isFormControl:w,bubbleInput:x}=No(sc,t),g=Be(i,p),v=k.useRef(c);return k.useEffect(()=>{const N=a?.form;if(N){const j=()=>f(v.current);return N.addEventListener("reset",j),()=>N.removeEventListener("reset",j)}},[a,f]),e.jsx(Ee.button,{type:"button",role:"checkbox","aria-checked":It(c)?"mixed":c,"aria-required":l,"data-state":dc(c),"data-disabled":h?"":void 0,disabled:h,value:d,...n,ref:g,onKeyDown:Le(r,N=>{N.key==="Enter"&&N.preventDefault()}),onClick:Le(s,N=>{f(j=>It(j)?!0:!j),x&&w&&(b.current=N.isPropagationStopped(),b.current||N.stopPropagation())})})});nc.displayName=sc;var oc=k.forwardRef((t,r)=>{const{__scopeCheckbox:s,name:n,checked:i,defaultChecked:a,required:d,disabled:h,value:c,onCheckedChange:l,form:p,...f}=t;return e.jsx(vm,{__scopeCheckbox:s,checked:i,defaultChecked:a,disabled:h,required:d,onCheckedChange:l,name:n,form:p,value:c,internal_do_not_use_render:({isFormControl:b})=>e.jsxs(e.Fragment,{children:[e.jsx(nc,{...f,ref:r,__scopeCheckbox:s}),b&&e.jsx(cc,{__scopeCheckbox:s})]})})});oc.displayName=Ks;var ic="CheckboxIndicator",ac=k.forwardRef((t,r)=>{const{__scopeCheckbox:s,forceMount:n,...i}=t,a=No(ic,s);return e.jsx(Vi,{present:n||It(a.checked)||a.checked===!0,children:e.jsx(Ee.span,{"data-state":dc(a.checked),"data-disabled":a.disabled?"":void 0,...i,ref:r,style:{pointerEvents:"none",...t.style}})})});ac.displayName=ic;var lc="CheckboxBubbleInput",cc=k.forwardRef(({__scopeCheckbox:t,...r},s)=>{const{control:n,hasConsumerStoppedPropagationRef:i,checked:a,defaultChecked:d,required:h,disabled:c,name:l,value:p,form:f,bubbleInput:b,setBubbleInput:w}=No(lc,t),x=Be(s,w),g=Yi(a),v=Xi(n);k.useEffect(()=>{const j=b;if(!j)return;const _=window.HTMLInputElement.prototype,M=Object.getOwnPropertyDescriptor(_,"checked").set,C=!i.current;if(g!==a&&M){const P=new Event("click",{bubbles:C});j.indeterminate=It(a),M.call(j,It(a)?!1:a),j.dispatchEvent(P)}},[b,g,a,i]);const N=k.useRef(It(a)?!1:a);return e.jsx(Ee.input,{type:"checkbox","aria-hidden":!0,defaultChecked:d??N.current,required:h,disabled:c,name:l,value:p,form:f,...r,tabIndex:-1,ref:x,style:{...r.style,...v,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});cc.displayName=lc;function km(t){return typeof t=="function"}function It(t){return t==="indeterminate"}function dc(t){return It(t)?"indeterminate":t?"checked":"unchecked"}function Nm({className:t,...r}){return e.jsx(oc,{"data-slot":"checkbox",className:ke("peer border bg-input-background dark:bg-input/30 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground dark:data-[state=checked]:bg-primary data-[state=checked]:border-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive size-4 shrink-0 rounded-[4px] border shadow-xs transition-shadow outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",t),...r,children:e.jsx(ac,{"data-slot":"checkbox-indicator",className:"flex items-center justify-center text-current transition-none",children:e.jsx(cr,{className:"size-3.5"})})})}function jm({onClose:t}){const[r,s]=k.useState("configure"),[n,i]=k.useState("30"),[a,d]=k.useState(["predictions","attacks","correlations"]),[h,c]=k.useState(!1),l=g=>{d(v=>v.includes(g)?v.filter(N=>N!==g):[...v,g])},p=()=>{s("generated")},f=()=>{c(!0),setTimeout(()=>c(!1),2e3)},b=()=>{alert("Email dialog would open here")},w="https://ease.health/share/abc123xyz",x=[{id:"predictions",icon:Ms,title:"Migraine predictions",description:"AI-predicted risk levels and patterns"},{id:"attacks",icon:tt,title:"Attack logs",description:"Detailed migraine episodes and symptoms"},{id:"correlations",icon:ti,title:"Health correlations",description:"Sleep, HRV, triggers, and environmental factors"}];return r==="generated"?e.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-end sm:items-center justify-center",children:e.jsxs("div",{className:"w-full max-w-lg bg-white rounded-t-3xl sm:rounded-3xl max-h-[90vh] overflow-y-auto",children:[e.jsx("div",{className:"sticky top-0 bg-white border-b border-gray-200 px-6 py-4 rounded-t-3xl",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h2",{className:"text-h2",children:"Share with clinician"}),e.jsx("button",{onClick:t,className:"w-10 h-10 rounded-full hover:bg-gray-100 flex items-center justify-center transition-colors",children:e.jsx(lt,{className:"w-5 h-5 text-gray-600"})})]})}),e.jsxs("div",{className:"px-6 py-6 space-y-6",children:[e.jsxs("div",{className:"text-center space-y-2",children:[e.jsx("div",{className:"w-16 h-16 rounded-full bg-green-50 flex items-center justify-center mx-auto mb-3",children:e.jsx(cr,{className:"w-8 h-8 text-green-600"})}),e.jsx("h3",{className:"text-h2",children:"Secure link generated"}),e.jsx("p",{className:"text-body text-gray-600",children:"Share this link with your healthcare provider"})]}),e.jsxs("div",{className:"bg-white rounded-2xl border-2 border-gray-200 p-6 flex flex-col items-center",children:[e.jsx("div",{className:"w-48 h-48 bg-white rounded-xl border border-gray-200 flex items-center justify-center mb-4 p-4",children:e.jsx(rc,{value:w,size:176,level:"M",includeMargin:!1})}),e.jsx("p",{className:"text-sm text-gray-600 text-center",children:"Scan with camera to open link"})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"bg-gray-50 rounded-xl p-4 border border-gray-200",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx(mn,{className:"w-4 h-4 text-green-600"}),e.jsx("span",{className:"text-sm font-medium text-gray-900",children:"Secure link"})]}),e.jsx("p",{className:"text-sm text-gray-600 break-all font-mono",children:w})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsx(fe,{onClick:f,variant:"outline",className:"h-12 rounded-xl",style:{borderRadius:"12px"},children:h?e.jsxs(e.Fragment,{children:[e.jsx(cr,{className:"w-4 h-4 mr-2"}),"Copied"]}):e.jsxs(e.Fragment,{children:[e.jsx(Y0,{className:"w-4 h-4 mr-2"}),"Copy link"]})}),e.jsxs(fe,{onClick:b,variant:"outline",className:"h-12 rounded-xl",style:{borderRadius:"12px"},children:[e.jsx(ld,{className:"w-4 h-4 mr-2"}),"Email"]})]})]}),e.jsxs("div",{className:"bg-gray-50 rounded-xl p-4 border border-gray-200",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx(rt,{className:"w-4 h-4 text-gray-600"}),e.jsx("h4",{className:"font-medium text-gray-900",children:"What's included"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-700",children:[e.jsx($e,{className:"w-4 h-4 text-indigo-600"}),e.jsxs("span",{children:["Last ",n," days of data"]})]}),a.map(g=>{const v=x.find(j=>j.id===g);if(!v)return null;const N=v.icon;return e.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-700",children:[e.jsx(N,{className:"w-4 h-4 text-indigo-600"}),e.jsx("span",{children:v.title})]},g)})]})]}),e.jsx("div",{className:"bg-indigo-50 rounded-xl p-4 border border-indigo-100",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(dr,{className:"w-5 h-5 text-indigo-600 flex-shrink-0 mt-0.5"}),e.jsxs("div",{className:"flex-1 space-y-1",children:[e.jsx("h4",{className:"font-medium text-gray-900",children:"Time-limited access"}),e.jsx("p",{className:"text-sm text-gray-600",children:"This link expires in 30 days and can be revoked anytime from your profile settings."})]})]})}),e.jsx("div",{className:"bg-amber-50 rounded-xl p-4 border border-amber-100",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(mn,{className:"w-5 h-5 text-amber-600 flex-shrink-0 mt-0.5"}),e.jsxs("div",{className:"flex-1 space-y-1",children:[e.jsx("h4",{className:"font-medium text-gray-900",children:"Privacy reminder"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Only share this link with trusted healthcare professionals. Your data is encrypted and view-only. Recipients cannot modify or download your information."})]})]})}),e.jsx(fe,{onClick:t,className:"w-full h-12 rounded-xl",style:{borderRadius:"12px"},children:"Done"})]})]})}):e.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-end sm:items-center justify-center",children:e.jsxs("div",{className:"w-full max-w-lg bg-white rounded-t-3xl sm:rounded-3xl max-h-[90vh] overflow-y-auto",children:[e.jsx("div",{className:"sticky top-0 bg-white border-b border-gray-200 px-6 py-4 rounded-t-3xl",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h2",{className:"text-h2",children:"Share with clinician"}),e.jsx("button",{onClick:t,className:"w-10 h-10 rounded-full hover:bg-gray-100 flex items-center justify-center transition-colors",children:e.jsx(lt,{className:"w-5 h-5 text-gray-600"})})]})}),e.jsxs("div",{className:"px-6 py-6 space-y-6",children:[e.jsxs("div",{className:"text-center space-y-2",children:[e.jsx("div",{className:"w-16 h-16 rounded-full bg-indigo-50 flex items-center justify-center mx-auto mb-3",children:e.jsx(In,{className:"w-8 h-8 text-[#6A67D8]"})}),e.jsx("p",{className:"text-body text-gray-600",children:"Generate a secure, time-bound link to share your migraine patterns with healthcare providers."})]}),e.jsxs("div",{children:[e.jsxs("h3",{className:"font-medium text-gray-900 mb-3 flex items-center gap-2",children:[e.jsx($e,{className:"w-5 h-5 text-gray-600"}),"Select timeframe"]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("button",{onClick:()=>i("30"),className:`w-full p-4 rounded-xl border-2 transition-all ${n==="30"?"border-[#6A67D8] bg-indigo-50":"border-gray-200 bg-white hover:border-gray-300"}`,style:{borderRadius:"12px"},children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"text-left",children:[e.jsx("div",{className:"font-medium text-gray-900",children:"Last 30 days"}),e.jsx("div",{className:"text-sm text-gray-600",children:"Recent patterns"})]}),e.jsx("div",{className:`w-5 h-5 rounded-full border-2 flex items-center justify-center ${n==="30"?"border-[#6A67D8] bg-[#6A67D8]":"border-gray-300"}`,children:n==="30"&&e.jsx("div",{className:"w-2 h-2 bg-white rounded-full"})})]})}),e.jsx("button",{onClick:()=>i("90"),className:`w-full p-4 rounded-xl border-2 transition-all ${n==="90"?"border-[#6A67D8] bg-indigo-50":"border-gray-200 bg-white hover:border-gray-300"}`,style:{borderRadius:"12px"},children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"text-left",children:[e.jsx("div",{className:"font-medium text-gray-900",children:"Last 90 days"}),e.jsx("div",{className:"text-sm text-gray-600",children:"Comprehensive history"})]}),e.jsx("div",{className:`w-5 h-5 rounded-full border-2 flex items-center justify-center ${n==="90"?"border-[#6A67D8] bg-[#6A67D8]":"border-gray-300"}`,children:n==="90"&&e.jsx("div",{className:"w-2 h-2 bg-white rounded-full"})})]})})]})]}),e.jsxs("div",{children:[e.jsxs("h3",{className:"font-medium text-gray-900 mb-3 flex items-center gap-2",children:[e.jsx(ti,{className:"w-5 h-5 text-gray-600"}),"Choose what to share"]}),e.jsx("div",{className:"bg-white rounded-xl border border-gray-200 overflow-hidden",children:x.map((g,v)=>{const N=g.icon,j=a.includes(g.id);return e.jsxs(ce.Fragment,{children:[v>0&&e.jsx("div",{className:"border-t border-gray-100"}),e.jsxs("button",{onClick:()=>l(g.id),className:"w-full p-4 flex items-start gap-3 hover:bg-gray-50 transition-colors text-left",children:[e.jsx("div",{className:"flex-shrink-0 mt-1",children:e.jsx(Nm,{checked:j,onCheckedChange:()=>l(g.id),className:"pointer-events-none"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx(N,{className:"w-4 h-4 text-[#6A67D8]"}),e.jsx("span",{className:"font-medium text-gray-900",children:g.title})]}),e.jsx("p",{className:"text-sm text-gray-600",children:g.description})]})]})]},g.id)})})]}),a.length>0&&e.jsx("div",{className:"bg-gradient-to-br from-indigo-50 to-purple-50 rounded-xl p-4 border border-indigo-100",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(rt,{className:"w-5 h-5 text-[#6A67D8] flex-shrink-0 mt-0.5"}),e.jsxs("div",{className:"flex-1 space-y-2",children:[e.jsx("h4",{className:"font-medium text-gray-900",children:"Preview of shared data"}),e.jsxs("div",{className:"text-sm text-gray-700 space-y-1",children:[e.jsxs("div",{children:[" ",n," days of selected health information"]}),e.jsxs("div",{children:[" ",a.length," data categories included"]}),e.jsx("div",{children:" View-only access, expires in 30 days"})]})]})]})}),e.jsx("div",{className:"bg-amber-50 rounded-xl p-4 border border-amber-100",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(mn,{className:"w-5 h-5 text-amber-600 flex-shrink-0 mt-0.5"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"font-medium text-gray-900 mb-1",children:"Your privacy is protected"}),e.jsxs("ul",{className:"text-sm text-gray-600 space-y-1",children:[e.jsx("li",{children:" Data is encrypted end-to-end"}),e.jsx("li",{children:" Access expires automatically in 30 days"}),e.jsx("li",{children:" You can revoke access anytime"}),e.jsx("li",{children:" Recipients cannot download or modify data"})]})]})]})}),e.jsx(fe,{onClick:p,disabled:a.length===0,className:"w-full h-12 rounded-xl",style:{borderRadius:"12px"},children:"Generate secure link"}),a.length===0&&e.jsx("p",{className:"text-sm text-red-600 text-center -mt-3",children:"Please select at least one data category to share"})]})]})})}function Sm({userId:t,onClose:r}){const[s,n]=k.useState("select"),[i,a]=k.useState(null),[d,h]=k.useState(""),[c,l]=k.useState(!1),[p,f]=k.useState(null),[b,w]=k.useState(!1),[x,g]=k.useState(null);k.useEffect(()=>{v()},[t]);const v=async()=>{try{const M=await nr.getCalendarStatus(t);w(M.connected),g(M.lastVerifiedAt||null),M.connected&&n("success")}catch(M){console.error("Failed to check calendar status:",M)}},N=M=>{a(M),n("connect"),f(null)},j=async()=>{if(!d.trim()){f("Please enter a calendar URL");return}l(!0),f(null);try{const M=await nr.saveCalendarConnection(t,d);g(M.lastVerifiedAt||null),w(!0),n("success")}catch(M){f(M instanceof Error?M.message:"Failed to connect calendar")}finally{l(!1)}},_=async()=>{l(!0);try{await nr.deleteCalendarConnection(t),w(!1),h(""),n("select"),a(null),g(null)}catch(M){f(M instanceof Error?M.message:"Failed to disconnect calendar")}finally{l(!1)}},I=(M,C,P)=>e.jsxs("button",{onClick:()=>N(M),className:"w-full p-4 bg-white border-2 border-gray-200 rounded-2xl hover:border-[#6366F1] hover:bg-gray-50 transition-all flex items-center justify-between group",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-gray-100 rounded-xl flex items-center justify-center group-hover:bg-[#6366F1]/10",children:P}),e.jsx("span",{className:"font-medium text-gray-900",children:C})]}),e.jsx(et,{className:"w-5 h-5 text-gray-400 group-hover:text-[#6366F1]"})]});if(s==="select")return e.jsxs("div",{className:"p-6 max-w-md mx-auto",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Connect Calendar"}),r&&e.jsx("button",{onClick:r,className:"p-2 hover:bg-gray-100 rounded-lg",children:e.jsx(lt,{className:"w-5 h-5"})})]}),e.jsx("p",{className:"text-gray-600 mb-6",children:"Connect your calendar to help ALINE understand tomorrow's context and provide better predictions."}),e.jsxs("div",{className:"space-y-3",children:[I("google","Google Calendar",e.jsx($e,{className:"w-5 h-5 text-[#4285F4]"})),I("outlook","Outlook / Office 365",e.jsx($e,{className:"w-5 h-5 text-[#0078D4]"})),I("apple","Apple iCloud",e.jsx($e,{className:"w-5 h-5 text-gray-600"})),I("other","Other Calendar",e.jsx($e,{className:"w-5 h-5 text-gray-400"}))]}),e.jsx("div",{className:"mt-6 p-4 bg-blue-50 rounded-lg border border-blue-200",children:e.jsxs("p",{className:"text-sm text-blue-900",children:[e.jsx("strong",{children:"Privacy Note:"})," Your calendar URL is stored securely and never shared. ALINE only reads event times and titles to provide context."]})})]});if(s==="connect"&&i){const M=nr.getProviderInstructions(i);return e.jsxs("div",{className:"p-6 max-w-md mx-auto",children:[e.jsx("button",{onClick:()=>n("select"),className:"mb-4 text-gray-600 hover:text-gray-900 flex items-center gap-2",children:" Back"}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:M.title}),e.jsx("p",{className:"text-gray-600 mb-6",children:"Follow these steps to get your calendar URL:"}),e.jsx("ol",{className:"space-y-3 mb-6",children:M.steps.map((C,P)=>e.jsxs("li",{className:"flex gap-3",children:[e.jsx("span",{className:"flex-shrink-0 w-6 h-6 bg-[#6366F1] text-white rounded-full flex items-center justify-center text-sm font-medium",children:P+1}),e.jsx("span",{className:"text-gray-700",children:C})]},P))}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(Te,{htmlFor:"calendar-url",children:"Calendar URL"}),e.jsx(Ge,{id:"calendar-url",type:"url",placeholder:"https://... or webcal://...",value:d,onChange:C=>h(C.target.value),className:"mt-1",disabled:c})]}),p&&e.jsxs("div",{className:"flex items-start gap-2 p-3 bg-red-50 border border-red-200 rounded-lg text-red-900 text-sm",children:[e.jsx(Ps,{className:"w-4 h-4 flex-shrink-0 mt-0.5"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"font-medium mb-1",children:"Connection Failed"}),e.jsx("p",{className:"text-red-800",children:p}),p.includes("Network")&&e.jsxs("p",{className:"text-red-700 mt-2 text-xs",children:[" ",e.jsx("strong",{children:"Tip:"}),' Make sure the calendar URL is public and accessible. For Google Calendar, ensure "Make available to public" is enabled in sharing settings.']})]})]}),e.jsx(fe,{onClick:j,disabled:c||!d.trim(),className:"w-full",children:c?e.jsxs(e.Fragment,{children:[e.jsx(Mn,{className:"w-4 h-4 mr-2 animate-spin"}),"Verifying..."]}):"Test & Save"})]})]})}return s==="success"?e.jsxs("div",{className:"p-6 max-w-md mx-auto",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Calendar Connected"}),r&&e.jsx("button",{onClick:r,className:"p-2 hover:bg-gray-100 rounded-lg",children:e.jsx(lt,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"flex flex-col items-center py-8",children:[e.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mb-4",children:e.jsx(H0,{className:"w-8 h-8 text-green-600"})}),e.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Successfully Connected!"}),e.jsx("p",{className:"text-gray-600 text-center mb-1",children:"Your calendar is now connected to ALINE."}),x&&e.jsxs("p",{className:"text-sm text-gray-500",children:["Last verified: ",new Date(x).toLocaleString()]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(fe,{onClick:_,variant:"outline",className:"w-full",disabled:c,children:c?e.jsxs(e.Fragment,{children:[e.jsx(Mn,{className:"w-4 h-4 mr-2 animate-spin"}),"Disconnecting..."]}):"Disconnect Calendar"}),r&&e.jsx(fe,{onClick:r,className:"w-full",children:"Done"})]}),e.jsx("div",{className:"mt-6 p-4 bg-blue-50 rounded-lg border border-blue-200",children:e.jsx("p",{className:"text-sm text-blue-900",children:'ALINE will now use your calendar events to provide more accurate "tomorrow" predictions.'})})]}):null}function _m({onBack:t,onNavigate:r,onDevicesClick:s}){const[n,i]=k.useState(!0),[a,d]=k.useState(!0),[h,c]=k.useState(!0),[l,p]=k.useState(!0),[f,b]=k.useState(!1),[w,x]=k.useState(!1),[g,v]=k.useState(!1);return e.jsxs("div",{className:"min-h-screen bg-[#F8F9FA] flex flex-col",children:[e.jsx("div",{className:"bg-white border-b border-[#E5E7EB] px-4 py-3",children:e.jsx("h1",{className:"text-center",children:"Profile"})}),e.jsxs("div",{className:"flex-1 overflow-y-auto pb-20",children:[e.jsx("div",{className:"bg-gradient-to-br from-indigo-50 to-purple-50 border-b border-indigo-100",children:e.jsx("div",{className:"px-4 py-4",children:e.jsxs("div",{className:"flex items-center justify-between gap-3",children:[e.jsxs("div",{className:"flex items-center gap-3 flex-1 min-w-0",children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-white flex items-center justify-center flex-shrink-0 shadow-sm",children:e.jsx(xt,{className:"w-5 h-5 text-[#6A67D8]"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("div",{className:"font-medium text-gray-900",children:"Low-stimulation mode"}),e.jsx("div",{className:"text-sm text-gray-600",children:"Reduce animations & visual density"})]})]}),e.jsx(sr,{checked:n,onCheckedChange:i})]})})}),e.jsxs("div",{className:"px-4 py-4 space-y-6",children:[e.jsxs("section",{children:[e.jsx("h2",{className:"text-sm text-gray-500 mb-3 px-1",children:"Account"}),e.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs(om,{className:"w-16 h-16",children:[e.jsx(im,{src:"",alt:"Profile"}),e.jsx(am,{className:"bg-[#6A67D8] text-white",children:"SK"})]}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("div",{className:"font-medium text-gray-900",children:"Sarah Kim"}),e.jsx("div",{className:"text-sm text-gray-600",children:"sarah.kim@email.com"})]}),e.jsx("button",{className:"p-2 hover:bg-gray-50 rounded-lg transition-colors",children:e.jsx(et,{className:"w-5 h-5 text-gray-400"})})]})})]}),e.jsxs("section",{children:[e.jsx("h2",{className:"text-sm text-gray-500 mb-3 px-1",children:"Devices & data sources"}),e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:[e.jsxs("div",{className:"p-4 border-b border-gray-100",children:[e.jsxs("div",{className:"flex items-start justify-between gap-3 mb-3",children:[e.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[e.jsx("div",{className:"w-10 h-10 rounded-lg bg-indigo-50 flex items-center justify-center flex-shrink-0",children:e.jsx(vs,{className:"w-5 h-5 text-[#6A67D8]"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("div",{className:"font-medium text-gray-900",children:"Connected devices"}),e.jsx("div",{className:"text-sm text-gray-600",children:"3 sources active"})]})]}),e.jsx(cm,{variant:"outline",className:"bg-green-50 text-green-700 border-green-200",children:"Syncing"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-green-500"}),e.jsx("span",{className:"text-gray-700",children:"Apple Health"}),e.jsx("span",{className:"text-gray-400",children:" Last sync 5m ago"})]}),e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-green-500"}),e.jsx("span",{className:"text-gray-700",children:"Fitbit"}),e.jsx("span",{className:"text-gray-400",children:" Last sync 12m ago"})]}),e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-green-500"}),e.jsx("span",{className:"text-gray-700",children:"Calendar"}),e.jsx("span",{className:"text-gray-400",children:" Last sync 1m ago"})]})]})]}),e.jsxs("button",{onClick:s,className:"w-full p-4 flex items-center justify-between hover:bg-gray-50 transition-colors border-b border-gray-100",style:{minHeight:"44px"},children:[e.jsx("span",{className:"text-[#6A67D8]",children:"Manage connections"}),e.jsx(et,{className:"w-5 h-5 text-[#6A67D8]"})]}),e.jsxs("button",{onClick:()=>v(!0),className:"w-full p-4 flex items-center justify-between hover:bg-gray-50 transition-colors",style:{minHeight:"44px"},children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx($e,{className:"w-5 h-5 text-gray-400"}),e.jsx("span",{className:"text-gray-900",children:"Calendar integration"})]}),e.jsx(et,{className:"w-5 h-5 text-gray-400"})]})]})]}),e.jsxs("section",{children:[e.jsx("h2",{className:"text-sm text-gray-500 mb-3 px-1",children:"Alerts & nudges"}),e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:[e.jsx("div",{className:"p-4 border-b border-gray-100",children:e.jsxs("div",{className:"flex items-center justify-between gap-3 mb-2",children:[e.jsxs("div",{className:"flex items-center gap-3 flex-1 min-w-0",children:[e.jsx(dr,{className:"w-5 h-5 text-gray-400 flex-shrink-0"}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("div",{className:"font-medium text-gray-900",children:"Quiet hours"}),e.jsx("div",{className:"text-sm text-gray-600",children:"10:00 PM  8:00 AM"})]})]}),e.jsx(sr,{checked:a,onCheckedChange:d})]})}),e.jsxs("button",{className:"w-full p-4 flex items-center justify-between border-b border-gray-100 hover:bg-gray-50 transition-colors",children:[e.jsxs("div",{className:"flex items-center gap-3 flex-1 min-w-0",children:[e.jsx(Ki,{className:"w-5 h-5 text-gray-400 flex-shrink-0"}),e.jsxs("div",{className:"text-left flex-1 min-w-0",children:[e.jsx("div",{className:"font-medium text-gray-900",children:"Alert sensitivity"}),e.jsx("div",{className:"text-sm text-gray-600",children:"Medium"})]})]}),e.jsx(et,{className:"w-5 h-5 text-gray-400"})]}),e.jsx("div",{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between gap-3",children:[e.jsxs("div",{className:"flex items-center gap-3 flex-1 min-w-0",children:[e.jsx(xt,{className:"w-5 h-5 text-gray-400 flex-shrink-0"}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("div",{className:"font-medium text-gray-900",children:"Low-stimulation warnings only"}),e.jsx("div",{className:"text-sm text-gray-600",children:"Gentle notifications without sound"})]})]}),e.jsx(sr,{checked:h,onCheckedChange:c})]})})]})]}),e.jsxs("section",{children:[e.jsx("h2",{className:"text-sm text-gray-500 mb-3 px-1",children:"Sharing"}),e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:[e.jsx("div",{className:"p-4 border-b border-gray-100",children:e.jsxs("div",{className:"flex items-start gap-3 mb-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-lg bg-indigo-50 flex items-center justify-center flex-shrink-0",children:e.jsx(In,{className:"w-5 h-5 text-[#6A67D8]"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("div",{className:"font-medium text-gray-900 mb-1",children:"Share with doctor or caregiver"}),e.jsx("div",{className:"text-sm text-gray-600 mb-3",children:"Generate a secure, time-bound link to share your migraine patterns and predictions."}),e.jsxs(fe,{onClick:()=>x(!0),variant:"outline",className:"w-full",size:"sm",children:[e.jsx(In,{className:"w-4 h-4 mr-2"}),"Generate secure link"]})]})]})}),e.jsxs("div",{className:"p-4",children:[e.jsx("div",{className:"text-sm text-gray-500 mb-3",children:"Active shares"}),e.jsx("div",{className:"space-y-3",children:e.jsxs("div",{className:"flex items-start justify-between gap-3 p-3 bg-gray-50 rounded-lg",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:"Dr. Emily Chen"}),e.jsx("div",{className:"text-sm text-gray-600",children:"Expires in 27 days"})]}),e.jsx("button",{className:"text-sm text-red-600 hover:text-red-700",children:"Revoke"})]})})]})]})]}),e.jsxs("section",{children:[e.jsx("h2",{className:"text-sm text-gray-500 mb-3 px-1",children:"Privacy"}),e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:[e.jsx("div",{className:"p-4 border-b border-gray-100",children:e.jsxs("div",{className:"flex items-center justify-between gap-3 mb-2",children:[e.jsxs("div",{className:"flex items-center gap-3 flex-1 min-w-0",children:[e.jsx(xd,{className:"w-5 h-5 text-gray-400 flex-shrink-0"}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("div",{className:"font-medium text-gray-900",children:"On-device prediction model"}),e.jsx("div",{className:"text-sm text-gray-600",children:"Your data never leaves your device"})]})]}),e.jsx(sr,{checked:l,onCheckedChange:p})]})}),e.jsxs("button",{className:"w-full p-4 flex items-center justify-between border-b border-gray-100 hover:bg-gray-50 transition-colors",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Zi,{className:"w-5 h-5 text-gray-400"}),e.jsx("span",{className:"font-medium text-gray-900",children:"Download my data"})]}),e.jsx(et,{className:"w-5 h-5 text-gray-400"})]}),e.jsxs("button",{className:"w-full p-4 flex items-center justify-between hover:bg-red-50 transition-colors",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(kd,{className:"w-5 h-5 text-red-600"}),e.jsx("span",{className:"font-medium text-red-600",children:"Delete all my data"})]}),e.jsx(et,{className:"w-5 h-5 text-red-400"})]})]})]}),e.jsxs("section",{children:[e.jsx("h2",{className:"text-sm text-gray-500 mb-3 px-1",children:"About"}),e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:[e.jsxs("button",{className:"w-full p-4 flex items-center justify-between border-b border-gray-100 hover:bg-gray-50 transition-colors",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(rt,{className:"w-5 h-5 text-gray-400"}),e.jsx("span",{className:"font-medium text-gray-900",children:"Medical disclaimer"})]}),e.jsx(et,{className:"w-5 h-5 text-gray-400"})]}),e.jsxs("div",{className:"p-4 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(rt,{className:"w-5 h-5 text-gray-400"}),e.jsx("span",{className:"font-medium text-gray-900",children:"Version"})]}),e.jsx("span",{className:"text-sm text-gray-600",children:"v0.1.0"})]})]})]}),e.jsx("div",{className:"text-center py-4",children:e.jsxs("button",{className:"text-sm text-gray-500 hover:text-gray-700 flex items-center gap-1 mx-auto",children:[e.jsx("span",{children:"Open source licenses"}),e.jsx(ta,{className:"w-3.5 h-3.5"})]})})]})]}),e.jsx(Ur,{activeTab:"profile",onNavigate:r||(N=>N==="home"&&t?.())}),w&&e.jsx(jm,{onClose:()=>x(!1)}),g&&e.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center",children:e.jsx("div",{className:"bg-white rounded-2xl max-w-md w-full mx-4 max-h-[90vh] overflow-y-auto",children:e.jsx(Sm,{userId:"demo-user",onClose:()=>v(!1)})})})]})}function Cm({onBack:t,onNavigate:r}){const[s,n]=k.useState(null),[i,a]=k.useState(null),{loading:d,correlations:h}=Ep(),[c,l]=k.useState([!1,!1,!1,!1,!1,!1,!1]);k.useEffect(()=>{Se.getExperimentDays("hydration").then(x=>{l(x)})},[]);const p=x=>{a(x),n("correlation-details")},f=x=>{const g=[...c];g[x]=!g[x],l(g),Se.setExperimentDay("hydration",x,g[x])};c.filter(Boolean).length;const b=["M","T","W","T","F","S","S"],w=h.length>0?h.slice(0,2).map(x=>x.label).join(" + "):"Building patterns...";return d?e.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:e.jsxs("div",{className:"text-center space-y-4",children:[e.jsx("div",{className:"w-16 h-16 border-4 border-primary border-t-transparent rounded-full animate-spin mx-auto"}),e.jsx("p",{className:"text-label text-muted-foreground",children:"Loading insights..."})]})}):e.jsxs("div",{className:"min-h-screen bg-background flex flex-col",children:[e.jsx("div",{className:"border-b border-border bg-card sticky top-0 z-10",children:e.jsxs("div",{className:"px-6 pt-6 pb-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("button",{onClick:t,className:"flex items-center justify-center w-11 h-11 rounded-lg hover:bg-muted transition-colors","aria-label":"Go back",style:{borderRadius:"8px"},children:e.jsx(Fr,{className:"w-6 h-6"})}),e.jsx("h1",{className:"text-h2 absolute left-1/2 -translate-x-1/2",children:"Insights"}),e.jsx("button",{onClick:()=>n("header-info"),className:"flex items-center justify-center w-11 h-11 rounded-lg hover:bg-muted transition-colors","aria-label":"Learn about insights",style:{borderRadius:"8px"},children:e.jsx(rt,{className:"w-5 h-5 text-muted-foreground"})})]}),e.jsx("div",{className:"flex items-center justify-center",children:e.jsxs("div",{className:"inline-flex items-center gap-2 px-3 py-1.5 rounded-full bg-primary/10 text-primary",style:{borderRadius:"20px"},children:[e.jsx(Ms,{className:"w-4 h-4"}),e.jsxs("span",{className:"text-label",children:["Your pattern this month: ",w]})]})})]})}),e.jsx("div",{className:"flex-1 overflow-y-auto pb-24 px-6 pt-6",children:e.jsxs("div",{className:"max-w-2xl mx-auto space-y-6",children:[e.jsx("section",{children:e.jsxs("div",{className:"bg-card rounded-xl border border-border p-6 space-y-4",style:{borderRadius:"12px",boxShadow:"var(--shadow-card)"},children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h2",{className:"text-h3",children:"Top correlations"}),e.jsx("button",{onClick:()=>n("correlations-info"),className:"w-8 h-8 rounded-full hover:bg-muted flex items-center justify-center transition-colors","aria-label":"Learn about correlations",children:e.jsx(rt,{className:"w-4 h-4 text-muted-foreground"})})]}),e.jsx("div",{className:"space-y-0",children:h.map((x,g)=>e.jsxs(ce.Fragment,{children:[g>0&&e.jsx("div",{className:"border-t border-border my-4"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-body",children:x.label}),e.jsxs("span",{className:"text-label text-muted-foreground",children:[x.strength,"%"]})]}),e.jsx("div",{className:"relative h-2 bg-muted rounded-full overflow-hidden",children:e.jsx("div",{className:"absolute inset-y-0 left-0 bg-primary rounded-full transition-all duration-500",style:{width:`${x.strength}%`}})}),e.jsx("button",{onClick:()=>p(x),className:"text-label text-primary hover:underline transition-colors",children:"View details"})]})]},x.id))})]})}),e.jsx("section",{children:e.jsxs("div",{className:"bg-card rounded-xl border border-border p-6 space-y-4",style:{borderRadius:"12px",boxShadow:"var(--shadow-card)"},children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-h3",children:"Run an experiment"}),e.jsx("p",{className:"text-body text-muted-foreground mt-1",children:"Hydration target (this week)"})]}),e.jsx("button",{onClick:()=>n("experiment-info"),className:"w-8 h-8 rounded-full hover:bg-muted flex items-center justify-center transition-colors","aria-label":"Learn about experiments",children:e.jsx(rt,{className:"w-4 h-4 text-muted-foreground"})})]}),e.jsx("p",{className:"text-body text-muted-foreground",children:"Aim for  1.5 L/day and log quick check-ins."}),e.jsx("div",{className:"flex items-center justify-between gap-2 py-2",children:b.map((x,g)=>e.jsx("button",{onClick:()=>f(g),className:`
                      flex-1 aspect-square rounded-full flex items-center justify-center text-label
                      transition-all duration-200 min-w-[44px]
                      ${c[g]?"bg-primary text-primary-foreground":"bg-muted text-muted-foreground hover:bg-muted/80"}
                    `,"aria-label":`${x}, ${c[g]?"completed":"incomplete"}`,children:c[g]?e.jsx(cr,{className:"w-4 h-4"}):e.jsx("span",{children:x})},g))}),e.jsxs("div",{className:"flex items-center gap-3 pt-2",children:[e.jsx(fe,{className:"flex-1 h-12 rounded-lg",style:{borderRadius:"8px"},children:"Start"}),e.jsxs("button",{className:"text-label text-muted-foreground hover:text-foreground transition-colors flex items-center gap-1",children:[e.jsx(Ki,{className:"w-4 h-4"}),"Set reminder"]})]})]})}),e.jsx("section",{children:e.jsx("button",{onClick:()=>n("narrative-details"),className:"w-full bg-accent/10 border border-accent/20 rounded-xl p-4 hover:bg-accent/15 transition-colors text-left",style:{borderRadius:"12px"},children:e.jsx("p",{className:"text-body text-foreground leading-relaxed",children:"This month you often reported higher risk on Mondays, especially when HRV was below baseline."})})}),e.jsx("div",{className:"pt-4 pb-2",children:e.jsx("p",{className:"text-label text-muted-foreground text-center",children:"Ease provides estimates and correlations; not medical advice."})})]})}),e.jsx(Ur,{activeTab:"home",onNavigate:r||(x=>x==="home"&&t?.())}),s==="header-info"&&e.jsx(Mr,{title:"About Insights",onClose:()=>n(null),children:e.jsxs("div",{className:"space-y-4",children:[e.jsx("p",{className:"text-body text-muted-foreground leading-relaxed",children:"Insights help you discover patterns between your daily health data and migraine risk."}),e.jsxs("div",{className:"bg-warning/10 border border-warning/20 rounded-lg p-4",style:{borderRadius:"8px"},children:[e.jsx("h3",{className:"font-medium text-foreground mb-2",children:"Important"}),e.jsxs("ul",{className:"text-body text-muted-foreground space-y-2",children:[e.jsx("li",{children:" Correlations show associations, not causation"}),e.jsx("li",{children:" Patterns are personalized to your data"}),e.jsx("li",{children:" Results are estimates, not medical diagnoses"}),e.jsx("li",{children:" Always consult healthcare professionals"})]})]})]})}),s==="correlations-info"&&e.jsx(Mr,{title:"About correlations",onClose:()=>n(null),children:e.jsxs("div",{className:"space-y-4",children:[e.jsx("p",{className:"text-body text-muted-foreground leading-relaxed",children:"Correlations show associations in your data, not medical advice."}),e.jsx("p",{className:"text-body text-muted-foreground leading-relaxed",children:"We analyze your health metrics and migraine logs to identify patterns that occur together. A high correlation percentage means the pattern appears frequently alongside elevated migraine risk."})]})}),s==="correlation-details"&&i&&e.jsx(Mr,{title:i.label,onClose:()=>{n(null),a(null)},children:e.jsxs("div",{className:"space-y-6",children:[e.jsx("p",{className:"text-body text-muted-foreground leading-relaxed",children:i.explanation}),e.jsx("div",{className:"bg-muted rounded-lg p-4 h-32 flex items-center justify-center",style:{borderRadius:"8px"},children:e.jsx("div",{className:"w-full h-full flex items-end justify-between gap-1 px-4",children:[32,48,40,56,72,68,80,76,85,90,78,70].map((x,g)=>e.jsx("div",{className:"flex-1 bg-primary/30 rounded-t",style:{height:`${x}%`}},g))})}),e.jsx("button",{className:"text-label text-primary hover:underline transition-colors",onClick:()=>alert("Methodology details would appear here"),children:"How we calculate this"})]})}),s==="experiment-info"&&e.jsx(Mr,{title:"About experiments",onClose:()=>n(null),children:e.jsxs("div",{className:"space-y-4",children:[e.jsx("p",{className:"text-body text-muted-foreground leading-relaxed",children:"Experiments help you test whether specific behaviors affect your migraine patterns."}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("h3",{className:"font-medium text-foreground",children:"What happens:"}),e.jsxs("ul",{className:"text-body text-muted-foreground space-y-2",children:[e.jsx("li",{children:" Set a daily target for one week"}),e.jsx("li",{children:" Log your progress with quick check-ins"}),e.jsx("li",{children:" We'll track your migraine risk during the experiment"}),e.jsx("li",{children:" See results and correlations after completion"})]})]}),e.jsx("div",{className:"bg-accent/10 border border-accent/20 rounded-lg p-4",style:{borderRadius:"8px"},children:e.jsx("p",{className:"text-body text-muted-foreground",children:"Results are personalized insights, not medical conclusions. Use them to have informed conversations with your healthcare provider."})})]})}),s==="narrative-details"&&e.jsx(Mr,{title:"Your pattern",onClose:()=>n(null),children:e.jsxs("div",{className:"space-y-4",children:[e.jsx("p",{className:"text-body text-muted-foreground leading-relaxed",children:"This month you often reported higher risk on Mondays, especially when HRV was below baseline."}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("h3",{className:"font-medium text-foreground",children:"Key findings:"}),e.jsxs("ul",{className:"text-body text-muted-foreground space-y-2",children:[e.jsx("li",{children:" Monday mornings show 65% correlation with elevated risk"}),e.jsx("li",{children:" Low HRV days have 72% correlation with migraine episodes"})]})]}),e.jsxs("button",{onClick:()=>n("correlations-info"),className:"text-label text-primary hover:underline transition-colors flex items-center gap-1",children:["View details",e.jsx(et,{className:"w-4 h-4"})]})]})})]})}function Mr({title:t,onClose:r,children:s}){return e.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-end sm:items-center justify-center",children:e.jsxs("div",{className:"w-full max-w-lg bg-card rounded-t-3xl sm:rounded-3xl max-h-[80vh] overflow-y-auto",children:[e.jsx("div",{className:"sticky top-0 bg-card border-b border-border px-6 py-4 rounded-t-3xl",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h2",{className:"text-h2",children:t}),e.jsx("button",{onClick:r,className:"w-10 h-10 rounded-full hover:bg-muted flex items-center justify-center transition-colors",children:e.jsx(lt,{className:"w-5 h-5 text-muted-foreground"})})]})}),e.jsx("div",{className:"px-6 py-6",children:s})]})})}const Em=15;function Tm(t,r){const s=t.filter(a=>a.percentage>=Em).sort((a,d)=>d.percentage-a.percentage).slice(0,3),n=s.map(a=>a.name),i=s.map(a=>a.name==="Sleep Quality"&&parseFloat(a.value)<6?"Poor sleep":a.name==="Stress Level"&&parseFloat(a.value)>=7?"High stress":a.name==="Barometric Pressure Change"?"Weather pressure drop":a.name==="Menstrual Phase"&&a.value==="Premenstrual"?"Premenstrual phase":a.name==="Screen Time"&&parseFloat(a.value)>8?"High screen time":a.name==="HRV"&&parseFloat(a.value)<50?"Low HRV":a.name==="Prodrome Symptoms"?"Prodrome symptoms present":a.name).join(" + ");return{id:n.sort().join("_").toLowerCase().replace(/\s+/g,"_"),triggers:n,label:i}}const Rn={stress:[{id:"deep_breathing",text:"Practice 4-7-8 breathing: Inhale 4s, hold 7s, exhale 8s (repeat 4 times)",category:"immediate",estimatedMinutes:2,targetTriggers:["Stress Level","HRV"],evidenceLevel:"high"},{id:"progressive_relaxation",text:"Tense and release each muscle group from toes to head",category:"immediate",estimatedMinutes:5,targetTriggers:["Stress Level"],evidenceLevel:"high"}],sleep:[{id:"avoid_caffeine",text:"Skip caffeine for the rest of the day",category:"prevention",estimatedMinutes:0,targetTriggers:["Sleep Quality","Caffeine Intake change"],evidenceLevel:"high"},{id:"schedule_nap",text:"Take a 20-minute power nap (set alarm)",category:"self-care",estimatedMinutes:20,targetTriggers:["Sleep Quality","Sleep Duration"],evidenceLevel:"moderate"},{id:"sleep_tonight",text:"Commit to 8+ hours of sleep tonight - set bedtime alarm for 10pm",category:"prevention",estimatedMinutes:1,targetTriggers:["Sleep Duration"],evidenceLevel:"high"}],weather:[{id:"hydrate",text:"Drink 16oz of water right now",category:"immediate",estimatedMinutes:2,targetTriggers:["Barometric Pressure Change","Water Intake"],evidenceLevel:"moderate"},{id:"stay_indoors",text:"Stay indoors in controlled temperature until pressure stabilizes",category:"environment",estimatedMinutes:0,targetTriggers:["Barometric Pressure Change","Weather Changes"],evidenceLevel:"moderate"}],screen:[{id:"screen_break",text:"Take a 15-minute screen break - go outside or close your eyes",category:"immediate",estimatedMinutes:15,targetTriggers:["Screen Time"],evidenceLevel:"high"},{id:"blue_light",text:"Enable blue light filter on all devices",category:"environment",estimatedMinutes:2,targetTriggers:["Screen Time"],evidenceLevel:"moderate"},{id:"eye_exercises",text:"20-20-20 rule: Every 20 min, look 20 feet away for 20 seconds",category:"prevention",estimatedMinutes:0,targetTriggers:["Screen Time"],evidenceLevel:"high"}],menstrual:[{id:"magnesium",text:"Take magnesium supplement (if prescribed)",category:"self-care",estimatedMinutes:1,targetTriggers:["Menstrual Phase"],evidenceLevel:"moderate"},{id:"gentle_exercise",text:"Do 10 minutes of gentle stretching or yoga",category:"self-care",estimatedMinutes:10,targetTriggers:["Menstrual Phase"],evidenceLevel:"moderate"}],hrv:[{id:"coherent_breathing",text:"Breathe at 5-6 breaths per minute for 5 minutes",category:"immediate",estimatedMinutes:5,targetTriggers:["HRV","Stress Level"],evidenceLevel:"high"}],general:[{id:"dark_quiet",text:"Move to a dark, quiet room for the next hour",category:"environment",estimatedMinutes:1,targetTriggers:["Prodrome Symptoms"],evidenceLevel:"high"},{id:"regular_meal",text:"Eat a balanced meal if you skipped one",category:"self-care",estimatedMinutes:15,targetTriggers:["Meal Regularity"],evidenceLevel:"high"},{id:"cold_compress",text:"Apply a cold compress to your forehead for 15 minutes",category:"immediate",estimatedMinutes:15,targetTriggers:["Prodrome Symptoms"],evidenceLevel:"high"}]};function Rm(t,r){const s=[],n=new Set,i={"Stress Level":"stress",HRV:"hrv","Sleep Quality":"sleep","Sleep Duration":"sleep","Barometric Pressure Change":"weather","Weather Changes":"weather","Screen Time":"screen","Menstrual Phase":"menstrual"};if(t.triggers.forEach(a=>{const d=i[a];d&&Rn[d]&&Rn[d].forEach(h=>{!n.has(h.id)&&h.targetTriggers.some(c=>t.triggers.includes(c))&&(s.push(h),n.add(h.id))})}),Rn.general.forEach(a=>{!n.has(a.id)&&a.targetTriggers.some(d=>t.triggers.includes(d))&&(s.push(a),n.add(a.id))}),r.length>0){const a=new Map(r.filter(d=>d.triggerCombinationId===t.id).map(d=>[d.instructionId,d.averageEffectiveness]));s.sort((d,h)=>{const c=a.get(d.id)??.5;return(a.get(h.id)??.5)-c})}else{const a={immediate:0,"self-care":1,environment:2,prevention:3};s.sort((d,h)=>a[d.category]-a[h.category])}return s.slice(0,6)}function Am({onClose:t,riskVariables:r,riskPercentage:s}){const[n]=k.useState(()=>new Date),[i,a]=k.useState([]),[d,h]=k.useState(new Set),[c,l]=k.useState(null),[p]=k.useState(()=>`session_${Date.now()}`),[f,b]=k.useState(!1);k.useEffect(()=>{async function g(){try{const v=await Se.getInterventionEffectiveness(),N=Tm(r,s),j=Rm(N,v);l(N),a(j)}catch(v){console.error("Failed to load instructions:",v)}}g()},[r,s]);const w=async()=>{try{if(c){const g=Math.max(0,(Date.now()-n.getTime())/6e4);await Se.saveSootheModeSession({id:p,startedAt:n.toISOString(),triggerCombination:c,instructions:i,completedInstructionIds:Array.from(d),durationMinutes:g})}}catch(g){console.error("Failed to save session:",g)}t()},x=g=>{const v=new Set(d);v.has(g)?v.delete(g):v.add(g),h(v)};return e.jsxs("div",{className:"fixed inset-0 z-50 flex flex-col bg-background",children:[e.jsx("div",{className:"relative z-10 flex justify-end px-6 pt-6",children:e.jsx("button",{onClick:w,className:"p-2 transition-colors rounded-lg text-foreground hover:text-muted-foreground bg-card/80","aria-label":"Close soothe mode",style:{minWidth:"44px",minHeight:"44px"},children:e.jsx(lt,{className:"w-6 h-6"})})}),e.jsxs("div",{className:"relative flex flex-col items-center flex-1 px-6 pb-8 pt-6 overflow-y-auto",children:[c&&i.length>0&&e.jsxs("div",{className:"w-full max-w-md mb-8 space-y-4",children:[e.jsxs("div",{className:"p-4 rounded-xl bg-warning/10 border border-warning/20",children:[e.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Based on your current triggers:"}),e.jsx("p",{className:"text-body font-medium",children:c.label})]}),e.jsxs("div",{className:"p-4 rounded-xl bg-card border border-border space-y-3",children:[e.jsx("h3",{className:"text-h3 mb-3",children:"Prevention Checklist"}),i.map(g=>e.jsxs("label",{className:"flex items-start gap-3 p-3 rounded-lg hover:bg-muted/50 cursor-pointer transition-colors",children:[e.jsx("input",{type:"checkbox",checked:d.has(g.id),onChange:()=>x(g.id),className:"mt-0.5 w-5 h-5 rounded border-2 border-primary text-primary focus:ring-2 focus:ring-primary/20"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:`text-body ${d.has(g.id)?"line-through text-muted-foreground":""}`,children:g.text}),e.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["~",g.estimatedMinutes," min  ",g.category]})]})]},g.id))]}),e.jsx("button",{onClick:()=>b(!f),className:"w-full p-3 rounded-lg bg-muted/50 hover:bg-muted transition-colors text-left",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-body-sm font-medium",children:"Why these steps?"}),e.jsx(Gr,{className:`w-4 h-4 transition-transform ${f?"rotate-180":""}`})]})}),f&&e.jsxs("div",{className:"p-4 rounded-lg bg-muted/30 space-y-2 text-body-sm text-muted-foreground",children:[e.jsx("p",{children:"These interventions have been effective for similar trigger patterns:"}),e.jsx("ul",{className:"space-y-1 ml-4",children:i.map(g=>e.jsxs("li",{className:"list-disc",children:[g.text," - ",g.evidenceLevel==="high"?" Clinical evidence":g.evidenceLevel==="moderate"?" Moderate evidence":" Works for you"]},g.id))})]})]}),e.jsx("div",{className:"w-full max-w-sm space-y-3",children:e.jsx(fe,{onClick:w,className:"w-full h-12",style:{borderRadius:"12px"},children:"Done"})})]})]})}const je={sectionTitle:"Suspected Migraine Triggers",sectionDescription:"Select up to 5 triggers you suspect might cause your migraines. You can add details about each one.",selectedCounter:(t,r)=>`Selected: ${t} / ${r}`,maxReachedWarning:"Maximum 5 triggers can be selected",triggers:{sleep_loss:"Sleep Loss",pressure_drop:"Pressure Drop",dehydration:"Dehydration",screen_time:"Screen Time",stress_overload:"Stress Overload",skipped_meal:"Skipped Meal",humidity_spike:"Humidity Spike",temperature_swing:"Temperature Swing",poor_air_quality:"Poor Air Quality",bright_light:"Bright Light",loud_noise:"Loud Noise",strong_odor:"Strong Odor",travel_jetlag:"Travel/Jetlag",alcohol:"Alcohol",caffeine_change:"Caffeine Change"},confidenceLabel:"How confident are you?",confidenceOptions:[{value:.25,label:"Not sure"},{value:.5,label:"Possible"},{value:.75,label:"Likely"},{value:.9,label:"Very likely"}],frequencyLabel:"How often per month?",frequencyPlaceholder:"e.g., 2-3 times",thresholdLabel:"What triggers it?",thresholdPlaceholder:"e.g., <6h sleep, >8h screen time",onsetWindowLabel:"Time to symptoms (hours)",onsetWindowPlaceholder:"e.g., 2-4 hours",helpsLabel:"What helps?",helpsPlaceholder:"e.g., rest, water, medication",notesLabel:"Additional notes",notesPlaceholder:"Any other observations...",removeButton:"Remove",expandButton:"Add details",collapseButton:"Hide details",validation:{confidenceRequired:"Please select your confidence level",frequencyNegative:"Frequency must be 0 or greater",onsetNegative:"Onset time must be 0 or greater"}},Pm=["sleep_loss","pressure_drop","dehydration","screen_time","stress_overload","skipped_meal","humidity_spike","temperature_swing","poor_air_quality","bright_light","loud_noise","strong_odor","travel_jetlag","alcohol","caffeine_change"];function Mm({initialValue:t,onBack:r,onSubmit:s}){const[n,i]=k.useState({migraineHistoryYears:t?.migraineHistoryYears??0,age:t?.age??0,weightKg:t?.weightKg,bmi:t?.bmi}),[a,d]=k.useState(!1),[h,c]=k.useState(null),[l,p]=k.useState(new Set),[f,b]=k.useState(new Map),[w,x]=k.useState(new Set),g=5;k.useEffect(()=>{(async()=>{try{const P=await Se.getTriggerHypotheses(),E=new Set,L=new Map;P.forEach($=>{$.key in je.triggers&&(E.add($.key),L.set($.key,$))}),p(E),b(L)}catch(P){console.error("Failed to load trigger hypotheses:",P)}})()},[]);const v=(C,P)=>{i(E=>({...E,[C]:P}))},N=C=>{p(P=>{const E=new Set(P);if(E.has(C))E.delete(C),b(L=>{const $=new Map(L);return $.delete(C),$}),x(L=>{const $=new Set(L);return $.delete(C),$});else{if(E.size>=g)return c(je.maxReachedWarning),setTimeout(()=>c(null),3e3),P;E.add(C),b(L=>{const $=new Map(L);return $.set(C,{confidence:.5}),$})}return E})},j=(C,P,E)=>{b(L=>{const $=new Map(L),R=$.get(C)||{};return $.set(C,{...R,[P]:E}),$})},_=C=>{x(P=>{const E=new Set(P);return E.has(C)?E.delete(C):E.add(C),E})},I=async C=>{const P=f.get(C);if(!(!P||P.confidence===void 0))try{const E={id:`trigger_${C}_${Date.now()}`,key:C,label:je.triggers[C],confidence:P.confidence,freqPerMonth:P.freqPerMonth,threshold:P.threshold,onsetWindowHours:P.onsetWindowHours,helps:P.helps,notes:P.notes};await Se.saveTriggerHypothesis(E)}catch(E){console.error("Failed to save trigger hypothesis:",E)}},M=async C=>{if(C.preventDefault(),c(null),!n.migraineHistoryYears||n.migraineHistoryYears<0){c("Please enter how many years you have had migraines (minimum 0).");return}if(n.migraineHistoryYears>100){c("Please enter a valid number of years (maximum 100).");return}if(!n.age||n.age<0){c("Please enter your age (minimum 0).");return}if(n.age>120){c("Please enter a valid age (maximum 120).");return}if(n.weightKg!==void 0&&n.weightKg<0){c("Weight must be a positive number.");return}if(n.bmi!==void 0&&(n.bmi<0||n.bmi>100)){c("Please enter a valid BMI (0-100).");return}for(const P of l){const E=f.get(P);if(!E||E.confidence===void 0){c(`${je.triggers[P]}: ${je.validation.confidenceRequired}`);return}if(E.freqPerMonth!==void 0&&E.freqPerMonth<0){c(`${je.triggers[P]}: ${je.validation.frequencyNegative}`);return}if(E.onsetWindowHours!==void 0&&E.onsetWindowHours<0){c(`${je.triggers[P]}: ${je.validation.onsetNegative}`);return}}try{d(!0);for(const E of l)await I(E);const P=await Se.getTriggerHypotheses();for(const E of P)l.has(E.key)||await Se.deleteTriggerHypothesis(E.id);await s(n)}catch(P){console.error(P),c("Something went wrong while saving your details. Please try again."),d(!1)}};return e.jsxs("form",{onSubmit:M,className:"max-w-md mx-auto space-y-6 pb-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("h1",{className:"text-h1",children:"Tell us about your migraine history"}),e.jsx("p",{className:"text-body text-muted-foreground",children:"A few details about you help Ease personalize your migraine risk predictions."})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(Te,{htmlFor:"migraineHistoryYears",className:"text-body font-medium",children:"How many years have you had migraines?"}),e.jsx(Ge,{id:"migraineHistoryYears",type:"number",min:0,max:100,inputMode:"numeric",placeholder:"0",className:"h-12 text-base",style:{borderRadius:"12px"},value:n.migraineHistoryYears||"",onChange:C=>v("migraineHistoryYears",Number(C.target.value)||0)})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Te,{htmlFor:"age",className:"text-body font-medium",children:"Age"}),e.jsx(Ge,{id:"age",type:"number",min:0,max:120,inputMode:"numeric",placeholder:"0",className:"h-12 text-base",style:{borderRadius:"12px"},value:n.age||"",onChange:C=>v("age",Number(C.target.value)||0)})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(Te,{htmlFor:"weightKg",className:"text-label",children:"Weight (kg, optional)"}),e.jsx(Ge,{id:"weightKg",type:"number",min:0,max:500,step:"0.1",inputMode:"decimal",placeholder:"Optional",className:"h-12 text-base",style:{borderRadius:"12px"},value:n.weightKg?.toString()??"",onChange:C=>v("weightKg",C.target.value?Number(C.target.value):void 0)})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Te,{htmlFor:"bmi",className:"text-label",children:"BMI (optional)"}),e.jsx(Ge,{id:"bmi",type:"number",min:0,max:100,step:"0.1",inputMode:"decimal",placeholder:"Optional",className:"h-12 text-base",style:{borderRadius:"12px"},value:n.bmi?.toString()??"",onChange:C=>v("bmi",C.target.value?Number(C.target.value):void 0)})]})]}),e.jsxs("div",{className:"space-y-4 pt-4 border-t border-border",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("h2",{className:"text-h3 font-semibold",children:je.sectionTitle}),e.jsx("p",{className:"text-sm text-muted-foreground",children:je.sectionDescription}),e.jsx("p",{className:"text-sm font-medium text-primary",children:je.selectedCounter(l.size,g)})]}),e.jsx("div",{className:"flex flex-wrap gap-2",children:Pm.map(C=>e.jsx("button",{type:"button",onClick:()=>N(C),className:`px-3 py-2 rounded-lg text-sm font-medium transition-colors ${l.has(C)?"bg-primary text-primary-foreground":"bg-secondary text-secondary-foreground hover:bg-secondary/80"}`,style:{borderRadius:"8px"},children:je.triggers[C]},C))}),Array.from(l).map(C=>{const P=f.get(C)||{},E=w.has(C);return e.jsxs("div",{className:"border border-border rounded-xl p-4 space-y-3",style:{borderRadius:"12px"},children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"font-semibold text-base",children:je.triggers[C]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{type:"button",onClick:()=>_(C),className:"text-sm text-primary hover:text-primary/80 flex items-center gap-1",children:E?e.jsxs(e.Fragment,{children:[je.collapseButton,e.jsx(Ji,{className:"h-4 w-4"})]}):e.jsxs(e.Fragment,{children:[je.expandButton,e.jsx(Gr,{className:"h-4 w-4"})]})}),e.jsx("button",{type:"button",onClick:()=>N(C),className:"text-sm text-critical hover:text-critical/80 flex items-center gap-1",children:e.jsx(lt,{className:"h-4 w-4"})})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Te,{className:"text-sm font-medium",children:je.confidenceLabel}),e.jsx("div",{className:"flex gap-2",children:je.confidenceOptions.map(L=>e.jsx("button",{type:"button",onClick:()=>j(C,"confidence",L.value),onBlur:()=>I(C),className:`flex-1 px-3 py-2 rounded-lg text-sm font-medium transition-colors ${P.confidence===L.value?"bg-primary text-primary-foreground":"bg-secondary text-secondary-foreground hover:bg-secondary/80"}`,style:{borderRadius:"8px"},children:L.label},L.value))})]}),E&&e.jsxs("div",{className:"space-y-3 pt-2",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(Te,{htmlFor:`freq-${C}`,className:"text-sm",children:je.frequencyLabel}),e.jsx(Ge,{id:`freq-${C}`,type:"number",min:0,step:"0.1",inputMode:"decimal",placeholder:je.frequencyPlaceholder,className:"h-10 text-sm",style:{borderRadius:"8px"},value:P.freqPerMonth?.toString()??"",onChange:L=>j(C,"freqPerMonth",L.target.value?Number(L.target.value):void 0),onBlur:()=>I(C)})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Te,{htmlFor:`threshold-${C}`,className:"text-sm",children:je.thresholdLabel}),e.jsx(Ge,{id:`threshold-${C}`,type:"text",placeholder:je.thresholdPlaceholder,className:"h-10 text-sm",style:{borderRadius:"8px"},value:P.threshold??"",onChange:L=>j(C,"threshold",L.target.value),onBlur:()=>I(C)})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Te,{htmlFor:`onset-${C}`,className:"text-sm",children:je.onsetWindowLabel}),e.jsx(Ge,{id:`onset-${C}`,type:"number",min:0,step:"0.5",inputMode:"decimal",placeholder:je.onsetWindowPlaceholder,className:"h-10 text-sm",style:{borderRadius:"8px"},value:P.onsetWindowHours?.toString()??"",onChange:L=>j(C,"onsetWindowHours",L.target.value?Number(L.target.value):void 0),onBlur:()=>I(C)})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Te,{htmlFor:`helps-${C}`,className:"text-sm",children:je.helpsLabel}),e.jsx(Ge,{id:`helps-${C}`,type:"text",placeholder:je.helpsPlaceholder,className:"h-10 text-sm",style:{borderRadius:"8px"},value:P.helps??"",onChange:L=>j(C,"helps",L.target.value),onBlur:()=>I(C)})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Te,{htmlFor:`notes-${C}`,className:"text-sm",children:je.notesLabel}),e.jsx(Ge,{id:`notes-${C}`,type:"text",placeholder:je.notesPlaceholder,className:"h-10 text-sm",style:{borderRadius:"8px"},value:P.notes??"",onChange:L=>j(C,"notes",L.target.value),onBlur:()=>I(C)})]})]})]},C)})]})]}),h&&e.jsx("div",{className:"p-4 rounded-xl bg-critical/10 border border-critical/20",style:{borderRadius:"12px"},role:"alert",children:e.jsx("p",{className:"text-sm text-critical font-medium",children:h})}),e.jsxs("div",{className:"flex gap-3 pt-4",children:[e.jsx(fe,{type:"button",variant:"outline",onClick:r,className:"flex-1 h-12 text-base",style:{borderRadius:"12px"},disabled:a,children:"Back"}),e.jsx(fe,{type:"submit",className:"flex-1 h-12 text-base",style:{borderRadius:"12px"},disabled:a,children:a?"Saving":"Get started"})]})]})}function Hi(){const[t,r]=k.useState(!1),[s,n]=k.useState(null),[i,a]=k.useState(!1);k.useEffect(()=>{Se.getSetting("has_seen_onboarding").then(L=>{a(L==="true")})},[]);const[d,h]=k.useState(()=>i?"home":"onboarding-1"),[c,l]=k.useState(1),{updateRiskWithQuickCheck:p}=Dl(),[f,b]=k.useState(7);k.useEffect(()=>{Se.getSetting("streak_count").then(L=>{L&&b(parseInt(L,10))})},[]);const[w,x]=k.useState({hrv:!0,sleep:!1,calendar:!0,weather:!1,screenTime:!1}),[g,v]=k.useState({appleHealth:{connected:!0,lastSync:"2 min ago"},fitbit:{connected:!1,lastSync:void 0},garmin:{connected:!0,lastSync:"1 hour ago"},oura:{connected:!1,lastSync:void 0},whoop:{connected:!1,lastSync:void 0}}),[N,j]=k.useState(null),_=L=>$=>{x(R=>({...R,[L]:$}))},I=()=>w.hrv||w.sleep||w.calendar,M=()=>Object.values(g).some(L=>L.connected);d.startsWith("onboarding");const C=()=>{d==="onboarding-1"?h("onboarding-2"):d==="onboarding-2"?h("onboarding-3"):d==="onboarding-3"&&h("onboarding-4")},P=()=>{Se.setSetting("has_seen_onboarding","true"),h("home")},E=()=>{c<3?(l(3),h("onboarding-3")):P()};return e.jsxs("div",{className:`min-h-screen bg-background flex flex-col ${t?"low-stimulation":""}`,children:[d==="onboarding-1"&&e.jsxs(e.Fragment,{children:[e.jsx("header",{className:"px-6 pt-6 pb-4",children:e.jsx("div",{className:"max-w-md mx-auto",children:e.jsx(xs,{currentStep:1,totalSteps:4})})}),e.jsx("main",{className:"flex-1 px-6 pb-6",children:e.jsxs("div",{className:"max-w-md mx-auto space-y-6",children:[e.jsxs("div",{className:"text-center space-y-4 pt-8 pb-6",children:[e.jsx("h1",{className:"text-display",children:"Ease UI v0.1"}),e.jsx("p",{className:"text-body text-muted-foreground max-w-sm mx-auto",children:"Predict and prevent migraines with personalized risk estimates based on your unique patterns."})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"p-4 rounded-xl bg-card border border-border",style:{borderRadius:"12px"},children:e.jsxs("div",{className:"flex gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-primary/10 flex items-center justify-center flex-shrink-0",children:e.jsx(tt,{className:"w-5 h-5 text-primary"})}),e.jsxs("div",{className:"flex-1 space-y-1",children:[e.jsx("h3",{className:"text-body",children:"Early warnings"}),e.jsx("p",{className:"text-label text-muted-foreground",children:"Get alerts hours before risk peaks"})]})]})}),e.jsx("div",{className:"p-4 rounded-xl bg-card border border-border",style:{borderRadius:"12px"},children:e.jsxs("div",{className:"flex gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-accent/10 flex items-center justify-center flex-shrink-0",children:e.jsx(Pn,{className:"w-5 h-5 text-accent"})}),e.jsxs("div",{className:"flex-1 space-y-1",children:[e.jsx("h3",{className:"text-body",children:"Learn what helps"}),e.jsx("p",{className:"text-label text-muted-foreground",children:"Discover your unique triggers and protective factors"})]})]})}),e.jsx("div",{className:"p-4 rounded-xl bg-card border border-border",style:{borderRadius:"12px"},children:e.jsxs("div",{className:"flex gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-success/10 flex items-center justify-center flex-shrink-0",children:e.jsx(xt,{className:"w-5 h-5 text-success"})}),e.jsxs("div",{className:"flex-1 space-y-1",children:[e.jsx("h3",{className:"text-body",children:"Private and secure"}),e.jsx("p",{className:"text-label text-muted-foreground",children:"On-device processing. You control your data."})]})]})})]}),e.jsxs("div",{className:"pt-4 space-y-3",children:[e.jsx(fe,{onClick:C,className:"w-full h-12",style:{borderRadius:"12px"},children:"Get started"}),e.jsx("div",{className:"text-center",children:e.jsx("button",{onClick:E,className:"text-label text-muted-foreground hover:text-foreground transition-colors p-2",style:{minHeight:"44px"},children:"Skip"})})]})]})})]}),d==="onboarding-2"&&e.jsxs(e.Fragment,{children:[e.jsx("header",{className:"px-6 pt-6 pb-4",children:e.jsx("div",{className:"max-w-md mx-auto",children:e.jsx(xs,{currentStep:2,totalSteps:4})})}),e.jsx("main",{className:"flex-1 px-6 pb-6 overflow-y-auto",children:e.jsxs("div",{className:"max-w-md mx-auto space-y-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("h1",{className:"text-h1",children:"What data helps?"}),e.jsx("p",{className:"text-body text-muted-foreground",children:"Select the data sources you'd like to connect. The more data, the better Ease can learn your patterns."})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(Rr,{icon:tt,title:"Heart rate variability",description:"Stress and recovery tracking",iconBgColor:"bg-primary/10",iconColor:"text-primary"}),e.jsx(Rr,{icon:xt,title:"Sleep patterns",description:"Sleep quality and duration tracking",iconBgColor:"bg-accent/10",iconColor:"text-accent"}),e.jsx(Rr,{icon:vs,title:"Screen time",description:"Daily device usage patterns",iconBgColor:"bg-success/10",iconColor:"text-success"}),e.jsx(Rr,{icon:$e,title:"Calendar events",description:"Detect stress patterns from your schedule",iconBgColor:"bg-warning/10",iconColor:"text-warning"}),e.jsx(Rr,{icon:ys,title:"Location and weather",description:"Temperature, pressure, and air quality",iconBgColor:"bg-critical/10",iconColor:"text-critical"})]}),e.jsxs("div",{className:"p-4 rounded-xl bg-muted border border-border space-y-2",style:{borderRadius:"12px"},children:[e.jsxs("h3",{className:"text-body flex items-center gap-2",children:[e.jsx("span",{className:"text-success",children:""}),"Private and secure"]}),e.jsxs("ul",{className:"space-y-1 text-label text-muted-foreground ml-4",children:[e.jsx("li",{children:" On-device processing where possible"}),e.jsx("li",{children:" You control what data is shared"}),e.jsx("li",{children:" Delete your data anytime"})]})]}),e.jsxs("div",{className:"pt-2 space-y-3",children:[e.jsx(fe,{onClick:C,className:"w-full h-12",style:{borderRadius:"12px"},children:"Choose data sources"}),e.jsx("div",{className:"text-center",children:e.jsx("button",{onClick:E,className:"text-label text-muted-foreground hover:text-foreground transition-colors p-2",style:{minHeight:"44px"},children:"Skip"})})]})]})})]}),d==="onboarding-3"&&e.jsxs(e.Fragment,{children:[e.jsx("header",{className:"px-6 pt-6 pb-4",children:e.jsx("div",{className:"max-w-md mx-auto",children:e.jsx(xs,{currentStep:3,totalSteps:4})})}),e.jsx("main",{className:"flex-1 px-6 pb-6 overflow-y-auto",children:e.jsxs("div",{className:"max-w-md mx-auto space-y-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("h1",{className:"text-h1",children:"Your permissions"}),e.jsx("p",{className:"text-body text-muted-foreground",children:"Choose which data Ease can access. You can change these anytime in settings."})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(Ar,{icon:tt,label:"Heart rate variability",description:"Stress and recovery patterns",checked:w.hrv,onCheckedChange:_("hrv"),required:!0}),e.jsx(Ar,{icon:xt,label:"Sleep patterns",description:"Sleep quality and duration",checked:w.sleep,onCheckedChange:_("sleep"),required:!0}),e.jsx(Ar,{icon:$e,label:"Calendar events",description:"Identify stress from your schedule",checked:w.calendar,onCheckedChange:_("calendar"),required:!0}),e.jsx(Ar,{icon:ys,label:"Location and weather",description:"Temperature, pressure, air quality",checked:w.weather,onCheckedChange:_("weather")}),e.jsx(Ar,{icon:vs,label:"Screen time",description:"Device usage patterns",checked:w.screenTime,onCheckedChange:_("screenTime")})]}),e.jsx("div",{className:"p-4 rounded-xl bg-muted border border-border space-y-2",style:{borderRadius:"12px"},children:e.jsxs("p",{className:"text-label text-muted-foreground",children:[e.jsx("strong",{children:"Note:"})," At least one of Heart rate variability, Sleep patterns, or Calendar events is required for Ease to provide predictions."]})}),e.jsx("div",{className:"pt-2",children:e.jsx(fe,{onClick:C,disabled:!I(),className:"w-full h-12",style:{borderRadius:"12px"},children:"Continue"})})]})})]}),d==="onboarding-4"&&e.jsxs(e.Fragment,{children:[e.jsx("header",{className:"px-6 pt-6 pb-4",children:e.jsx("div",{className:"max-w-md mx-auto",children:e.jsx(xs,{currentStep:4,totalSteps:4})})}),e.jsx("main",{className:"flex-1 px-6 pb-6 overflow-y-auto",children:e.jsx(Mm,{initialValue:N||void 0,onBack:()=>h("onboarding-3"),onSubmit:async L=>{await Se.savePersonalMigraineProfile(L),j(L),h("home")}})})]}),d==="connect-devices"&&e.jsx("main",{className:"flex-1 px-6 pt-6 pb-6 overflow-y-auto",children:e.jsxs("div",{className:"max-w-md mx-auto space-y-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("h1",{className:"text-h1",children:"Connect devices"}),e.jsx("p",{className:"text-body text-muted-foreground",children:"Connect your health devices to start tracking patterns."})]}),e.jsx("div",{className:"p-4 rounded-xl bg-accent/5 border border-accent/20 space-y-2",style:{borderRadius:"12px"},children:e.jsxs("div",{className:"flex gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-accent/10 flex items-center justify-center flex-shrink-0",children:e.jsx(tt,{className:"w-5 h-5 text-accent"})}),e.jsxs("div",{className:"flex-1 space-y-1",children:[e.jsx("h3",{className:"text-body",children:"Why connect devices?"}),e.jsx("p",{className:"text-label text-muted-foreground",children:"HRV and sleep data are strong predictors of migraine onset. Connecting your devices helps Ease learn your unique patterns and provide early warnings."})]})]})}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(Pr,{icon:Pn,name:"Apple Health / Google Fit",status:g.appleHealth.connected?"connected":"not-connected",lastSync:g.appleHealth.lastSync,onManageClick:()=>{},onConnectClick:()=>{v(L=>({...L,appleHealth:{connected:!0,lastSync:"Just now"}}))}}),e.jsx(Pr,{icon:tt,name:"Fitbit",status:g.fitbit.connected?"connected":"not-connected",lastSync:g.fitbit.lastSync,onManageClick:()=>{},onConnectClick:()=>{v(L=>({...L,fitbit:{connected:!0,lastSync:"Just now"}}))}}),e.jsx(Pr,{icon:Rd,name:"Garmin",status:g.garmin.connected?"connected":"not-connected",lastSync:g.garmin.lastSync,onManageClick:()=>{},onConnectClick:()=>{v(L=>({...L,garmin:{connected:!0,lastSync:"Just now"}}))}}),e.jsx(Pr,{icon:xt,name:"Oura Ring",status:g.oura.connected?"connected":"not-connected",lastSync:g.oura.lastSync,onManageClick:()=>{},onConnectClick:()=>{v(L=>({...L,oura:{connected:!0,lastSync:"Just now"}}))}}),e.jsx(Pr,{icon:ks,name:"WHOOP",status:g.whoop.connected?"connected":"not-connected",lastSync:g.whoop.lastSync,onManageClick:()=>{},onConnectClick:()=>{v(L=>({...L,whoop:{connected:!0,lastSync:"Just now"}}))}})]}),e.jsxs("div",{className:"pt-2 space-y-3",children:[e.jsx(fe,{onClick:P,disabled:!M(),className:"w-full h-12",style:{borderRadius:"12px"},children:"Continue"}),e.jsx("div",{className:"text-center",children:e.jsx("button",{onClick:P,className:"text-label text-muted-foreground hover:text-foreground transition-colors underline p-2",style:{minHeight:"44px"},children:"Skip for now"})})]})]})}),d.startsWith("quick-check")&&e.jsx(Mp,{onComplete:async L=>{await p(L);const $=f+1;b($),Se.setSetting("streak_count",$.toString()),h("home")},onBack:()=>h("home"),streakCount:f}),d==="diary"&&e.jsx(Up,{onBack:()=>h("home"),onNavigate:L=>h(L),onExportPDF:()=>h("share-with-clinician")}),d==="profile"&&e.jsx(_m,{onBack:()=>h("home"),onNavigate:L=>h(L),onDevicesClick:()=>h("connect-devices")}),d==="insights"&&e.jsx(Cm,{onBack:()=>h("home"),onNavigate:L=>h(L)}),d==="soothe-mode"&&(s?e.jsx(Am,{onClose:()=>h("home"),riskVariables:s.riskVariables,riskPercentage:s.riskPercentage}):e.jsx("div",{className:"flex items-center justify-center min-h-screen bg-background",children:e.jsx("p",{className:"text-body text-muted-foreground",children:"Loading personalized instructions..."})})),d==="home"&&e.jsxs(e.Fragment,{children:[e.jsx(Li,{onQuickCheckClick:()=>h("quick-check"),onInsightsClick:()=>h("insights"),onSootheModeClick:(L,$)=>{n({riskVariables:L,riskPercentage:$}),h("soothe-mode")},lowStimulationMode:t}),e.jsx(Ur,{activeTab:"home",onNavigate:L=>h(L)})]}),d==="home-low-stimulation"&&e.jsxs(e.Fragment,{children:[e.jsx(Li,{onQuickCheckClick:()=>h("quick-check"),onInsightsClick:()=>h("insights"),onSootheModeClick:(L,$)=>{n({riskVariables:L,riskPercentage:$}),h("soothe-mode")},lowStimulationMode:!0}),e.jsx(Ur,{activeTab:"home",onNavigate:L=>h(L)})]})]})}async function Im(){try{if(await Se.getSetting("migration_completed")==="true")return;console.log("Migrating localStorage to SQLite...");const r=localStorage.getItem("ease_has_seen_onboarding");r&&await Se.setSetting("has_seen_onboarding",r);const s=localStorage.getItem("ease_streak_count");s&&await Se.setSetting("streak_count",s);const n=localStorage.getItem("ease_user_timeline");if(n)try{const a=JSON.parse(n);for(const[d,h]of a)for(const c of h)await Se.addTimelineEntry(d,c.type,c.data)}catch(a){console.error("Failed to migrate timeline:",a)}const i=localStorage.getItem("ease_experiment_hydration");if(i)try{const a=JSON.parse(i);for(let d=0;d<a.length;d++)a[d]&&await Se.setExperimentDay("hydration",d,!0)}catch(a){console.error("Failed to migrate experiments:",a)}await Se.setSetting("migration_completed","true"),console.log("Migration to SQLite completed successfully!")}catch(t){console.error("Migration failed:",t)}}Promise.all([Im(),y2.initSchema()]).then(()=>{Jo.createRoot(document.getElementById("root")).render(e.jsx(Hi,{}))}).catch(t=>{console.error("Failed to initialize app:",t),Jo.createRoot(document.getElementById("root")).render(e.jsx(Hi,{}))});
