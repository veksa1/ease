### ğŸ“ˆ `008_visualize_daily_rolling_risk.md`

# ğŸ“ˆ Ticket 008 â€“ Daily Rolling Risk Curves (24-hour Windows)

**Date:** 2025-11-15
**Owner:** Data Viz / ML
**Status:** ğŸ”§ To Do
**Goal:** Produce **daily** rolling migraine risk curves from hourly data (window = last 24 h), annotated with top-k queried hours.

---

## ğŸ¯ Objective

For each day (D), compute ( \hat{p}_{D} = \mathbb{E}[\text{migraine on } D+1 | \text{hours in } D]).
Render a clean curve with markers for policy-selected hours.

---

## ğŸ“‚ Inputs

| File                                  | Description       |
| ------------------------------------- | ----------------- |
| `notebooks/rolling_risk_curves.ipynb` | Plotting notebook |
| `runs/checkpoints/best.pt`            | Trained model     |
| `data/simulated_eval.csv`             | Evaluation split  |

---

## ğŸ§© Tasks

1. Build a helper to slice hourly â†’ 24-hour windows per day.
2. Inference â†’ ( \mu_Z, \Sigma_Z ) â†’ (\hat{p}).
3. Plot: daily curve with shaded uncertainty; overlay top-k hours (Ticket 007).
4. Export PNG/SVG for the UI team.

---

## ğŸ§  Integration

* Curves validate model behavior; the same routine powers FastAPI `/risk/daily` (Ticket 010).

---

## âœ… Deliverables

* [ ] Notebook with saved figures under `artifacts/rolling_curves/`.
* [ ] Helper `viz/rolling.py`.

---

> *â€œMake uncertainty visibleâ€”then it becomes useful.â€*

---
